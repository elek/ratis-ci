2019-09-26 13:34:49,431 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:34:49,435 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:34:49,444 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:<init>(65)) - Set LogStateMachine OK
2019-09-26 13:34:49,528 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383]
2019-09-26 13:34:49,529 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:34:49,529 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:34:49,529 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-26 13:34:49,529 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:34:49,530 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:34:49,530 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:34:49,541 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], format? true
2019-09-26 13:34:49,543 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0
2019-09-26 13:34:49,551 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0 does not exist.
2019-09-26 13:34:49,552 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0
2019-09-26 13:34:49,571 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:49,657 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 36982 (custom)
2019-09-26 13:34:49,765 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0] (custom)
2019-09-26 13:34:49,766 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2] REGISTERED
2019-09-26 13:34:49,768 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2] BIND: 0.0.0.0/0.0.0.0:36982
2019-09-26 13:34:49,771 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] ACTIVE
2019-09-26 13:34:49,776 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383] returns group-FAAEA0267428:java.util.concurrent.CompletableFuture@569a617b[Not completed]
2019-09-26 13:34:49,778 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], format? true
2019-09-26 13:34:49,778 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1
2019-09-26 13:34:49,779 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1 does not exist.
2019-09-26 13:34:49,779 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1
2019-09-26 13:34:49,780 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:49,783 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 37559 (custom)
2019-09-26 13:34:49,784 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1] (custom)
2019-09-26 13:34:49,784 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4] REGISTERED
2019-09-26 13:34:49,785 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383] returns group-FAAEA0267428:java.util.concurrent.CompletableFuture@66a46789[Not completed]
2019-09-26 13:34:49,785 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4] BIND: 0.0.0.0/0.0.0.0:37559
2019-09-26 13:34:49,786 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4, L:/0.0.0.0:37559] ACTIVE
2019-09-26 13:34:49,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], format? true
2019-09-26 13:34:49,787 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2
2019-09-26 13:34:49,787 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2 does not exist.
2019-09-26 13:34:49,787 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383] with LogStateMachine:uninitialized
2019-09-26 13:34:49,787 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383] with LogStateMachine:uninitialized
2019-09-26 13:34:49,787 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2
2019-09-26 13:34:49,789 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:49,791 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 42383 (custom)
2019-09-26 13:34:49,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2] (custom)
2019-09-26 13:34:49,793 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1] REGISTERED
2019-09-26 13:34:49,794 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383] returns group-FAAEA0267428:java.util.concurrent.CompletableFuture@7730531a[Not completed]
2019-09-26 13:34:49,794 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1] BIND: 0.0.0.0/0.0.0.0:42383
2019-09-26 13:34:49,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:49,794 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-FAAEA0267428:[s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383] with LogStateMachine:uninitialized
2019-09-26 13:34:49,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:49,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:49,794 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] ACTIVE
2019-09-26 13:34:49,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:49,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:49,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:49,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:49,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:49,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:49,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:49,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:49,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:49,800 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:49,800 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:49,800 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:49,807 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-FAAEA0267428: ConfigurationManager, init=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:49,807 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-FAAEA0267428: ConfigurationManager, init=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:49,807 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-FAAEA0267428: ConfigurationManager, init=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:49,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0] (custom)
2019-09-26 13:34:49,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2] (custom)
2019-09-26 13:34:49,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1] (custom)
2019-09-26 13:34:49,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:49,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:49,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:49,819 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428 does not exist. Creating ...
2019-09-26 13:34:49,819 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428 does not exist. Creating ...
2019-09-26 13:34:49,819 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428 does not exist. Creating ...
2019-09-26 13:34:49,821 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428
2019-09-26 13:34:49,822 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428
2019-09-26 13:34:49,822 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428
2019-09-26 13:34:49,859 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:49,859 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:49,859 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:49,861 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428/current
2019-09-26 13:34:49,861 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428/current
2019-09-26 13:34:49,861 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428/current
2019-09-26 13:34:49,861 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428/sm
2019-09-26 13:34:49,861 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428/sm
2019-09-26 13:34:49,861 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428/sm
2019-09-26 13:34:49,878 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428 has been successfully formatted.
2019-09-26 13:34:49,878 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428 has been successfully formatted.
2019-09-26 13:34:49,878 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428 has been successfully formatted.
2019-09-26 13:34:50,051 INFO  beanutils.FluentPropertyBeanIntrospector (FluentPropertyBeanIntrospector.java:introspect(147)) - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2019-09-26 13:34:50,091 INFO  impl.MetricsConfig (MetricsConfig.java:loadFirst(121)) - loaded properties from hadoop-metrics2.properties
2019-09-26 13:34:50,113 INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink file started
2019-09-26 13:34:50,141 WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:configureSinks(508)) - Error creating sink 'graphite'
org.apache.hadoop.metrics2.impl.MetricsConfigException: Error creating plugin: org.apache.hadoop.metrics2.sink.GraphiteSink
	at org.apache.hadoop.metrics2.impl.MetricsConfig.getPlugin(MetricsConfig.java:211)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.newSink(MetricsSystemImpl.java:531)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.configureSinks(MetricsSystemImpl.java:503)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.configure(MetricsSystemImpl.java:479)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.start(MetricsSystemImpl.java:188)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.init(MetricsSystemImpl.java:163)
	at org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.init(DefaultMetricsSystem.java:62)
	at org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.initialize(DefaultMetricsSystem.java:58)
	at org.apache.ratis.metrics.MetricsReporting.<clinit>(MetricsReporting.java:42)
	at org.apache.ratis.logservice.metrics.LogServiceMetricsRegistry.<clinit>(LogServiceMetricsRegistry.java:35)
	at org.apache.ratis.logservice.server.LogStateMachine.initialize(LogStateMachine.java:162)
	at org.apache.ratis.server.impl.ServerState.initStatemachine(ServerState.java:160)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:110)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$2(RaftServerProxy.java:208)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.metrics2.MetricsException: Error creating connection, graphite.logservice.ratis.org:2003
	at org.apache.hadoop.metrics2.sink.GraphiteSink$Graphite.connect(GraphiteSink.java:162)
	at org.apache.hadoop.metrics2.sink.GraphiteSink.init(GraphiteSink.java:65)
	at org.apache.hadoop.metrics2.impl.MetricsConfig.getPlugin(MetricsConfig.java:208)
	... 18 more
Caused by: java.net.UnknownHostException: graphite.logservice.ratis.org
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.apache.hadoop.metrics2.sink.GraphiteSink$Graphite.connect(GraphiteSink.java:153)
	... 20 more
2019-09-26 13:34:50,228 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-26 13:34:50,228 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - ratis metrics system started
2019-09-26 13:34:50,235 INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-09-26 13:34:50,265 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:50,265 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:50,266 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:50,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:50,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:50,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:50,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:50,269 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:50,270 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:50,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:50,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:50,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:50,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:50,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:50,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:50,278 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:50,278 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:50,278 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:50,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:50,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:50,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:50,287 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-FAAEA0267428-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428
2019-09-26 13:34:50,287 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-FAAEA0267428-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428
2019-09-26 13:34:50,287 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-FAAEA0267428-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428
2019-09-26 13:34:50,304 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:50,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:50,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:50,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:50,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:50,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:50,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:50,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:50,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:50,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:50,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:50,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:50,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:50,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:50,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:50,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:50,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:50,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:50,311 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:50,311 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:50,311 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:50,312 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:50,311 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:50,312 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:50,312 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:50,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:50,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:50,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:50,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:50,314 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:50,318 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-FAAEA0267428-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:50,318 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-FAAEA0267428-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:50,318 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-FAAEA0267428-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:50,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:50,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:50,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:50,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:50,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:50,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:50,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:50,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:50,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:50,349 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-FAAEA0267428: start as a follower, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,351 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FAAEA0267428: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:50,352 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:50,354 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FAAEA0267428,id=s0
2019-09-26 13:34:50,361 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:34:50,361 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-FAAEA0267428: start as a follower, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,361 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FAAEA0267428: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:50,362 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:50,362 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FAAEA0267428,id=s1
2019-09-26 13:34:50,366 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:34:50,366 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-FAAEA0267428: start as a follower, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,367 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FAAEA0267428: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:50,367 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:50,367 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FAAEA0267428,id=s2
2019-09-26 13:34:50,371 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:34:50,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:50,376 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
2019-09-26 13:34:50,380 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FAAEA0267428:t0, leader=null, voted=null, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.logservice.LogServiceReadWriteBase.setUpCluster(LogServiceReadWriteBase.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:34:50,519 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-FAAEA0267428-FollowerState: change to CANDIDATE, lastRpcTime:157ms, electionTimeout:157ms
2019-09-26 13:34:50,521 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:50,522 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FAAEA0267428: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:50,525 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 13:34:50,541 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-FAAEA0267428-LeaderElection1: begin an election at term 1 for -1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,687 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-FAAEA0267428-FollowerState: change to CANDIDATE, lastRpcTime:336ms, electionTimeout:254ms
2019-09-26 13:34:50,687 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-FAAEA0267428-FollowerState: change to CANDIDATE, lastRpcTime:320ms, electionTimeout:248ms
2019-09-26 13:34:50,688 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:50,688 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:50,689 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FAAEA0267428: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:50,689 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FAAEA0267428: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:50,689 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:34:50,689 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:34:50,703 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-FAAEA0267428-LeaderElection3: begin an election at term 1 for -1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,703 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-FAAEA0267428-LeaderElection2: begin an election at term 1 for -1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,742 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] READ: [id: 0x2b00688c, L:/192.168.164.227:36982 - R:/192.168.164.227:60760]
2019-09-26 13:34:50,742 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4, L:/0.0.0.0:37559] READ: [id: 0x9a12af31, L:/192.168.164.227:37559 - R:/192.168.164.227:42168]
2019-09-26 13:34:50,742 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] READ: [id: 0x83f55e7a, L:/192.168.164.227:42383 - R:/192.168.164.227:51302]
2019-09-26 13:34:50,743 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] READ COMPLETE
2019-09-26 13:34:50,743 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] READ COMPLETE
2019-09-26 13:34:50,743 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4, L:/0.0.0.0:37559] READ COMPLETE
2019-09-26 13:34:50,743 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] READ: [id: 0xbce2441a, L:/192.168.164.227:36982 - R:/192.168.164.227:60770]
2019-09-26 13:34:50,743 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4, L:/0.0.0.0:37559] READ: [id: 0x4787b11a, L:/192.168.164.227:37559 - R:/192.168.164.227:42174]
2019-09-26 13:34:50,743 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] READ: [id: 0xd7944c86, L:/192.168.164.227:42383 - R:/192.168.164.227:51303]
2019-09-26 13:34:50,744 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4, L:/0.0.0.0:37559] READ COMPLETE
2019-09-26 13:34:50,744 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] READ COMPLETE
2019-09-26 13:34:50,744 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] READ COMPLETE
2019-09-26 13:34:50,784 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-FAAEA0267428-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-FAAEA0267428:t1, leader=null, voted=s1, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,798 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-FAAEA0267428-LeaderElection1: begin an election at term 2 for -1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,808 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FAAEA0267428: changes role from CANDIDATE to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 13:34:50,808 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-FAAEA0267428-LeaderElection2: Election DISCOVERED_A_NEW_TERM; received 2 response(s) [s0<-s1#0:FAIL-t2, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-FAAEA0267428:t2, leader=null, voted=null, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,808 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-FAAEA0267428-LeaderElection3: Election DISCOVERED_A_NEW_TERM; received 1 response(s) [s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-FAAEA0267428:t2, leader=null, voted=null, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,808 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FAAEA0267428: changes role from CANDIDATE to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 13:34:50,808 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:34:50,808 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:34:50,809 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:50,809 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:50,823 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-FAAEA0267428-LeaderElection1: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t2, s1<-s2#0:FAIL-t2] and 0 exception(s); s1@group-FAAEA0267428:t2, leader=null, voted=s1, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,824 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FAAEA0267428: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:50,824 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 13:34:50,824 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:50,831 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FAAEA0267428:t2, leader=null, voted=null, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FAAEA0267428:t2, leader=null, voted=s1, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FAAEA0267428:t2, leader=null, voted=null, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FAAEA0267428:t2, leader=null, voted=null, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FAAEA0267428:t2, leader=null, voted=s1, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FAAEA0267428:t2, leader=null, voted=null, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.logservice.LogServiceReadWriteBase.setUpCluster(LogServiceReadWriteBase.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:34:50,964 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-FAAEA0267428-FollowerState: change to CANDIDATE, lastRpcTime:155ms, electionTimeout:155ms
2019-09-26 13:34:50,965 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:50,965 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FAAEA0267428: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 13:34:50,965 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:34:50,979 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-FAAEA0267428-FollowerState: change to CANDIDATE, lastRpcTime:169ms, electionTimeout:169ms
2019-09-26 13:34:50,979 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:50,979 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-FAAEA0267428-LeaderElection4: begin an election at term 3 for -1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,979 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FAAEA0267428: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 13:34:50,980 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:34:50,981 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FAAEA0267428: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s2
2019-09-26 13:34:50,982 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:50,982 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:50,982 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-FAAEA0267428-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:50,994 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-FAAEA0267428-LeaderElection5: begin an election at term 3 for -1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,995 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-FAAEA0267428-LeaderElection4: Election PASSED; received 2 response(s) [s2<-s0#0:FAIL-t3, s2<-s1#0:OK-t3] and 0 exception(s); s2@group-FAAEA0267428:t3, leader=null, voted=s2, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:50,995 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:34:50,996 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FAAEA0267428: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-09-26 13:34:50,996 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-FAAEA0267428: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 730ms
2019-09-26 13:34:51,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-26 13:34:51,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:34:51,010 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:34:51,018 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:34:51,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:34:51,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:34:51,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:51,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:51,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:51,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:51,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:51,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:51,042 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-26 13:34:51,061 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-FAAEA0267428-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:51,071 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-FAAEA0267428: set configuration 0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null at 0
2019-09-26 13:34:51,071 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s2@group-FAAEA0267428-   LEADER: Withhold vote from candidate s0 with term 3. State: leader=s2, term=3, lastRpcElapsed=null
2019-09-26 13:34:51,073 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-FAAEA0267428-LeaderElection5: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t3, s0<-s2#0:FAIL-t3] and 0 exception(s); s0@group-FAAEA0267428:t3, leader=null, voted=s0, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null
2019-09-26 13:34:51,073 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FAAEA0267428: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:51,073 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:34:51,074 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:51,095 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-FAAEA0267428: change Leader from null to s2 at term 3 for appendEntries, leader elected after 829ms
2019-09-26 13:34:51,096 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-FAAEA0267428: change Leader from null to s2 at term 3 for appendEntries, leader elected after 830ms
2019-09-26 13:34:51,115 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-FAAEA0267428: set configuration 0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null at 0
2019-09-26 13:34:51,116 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-FAAEA0267428: set configuration 0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null at 0
2019-09-26 13:34:51,116 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-FAAEA0267428-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:51,116 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-FAAEA0267428-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:51,283 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FAAEA0267428:t3, leader=s2, voted=s0, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FAAEA0267428:t3, leader=s2, voted=s2, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-FAAEA0267428:t3, leader=s2, voted=s2, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
2019-09-26 13:34:51,294 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testReadAllRecords(185)) - Writing 25 records
2019-09-26 13:34:51,309 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-FAAEA0267428-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s1/b7a0c08b-fe85-44eb-9230-faaea0267428/current/log_inprogress_0
2019-09-26 13:34:51,309 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-FAAEA0267428-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s2/b7a0c08b-fe85-44eb-9230-faaea0267428/current/log_inprogress_0
2019-09-26 13:34:51,309 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-FAAEA0267428-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyb7ba3538/s0/b7a0c08b-fe85-44eb-9230-faaea0267428/current/log_inprogress_0
2019-09-26 13:34:51,321 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] READ: [id: 0x9a05c56c, L:/192.168.164.227:36982 - R:/192.168.164.227:60772]
2019-09-26 13:34:51,322 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] READ COMPLETE
2019-09-26 13:34:51,354 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] READ: [id: 0x2998a28d, L:/192.168.164.227:42383 - R:/192.168.164.227:51312]
2019-09-26 13:34:51,354 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] READ COMPLETE
2019-09-26 13:34:51,800 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:34:51,800 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:34:51,801 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithNetty
2019-09-26 13:34:51,801 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:34:51,801 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:34:51,801 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FAAEA0267428:t3, leader=s2, voted=s0, raftlog=s0@group-FAAEA0267428-SegmentedRaftLog:OPENED:c48,f49,i49, conf=0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FAAEA0267428:t3, leader=s2, voted=s2, raftlog=s1@group-FAAEA0267428-SegmentedRaftLog:OPENED:c49,f50,i50, conf=0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-FAAEA0267428:t3, leader=s2, voted=s2, raftlog=s2@group-FAAEA0267428-SegmentedRaftLog:OPENED:c50,f50,i50, conf=0: [s0:0.0.0.0:36982, s1:0.0.0.0:37559, s2:0.0.0.0:42383], old=null RUNNING
2019-09-26 13:34:51,804 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:34:51,804 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:34:51,804 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:34:51,805 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-FAAEA0267428: shutdown
2019-09-26 13:34:51,805 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-FAAEA0267428: shutdown
2019-09-26 13:34:51,806 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FAAEA0267428,id=s2
2019-09-26 13:34:51,805 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-FAAEA0267428: shutdown
2019-09-26 13:34:51,806 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-26 13:34:51,806 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FAAEA0267428,id=s0
2019-09-26 13:34:51,806 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FAAEA0267428,id=s1
2019-09-26 13:34:51,807 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:51,807 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-FAAEA0267428-PendingRequests: sendNotLeaderResponses
2019-09-26 13:34:51,807 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-FAAEA0267428->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-26 13:34:51,807 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:51,809 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-FAAEA0267428->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s0#0 sending from s0:0.0.0.0:36982 is interrupted.
2019-09-26 13:34:51,807 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-FAAEA0267428-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:51,807 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-FAAEA0267428-StateMachineUpdater: set stopIndex = 48
2019-09-26 13:34:51,809 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-FAAEA0267428-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:51,809 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-FAAEA0267428-StateMachineUpdater: set stopIndex = 49
2019-09-26 13:34:51,810 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-FAAEA0267428-StateMachineUpdater: set stopIndex = 50
2019-09-26 13:34:51,810 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-FAAEA0267428: closes. applyIndex: 50
2019-09-26 13:34:51,810 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-FAAEA0267428: closes. applyIndex: 48
2019-09-26 13:34:51,810 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-FAAEA0267428: closes. applyIndex: 49
2019-09-26 13:34:51,812 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-FAAEA0267428-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:51,812 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-FAAEA0267428-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:51,813 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-FAAEA0267428-SegmentedRaftLogWorker close()
2019-09-26 13:34:51,813 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-FAAEA0267428-SegmentedRaftLogWorker close()
2019-09-26 13:34:51,814 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xaddabce1, L:/0.0.0.0:42383] UNREGISTERED
2019-09-26 13:34:51,814 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3f7a4de4, L:/0.0.0.0:37559] UNREGISTERED
2019-09-26 13:34:51,816 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-FAAEA0267428-SegmentedRaftLogWorker close()
2019-09-26 13:34:51,817 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6b745cc2, L:/0.0.0.0:36982] UNREGISTERED
2019-09-26 13:34:51,818 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithNetty shutdown completed
2019-09-26 13:34:51,829 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:34:51,829 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:34:51,829 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:<init>(65)) - Set LogStateMachine OK
2019-09-26 13:34:51,830 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590]
2019-09-26 13:34:51,830 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:34:51,830 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:34:51,831 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-26 13:34:51,831 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:34:51,831 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:34:51,831 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:34:51,831 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], format? true
2019-09-26 13:34:51,831 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0
2019-09-26 13:34:51,832 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0 does not exist.
2019-09-26 13:34:51,832 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0
2019-09-26 13:34:51,832 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:51,834 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 46358 (custom)
2019-09-26 13:34:51,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0] (custom)
2019-09-26 13:34:51,834 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e] REGISTERED
2019-09-26 13:34:51,835 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590] returns group-A8615E79C4E5:java.util.concurrent.CompletableFuture@2110febb[Not completed]
2019-09-26 13:34:51,835 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e] BIND: 0.0.0.0/0.0.0.0:46358
2019-09-26 13:34:51,835 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] ACTIVE
2019-09-26 13:34:51,836 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], format? true
2019-09-26 13:34:51,836 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590] with LogStateMachine:uninitialized
2019-09-26 13:34:51,836 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1
2019-09-26 13:34:51,836 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:51,836 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1 does not exist.
2019-09-26 13:34:51,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:51,837 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1
2019-09-26 13:34:51,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:51,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:51,837 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:51,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:51,838 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-A8615E79C4E5: ConfigurationManager, init=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:51,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0] (custom)
2019-09-26 13:34:51,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:51,839 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5 does not exist. Creating ...
2019-09-26 13:34:51,839 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 38185 (custom)
2019-09-26 13:34:51,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1] (custom)
2019-09-26 13:34:51,840 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5
2019-09-26 13:34:51,840 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea] REGISTERED
2019-09-26 13:34:51,840 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590] returns group-A8615E79C4E5:java.util.concurrent.CompletableFuture@413b0a2f[Not completed]
2019-09-26 13:34:51,840 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea] BIND: 0.0.0.0/0.0.0.0:38185
2019-09-26 13:34:51,841 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea, L:/0.0.0.0:38185] ACTIVE
2019-09-26 13:34:51,841 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590] with LogStateMachine:uninitialized
2019-09-26 13:34:51,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:51,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:51,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:51,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:51,841 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], format? true
2019-09-26 13:34:51,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:51,842 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2
2019-09-26 13:34:51,842 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-A8615E79C4E5: ConfigurationManager, init=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:51,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1] (custom)
2019-09-26 13:34:51,842 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2 does not exist.
2019-09-26 13:34:51,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:51,843 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2
2019-09-26 13:34:51,843 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5 does not exist. Creating ...
2019-09-26 13:34:51,843 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:51,843 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5
2019-09-26 13:34:51,845 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 44590 (custom)
2019-09-26 13:34:51,846 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2] (custom)
2019-09-26 13:34:51,846 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721] REGISTERED
2019-09-26 13:34:51,847 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590] returns group-A8615E79C4E5:java.util.concurrent.CompletableFuture@2d63e85[Not completed]
2019-09-26 13:34:51,847 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721] BIND: 0.0.0.0/0.0.0.0:44590
2019-09-26 13:34:51,847 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721, L:/0.0.0.0:44590] ACTIVE
2019-09-26 13:34:51,848 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-A8615E79C4E5:[s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590] with LogStateMachine:uninitialized
2019-09-26 13:34:51,848 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:51,848 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:51,848 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:51,848 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:51,848 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:51,849 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-A8615E79C4E5: ConfigurationManager, init=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:51,849 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2] (custom)
2019-09-26 13:34:51,849 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:51,849 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5 does not exist. Creating ...
2019-09-26 13:34:51,850 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5
2019-09-26 13:34:51,854 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:51,854 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:51,854 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:51,854 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5/current
2019-09-26 13:34:51,854 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5/current
2019-09-26 13:34:51,855 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5/current
2019-09-26 13:34:51,855 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5/sm
2019-09-26 13:34:51,855 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5/sm
2019-09-26 13:34:51,855 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5/sm
2019-09-26 13:34:51,868 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5 has been successfully formatted.
2019-09-26 13:34:51,868 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5 has been successfully formatted.
2019-09-26 13:34:51,868 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5 has been successfully formatted.
2019-09-26 13:34:51,870 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:51,870 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:51,870 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:51,871 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:51,871 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:51,871 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:51,871 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:51,871 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-A8615E79C4E5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5
2019-09-26 13:34:51,871 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:51,872 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:51,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:51,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:51,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:51,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:51,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:51,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:51,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:51,874 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:51,873 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:51,874 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:51,874 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:51,874 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:51,874 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:51,874 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:51,874 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-A8615E79C4E5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5
2019-09-26 13:34:51,875 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:51,875 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-A8615E79C4E5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:51,875 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:51,875 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-A8615E79C4E5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5
2019-09-26 13:34:51,875 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:51,875 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:51,876 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:51,875 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:51,876 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:51,876 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:51,876 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:51,876 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:51,876 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:51,877 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:51,877 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:51,877 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:51,877 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:51,877 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:51,877 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:51,877 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:51,878 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:51,878 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:51,878 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:51,878 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:51,878 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:51,878 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-A8615E79C4E5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:51,879 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:51,879 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:51,879 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:51,879 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-A8615E79C4E5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:51,879 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:51,879 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:51,880 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:51,880 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:51,885 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-A8615E79C4E5: start as a follower, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:51,885 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A8615E79C4E5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:51,886 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:51,886 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8615E79C4E5,id=s0
2019-09-26 13:34:51,891 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:34:51,892 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-A8615E79C4E5: start as a follower, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:51,892 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A8615E79C4E5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:51,892 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:51,893 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8615E79C4E5,id=s1
2019-09-26 13:34:51,898 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:34:51,898 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-A8615E79C4E5: start as a follower, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:51,898 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A8615E79C4E5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:51,899 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:51,899 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8615E79C4E5,id=s2
2019-09-26 13:34:51,903 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:34:51,904 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:51,904 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
2019-09-26 13:34:51,905 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8615E79C4E5:t0, leader=null, voted=null, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.logservice.LogServiceReadWriteBase.setUpCluster(LogServiceReadWriteBase.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:34:52,086 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-A8615E79C4E5-FollowerState: change to CANDIDATE, lastRpcTime:193ms, electionTimeout:193ms
2019-09-26 13:34:52,086 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:52,087 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A8615E79C4E5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:52,087 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 13:34:52,122 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-A8615E79C4E5-FollowerState: change to CANDIDATE, lastRpcTime:236ms, electionTimeout:236ms
2019-09-26 13:34:52,123 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:52,123 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A8615E79C4E5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:52,123 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:34:52,141 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-A8615E79C4E5-FollowerState: change to CANDIDATE, lastRpcTime:242ms, electionTimeout:242ms
2019-09-26 13:34:52,141 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:52,142 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A8615E79C4E5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:52,142 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:34:52,158 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-A8615E79C4E5-LeaderElection6: begin an election at term 1 for -1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,158 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A8615E79C4E5-LeaderElection7: begin an election at term 1 for -1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,158 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-A8615E79C4E5-LeaderElection8: begin an election at term 1 for -1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,161 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721, L:/0.0.0.0:44590] READ: [id: 0xd9b7fd56, L:/192.168.164.227:44590 - R:/192.168.164.227:33572]
2019-09-26 13:34:52,161 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea, L:/0.0.0.0:38185] READ: [id: 0xb78355af, L:/192.168.164.227:38185 - R:/192.168.164.227:51402]
2019-09-26 13:34:52,161 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] READ: [id: 0xff6160a2, L:/192.168.164.227:46358 - R:/192.168.164.227:37994]
2019-09-26 13:34:52,162 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea, L:/0.0.0.0:38185] READ COMPLETE
2019-09-26 13:34:52,162 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721, L:/0.0.0.0:44590] READ COMPLETE
2019-09-26 13:34:52,163 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea, L:/0.0.0.0:38185] READ: [id: 0x113c5472, L:/192.168.164.227:38185 - R:/192.168.164.227:51404]
2019-09-26 13:34:52,163 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] READ COMPLETE
2019-09-26 13:34:52,163 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea, L:/0.0.0.0:38185] READ COMPLETE
2019-09-26 13:34:52,163 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721, L:/0.0.0.0:44590] READ: [id: 0x7ce89c49, L:/192.168.164.227:44590 - R:/192.168.164.227:33580]
2019-09-26 13:34:52,164 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] READ: [id: 0x86ce3839, L:/192.168.164.227:46358 - R:/192.168.164.227:37998]
2019-09-26 13:34:52,164 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721, L:/0.0.0.0:44590] READ COMPLETE
2019-09-26 13:34:52,165 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] READ COMPLETE
2019-09-26 13:34:52,166 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-A8615E79C4E5-LeaderElection6: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-A8615E79C4E5:t1, leader=null, voted=s1, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,166 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A8615E79C4E5-LeaderElection7: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-A8615E79C4E5:t1, leader=null, voted=s0, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,166 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A8615E79C4E5: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:52,166 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-A8615E79C4E5-LeaderElection8: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-A8615E79C4E5:t1, leader=null, voted=s2, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,167 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 13:34:52,167 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A8615E79C4E5: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:52,167 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:52,167 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A8615E79C4E5: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:52,168 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:34:52,167 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:34:52,168 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:52,168 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:52,357 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8615E79C4E5:t1, leader=null, voted=s0, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8615E79C4E5:t1, leader=null, voted=s1, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8615E79C4E5:t1, leader=null, voted=s2, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A8615E79C4E5:t1, leader=null, voted=s0, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8615E79C4E5:t1, leader=null, voted=s1, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8615E79C4E5:t1, leader=null, voted=s2, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.logservice.LogServiceReadWriteBase.setUpCluster(LogServiceReadWriteBase.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:34:52,429 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-A8615E79C4E5-FollowerState: change to CANDIDATE, lastRpcTime:260ms, electionTimeout:260ms
2019-09-26 13:34:52,429 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:52,429 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A8615E79C4E5: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:34:52,430 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:34:52,447 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-A8615E79C4E5-FollowerState: change to CANDIDATE, lastRpcTime:278ms, electionTimeout:278ms
2019-09-26 13:34:52,447 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:52,447 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A8615E79C4E5: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:34:52,447 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:34:52,455 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A8615E79C4E5-LeaderElection9: begin an election at term 2 for -1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,457 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-A8615E79C4E5-LeaderElection10: begin an election at term 2 for -1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,457 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A8615E79C4E5: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-26 13:34:52,458 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:52,458 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:52,458 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-A8615E79C4E5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:52,472 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A8615E79C4E5-LeaderElection9: Election PASSED; received 2 response(s) [s0<-s1#0:OK-t2, s0<-s2#0:FAIL-t2] and 0 exception(s); s0@group-A8615E79C4E5:t2, leader=null, voted=s0, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,472 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-A8615E79C4E5-LeaderElection10: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t2, s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-A8615E79C4E5:t2, leader=null, voted=s2, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null
2019-09-26 13:34:52,472 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:34:52,472 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A8615E79C4E5: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:52,472 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A8615E79C4E5: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 13:34:52,473 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:34:52,473 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-A8615E79C4E5: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 600ms
2019-09-26 13:34:52,473 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:52,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-26 13:34:52,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:34:52,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:34:52,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:34:52,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:34:52,475 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:34:52,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:52,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:52,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:52,480 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:52,480 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:52,481 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:52,481 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 13:34:52,481 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-A8615E79C4E5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:52,483 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-A8615E79C4E5: set configuration 0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null at 0
2019-09-26 13:34:52,484 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-A8615E79C4E5: change Leader from null to s0 at term 2 for appendEntries, leader elected after 611ms
2019-09-26 13:34:52,484 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-A8615E79C4E5: change Leader from null to s0 at term 2 for appendEntries, leader elected after 613ms
2019-09-26 13:34:52,486 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-A8615E79C4E5: set configuration 0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null at 0
2019-09-26 13:34:52,486 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-A8615E79C4E5: set configuration 0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null at 0
2019-09-26 13:34:52,486 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-A8615E79C4E5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:52,487 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-A8615E79C4E5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:52,617 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-A8615E79C4E5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s0/48f00bbd-e5f7-489f-9941-a8615e79c4e5/current/log_inprogress_0
2019-09-26 13:34:52,617 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-A8615E79C4E5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s2/48f00bbd-e5f7-489f-9941-a8615e79c4e5/current/log_inprogress_0
2019-09-26 13:34:52,617 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-A8615E79C4E5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettyff4a9eb3/s1/48f00bbd-e5f7-489f-9941-a8615e79c4e5/current/log_inprogress_0
2019-09-26 13:34:52,808 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A8615E79C4E5:t2, leader=s0, voted=s0, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8615E79C4E5:t2, leader=s0, voted=s0, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8615E79C4E5:t2, leader=s0, voted=s2, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
2019-09-26 13:34:52,811 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeekFromWrite(263)) - Writing 10 records
2019-09-26 13:34:52,813 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] READ: [id: 0x8b3901c0, L:/192.168.164.227:46358 - R:/192.168.164.227:38010]
2019-09-26 13:34:52,814 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] READ COMPLETE
2019-09-26 13:34:53,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:34:53,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:34:53,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithNetty
2019-09-26 13:34:53,033 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:34:53,033 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:34:53,033 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A8615E79C4E5:t2, leader=s0, voted=s0, raftlog=s0@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c22,f22,i22, conf=0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8615E79C4E5:t2, leader=s0, voted=s0, raftlog=s1@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c21,f22,i22, conf=0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8615E79C4E5:t2, leader=s0, voted=s2, raftlog=s2@group-A8615E79C4E5-SegmentedRaftLog:OPENED:c21,f22,i22, conf=0: [s0:0.0.0.0:46358, s1:0.0.0.0:38185, s2:0.0.0.0:44590], old=null RUNNING
2019-09-26 13:34:53,034 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:34:53,034 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:34:53,034 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:34:53,034 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-A8615E79C4E5: shutdown
2019-09-26 13:34:53,035 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-A8615E79C4E5: shutdown
2019-09-26 13:34:53,035 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-A8615E79C4E5: shutdown
2019-09-26 13:34:53,035 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8615E79C4E5,id=s2
2019-09-26 13:34:53,035 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8615E79C4E5,id=s0
2019-09-26 13:34:53,036 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:53,036 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8615E79C4E5,id=s1
2019-09-26 13:34:53,036 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-A8615E79C4E5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:53,036 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-A8615E79C4E5-StateMachineUpdater: set stopIndex = 21
2019-09-26 13:34:53,036 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 13:34:53,037 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-A8615E79C4E5: closes. applyIndex: 21
2019-09-26 13:34:53,037 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:53,038 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-A8615E79C4E5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:53,037 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-A8615E79C4E5->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-26 13:34:53,037 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-A8615E79C4E5->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-26 13:34:53,037 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-A8615E79C4E5-PendingRequests: sendNotLeaderResponses
2019-09-26 13:34:53,038 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-A8615E79C4E5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:53,038 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-A8615E79C4E5-StateMachineUpdater: set stopIndex = 21
2019-09-26 13:34:53,038 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-A8615E79C4E5-StateMachineUpdater: set stopIndex = 22
2019-09-26 13:34:53,039 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-A8615E79C4E5: closes. applyIndex: 21
2019-09-26 13:34:53,039 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-A8615E79C4E5: closes. applyIndex: 22
2019-09-26 13:34:53,040 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-A8615E79C4E5-SegmentedRaftLogWorker close()
2019-09-26 13:34:53,040 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-A8615E79C4E5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:53,040 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-A8615E79C4E5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:53,040 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x1d191721, L:/0.0.0.0:44590] UNREGISTERED
2019-09-26 13:34:53,042 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-A8615E79C4E5-SegmentedRaftLogWorker close()
2019-09-26 13:34:53,042 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-A8615E79C4E5-SegmentedRaftLogWorker close()
2019-09-26 13:34:53,042 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd2383eea, L:/0.0.0.0:38185] UNREGISTERED
2019-09-26 13:34:53,043 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x64ceb74e, L:/0.0.0.0:46358] UNREGISTERED
2019-09-26 13:34:53,045 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithNetty shutdown completed
2019-09-26 13:34:53,046 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:34:53,046 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:34:53,046 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:<init>(65)) - Set LogStateMachine OK
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870]
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:34:53,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], format? true
2019-09-26 13:34:53,049 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0
2019-09-26 13:34:53,049 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0 does not exist.
2019-09-26 13:34:53,049 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0
2019-09-26 13:34:53,049 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:53,052 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 44359 (custom)
2019-09-26 13:34:53,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0] (custom)
2019-09-26 13:34:53,056 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1] REGISTERED
2019-09-26 13:34:53,056 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870] returns group-728A1E0CFEE5:java.util.concurrent.CompletableFuture@30e6c64b[Not completed]
2019-09-26 13:34:53,056 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1] BIND: 0.0.0.0/0.0.0.0:44359
2019-09-26 13:34:53,057 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1, L:/0.0.0.0:44359] ACTIVE
2019-09-26 13:34:53,058 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], format? true
2019-09-26 13:34:53,058 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870] with LogStateMachine:uninitialized
2019-09-26 13:34:53,058 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1
2019-09-26 13:34:53,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:53,059 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1 does not exist.
2019-09-26 13:34:53,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:53,059 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1
2019-09-26 13:34:53,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:53,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:53,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:53,059 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:53,060 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-728A1E0CFEE5: ConfigurationManager, init=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:53,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0] (custom)
2019-09-26 13:34:53,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:53,060 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5 does not exist. Creating ...
2019-09-26 13:34:53,061 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 44890 (custom)
2019-09-26 13:34:53,061 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5
2019-09-26 13:34:53,062 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1] (custom)
2019-09-26 13:34:53,064 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b] REGISTERED
2019-09-26 13:34:53,064 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870] returns group-728A1E0CFEE5:java.util.concurrent.CompletableFuture@50bad3a[Not completed]
2019-09-26 13:34:53,064 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b] BIND: 0.0.0.0/0.0.0.0:44890
2019-09-26 13:34:53,065 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b, L:/0.0.0.0:44890] ACTIVE
2019-09-26 13:34:53,065 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], format? true
2019-09-26 13:34:53,065 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870] with LogStateMachine:uninitialized
2019-09-26 13:34:53,065 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2
2019-09-26 13:34:53,066 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:53,066 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2 does not exist.
2019-09-26 13:34:53,066 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:53,066 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2
2019-09-26 13:34:53,066 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:53,067 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:53,067 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:53,067 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:53,067 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-728A1E0CFEE5: ConfigurationManager, init=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:53,067 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1] (custom)
2019-09-26 13:34:53,068 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:53,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:53,068 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5/current
2019-09-26 13:34:53,068 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5 does not exist. Creating ...
2019-09-26 13:34:53,068 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5/sm
2019-09-26 13:34:53,068 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 34870 (custom)
2019-09-26 13:34:53,069 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5
2019-09-26 13:34:53,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2] (custom)
2019-09-26 13:34:53,072 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x02c31a00] REGISTERED
2019-09-26 13:34:53,072 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x02c31a00] BIND: 0.0.0.0/0.0.0.0:34870
2019-09-26 13:34:53,072 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870] returns group-728A1E0CFEE5:java.util.concurrent.CompletableFuture@a2a7b21[Not completed]
2019-09-26 13:34:53,072 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x02c31a00, L:/0.0.0.0:34870] ACTIVE
2019-09-26 13:34:53,073 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-728A1E0CFEE5:[s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870] with LogStateMachine:uninitialized
2019-09-26 13:34:53,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:53,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:53,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:53,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:53,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:53,074 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-728A1E0CFEE5: ConfigurationManager, init=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:53,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2] (custom)
2019-09-26 13:34:53,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:53,074 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5 does not exist. Creating ...
2019-09-26 13:34:53,075 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5
2019-09-26 13:34:53,080 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:53,080 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5 has been successfully formatted.
2019-09-26 13:34:53,080 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:53,080 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5/current
2019-09-26 13:34:53,080 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5/current
2019-09-26 13:34:53,080 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5/sm
2019-09-26 13:34:53,081 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5/sm
2019-09-26 13:34:53,082 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:53,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:53,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:53,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:53,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:53,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:53,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:53,084 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-728A1E0CFEE5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5
2019-09-26 13:34:53,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:53,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:53,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:53,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:53,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:53,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:53,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:53,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:53,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:53,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:53,085 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-728A1E0CFEE5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:53,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:53,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:53,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:53,089 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-728A1E0CFEE5: start as a follower, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null
2019-09-26 13:34:53,089 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-728A1E0CFEE5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:53,090 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:53,090 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-728A1E0CFEE5,id=s0
2019-09-26 13:34:53,093 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5 has been successfully formatted.
2019-09-26 13:34:53,093 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5 has been successfully formatted.
2019-09-26 13:34:53,094 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:34:53,095 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:53,096 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:53,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:53,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:53,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:53,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:53,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:53,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:53,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:53,097 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-728A1E0CFEE5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:53,097 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-728A1E0CFEE5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:53,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:53,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:53,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:53,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:53,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:53,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:53,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:53,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:53,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:53,099 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-728A1E0CFEE5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:53,100 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-728A1E0CFEE5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:53,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:53,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:53,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:53,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:53,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:53,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:53,103 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-728A1E0CFEE5: start as a follower, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null
2019-09-26 13:34:53,104 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-728A1E0CFEE5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:53,104 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:53,104 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-728A1E0CFEE5,id=s1
2019-09-26 13:34:53,108 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:34:53,108 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-728A1E0CFEE5: start as a follower, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null
2019-09-26 13:34:53,109 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-728A1E0CFEE5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:53,109 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:53,109 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-728A1E0CFEE5,id=s2
2019-09-26 13:34:53,113 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:34:53,113 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:53,114 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s0@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s1@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s2@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
2019-09-26 13:34:53,115 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s0@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s1@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s2@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s0@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s1@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-728A1E0CFEE5:t0, leader=null, voted=null, raftlog=s2@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.logservice.LogServiceReadWriteBase.setUpCluster(LogServiceReadWriteBase.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:34:53,299 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-728A1E0CFEE5-FollowerState: change to CANDIDATE, lastRpcTime:209ms, electionTimeout:209ms
2019-09-26 13:34:53,300 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:53,300 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-728A1E0CFEE5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:53,300 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:34:53,314 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-728A1E0CFEE5-LeaderElection11: begin an election at term 1 for -1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null
2019-09-26 13:34:53,321 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b, L:/0.0.0.0:44890] READ: [id: 0x7ae7cfbe, L:/192.168.164.227:44890 - R:/192.168.164.227:48072]
2019-09-26 13:34:53,321 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x02c31a00, L:/0.0.0.0:34870] READ: [id: 0xb8f41d11, L:/192.168.164.227:34870 - R:/192.168.164.227:36722]
2019-09-26 13:34:53,321 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b, L:/0.0.0.0:44890] READ COMPLETE
2019-09-26 13:34:53,323 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-728A1E0CFEE5-FollowerState: change to CANDIDATE, lastRpcTime:214ms, electionTimeout:214ms
2019-09-26 13:34:53,324 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x02c31a00, L:/0.0.0.0:34870] READ COMPLETE
2019-09-26 13:34:53,325 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:53,326 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-728A1E0CFEE5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:53,326 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:34:53,328 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-728A1E0CFEE5: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 13:34:53,328 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:53,328 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:53,328 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-728A1E0CFEE5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:53,341 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-728A1E0CFEE5-LeaderElection12: begin an election at term 1 for -1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null
2019-09-26 13:34:53,343 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-728A1E0CFEE5-LeaderElection11: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t1] and 0 exception(s); s0@group-728A1E0CFEE5:t1, leader=null, voted=s0, raftlog=s0@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null
2019-09-26 13:34:53,343 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:34:53,344 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-728A1E0CFEE5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 13:34:53,345 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-728A1E0CFEE5: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 262ms
2019-09-26 13:34:53,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-26 13:34:53,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:34:53,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:34:53,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:34:53,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:34:53,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:34:53,349 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1, L:/0.0.0.0:44359] READ: [id: 0xe82d05e8, L:/192.168.164.227:44359 - R:/192.168.164.227:33162]
2019-09-26 13:34:53,351 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b, L:/0.0.0.0:44890] READ: [id: 0x1c18bb91, L:/192.168.164.227:44890 - R:/192.168.164.227:48076]
2019-09-26 13:34:53,352 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1, L:/0.0.0.0:44359] READ COMPLETE
2019-09-26 13:34:53,352 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b, L:/0.0.0.0:44890] READ COMPLETE
2019-09-26 13:34:53,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:53,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:53,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:53,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:53,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:53,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:53,361 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 13:34:53,361 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-728A1E0CFEE5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:53,362 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-728A1E0CFEE5: set configuration 0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null at 0
2019-09-26 13:34:53,363 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s0@group-728A1E0CFEE5-   LEADER: Withhold vote from candidate s2 with term 1. State: leader=s0, term=1, lastRpcElapsed=null
2019-09-26 13:34:53,365 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-728A1E0CFEE5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 269ms
2019-09-26 13:34:53,365 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-728A1E0CFEE5-LeaderElection12: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-728A1E0CFEE5:t1, leader=null, voted=s2, raftlog=s2@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null
2019-09-26 13:34:53,365 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-728A1E0CFEE5: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2019-09-26 13:34:53,368 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:34:53,368 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-728A1E0CFEE5: set configuration 0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null at 0
2019-09-26 13:34:53,368 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:53,369 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-728A1E0CFEE5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:53,369 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-728A1E0CFEE5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 273ms
2019-09-26 13:34:53,373 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-728A1E0CFEE5: set configuration 0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null at 0
2019-09-26 13:34:53,373 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-728A1E0CFEE5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:53,563 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-728A1E0CFEE5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s0/62946adb-9307-465c-be96-728a1e0cfee5/current/log_inprogress_0
2019-09-26 13:34:53,563 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-728A1E0CFEE5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s1/62946adb-9307-465c-be96-728a1e0cfee5/current/log_inprogress_0
2019-09-26 13:34:53,563 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-728A1E0CFEE5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNetty65d093cd/s2/62946adb-9307-465c-be96-728a1e0cfee5/current/log_inprogress_0
2019-09-26 13:34:53,566 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-728A1E0CFEE5:t1, leader=s0, voted=s0, raftlog=s0@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-728A1E0CFEE5:t1, leader=s0, voted=s0, raftlog=s1@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-728A1E0CFEE5:t1, leader=s0, voted=s2, raftlog=s2@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
2019-09-26 13:34:53,574 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(226)) - Writing 100 records
2019-09-26 13:34:53,584 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1, L:/0.0.0.0:44359] READ: [id: 0x44d4b808, L:/192.168.164.227:44359 - R:/192.168.164.227:33166]
2019-09-26 13:34:53,585 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1, L:/0.0.0.0:44359] READ COMPLETE
2019-09-26 13:34:54,568 DEBUG logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(233)) - Seek and read'ing records
2019-09-26 13:34:54,568 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 9
2019-09-26 13:34:54,568 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,569 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 19
2019-09-26 13:34:54,569 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,570 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 29
2019-09-26 13:34:54,570 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,571 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 39
2019-09-26 13:34:54,571 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,572 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 49
2019-09-26 13:34:54,572 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,573 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 59
2019-09-26 13:34:54,573 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,574 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 69
2019-09-26 13:34:54,574 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,574 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 79
2019-09-26 13:34:54,574 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,575 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 89
2019-09-26 13:34:54,575 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,576 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(236)) - Seeking to 99
2019-09-26 13:34:54,576 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(238)) - Reading one record
2019-09-26 13:34:54,577 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 98
2019-09-26 13:34:54,577 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,578 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 92
2019-09-26 13:34:54,578 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,579 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 86
2019-09-26 13:34:54,579 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,580 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 80
2019-09-26 13:34:54,580 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,581 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 74
2019-09-26 13:34:54,581 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,582 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 68
2019-09-26 13:34:54,582 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,582 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 62
2019-09-26 13:34:54,583 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,583 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 56
2019-09-26 13:34:54,583 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,584 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 50
2019-09-26 13:34:54,584 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,585 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 44
2019-09-26 13:34:54,585 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,586 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 38
2019-09-26 13:34:54,586 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,587 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 32
2019-09-26 13:34:54,587 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,588 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 26
2019-09-26 13:34:54,588 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,588 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 20
2019-09-26 13:34:54,588 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,589 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 14
2019-09-26 13:34:54,589 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,590 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 8
2019-09-26 13:34:54,590 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,591 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(244)) - Seeking to 2
2019-09-26 13:34:54,591 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testSeeking(246)) - Reading one record
2019-09-26 13:34:54,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:34:54,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:34:54,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithNetty
2019-09-26 13:34:54,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:34:54,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:34:54,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-728A1E0CFEE5:t1, leader=s0, voted=s0, raftlog=s0@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c200,f200,i200, conf=0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-728A1E0CFEE5:t1, leader=s0, voted=s0, raftlog=s1@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c198,f199,i200, conf=0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-728A1E0CFEE5:t1, leader=s0, voted=s2, raftlog=s2@group-728A1E0CFEE5-SegmentedRaftLog:OPENED:c199,f200,i200, conf=0: [s0:0.0.0.0:44359, s1:0.0.0.0:44890, s2:0.0.0.0:34870], old=null RUNNING
2019-09-26 13:34:54,593 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:34:54,594 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:34:54,594 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:34:54,594 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-728A1E0CFEE5: shutdown
2019-09-26 13:34:54,595 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-728A1E0CFEE5: shutdown
2019-09-26 13:34:54,594 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-728A1E0CFEE5: shutdown
2019-09-26 13:34:54,595 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-728A1E0CFEE5,id=s2
2019-09-26 13:34:54,595 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-728A1E0CFEE5,id=s0
2019-09-26 13:34:54,595 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:54,595 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-728A1E0CFEE5,id=s1
2019-09-26 13:34:54,596 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-728A1E0CFEE5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:54,596 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-728A1E0CFEE5-StateMachineUpdater: set stopIndex = 199
2019-09-26 13:34:54,595 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 13:34:54,596 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-728A1E0CFEE5: closes. applyIndex: 199
2019-09-26 13:34:54,596 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:54,597 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-728A1E0CFEE5->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-26 13:34:54,597 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-728A1E0CFEE5-PendingRequests: sendNotLeaderResponses
2019-09-26 13:34:54,599 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-728A1E0CFEE5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:54,598 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-728A1E0CFEE5-StateMachineUpdater: set stopIndex = 198
2019-09-26 13:34:54,598 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-728A1E0CFEE5->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s1#0 sending from s1:0.0.0.0:44890 is interrupted.
2019-09-26 13:34:54,603 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-728A1E0CFEE5: closes. applyIndex: 198
2019-09-26 13:34:54,602 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-728A1E0CFEE5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:54,602 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-728A1E0CFEE5-StateMachineUpdater: set stopIndex = 200
2019-09-26 13:34:54,604 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-728A1E0CFEE5: closes. applyIndex: 200
2019-09-26 13:34:54,604 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-728A1E0CFEE5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:54,605 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-728A1E0CFEE5-SegmentedRaftLogWorker close()
2019-09-26 13:34:54,606 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-728A1E0CFEE5-SegmentedRaftLogWorker close()
2019-09-26 13:34:54,606 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x02c31a00, L:/0.0.0.0:34870] UNREGISTERED
2019-09-26 13:34:54,608 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xf99c5fe1, L:/0.0.0.0:44359] UNREGISTERED
2019-09-26 13:34:54,644 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-728A1E0CFEE5-SegmentedRaftLogWorker close()
2019-09-26 13:34:54,646 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x3e510a2b, L:/0.0.0.0:44890] UNREGISTERED
2019-09-26 13:34:54,647 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithNetty shutdown completed
2019-09-26 13:34:54,648 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:34:54,648 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:34:54,648 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:<init>(65)) - Set LogStateMachine OK
2019-09-26 13:34:54,649 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288]
2019-09-26 13:34:54,649 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:34:54,650 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:34:54,650 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-26 13:34:54,650 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:34:54,650 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:34:54,650 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:34:54,650 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], format? true
2019-09-26 13:34:54,650 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0
2019-09-26 13:34:54,651 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0 does not exist.
2019-09-26 13:34:54,651 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0
2019-09-26 13:34:54,651 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:54,653 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 34266 (custom)
2019-09-26 13:34:54,654 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0] (custom)
2019-09-26 13:34:54,654 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696] REGISTERED
2019-09-26 13:34:54,655 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696] BIND: 0.0.0.0/0.0.0.0:34266
2019-09-26 13:34:54,655 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288] returns group-9CF1E2FCE165:java.util.concurrent.CompletableFuture@3a77b172[Not completed]
2019-09-26 13:34:54,655 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] ACTIVE
2019-09-26 13:34:54,656 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], format? true
2019-09-26 13:34:54,656 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288] with LogStateMachine:uninitialized
2019-09-26 13:34:54,656 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1
2019-09-26 13:34:54,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:54,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:54,656 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1 does not exist.
2019-09-26 13:34:54,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:54,657 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1
2019-09-26 13:34:54,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:54,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:54,657 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:54,657 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-9CF1E2FCE165: ConfigurationManager, init=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:54,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0] (custom)
2019-09-26 13:34:54,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:54,658 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165 does not exist. Creating ...
2019-09-26 13:34:54,659 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165
2019-09-26 13:34:54,659 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 34114 (custom)
2019-09-26 13:34:54,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1] (custom)
2019-09-26 13:34:54,660 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a] REGISTERED
2019-09-26 13:34:54,660 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a] BIND: 0.0.0.0/0.0.0.0:34114
2019-09-26 13:34:54,660 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288] returns group-9CF1E2FCE165:java.util.concurrent.CompletableFuture@67ad67fb[Not completed]
2019-09-26 13:34:54,660 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a, L:/0.0.0.0:34114] ACTIVE
2019-09-26 13:34:54,661 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], format? true
2019-09-26 13:34:54,661 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288] with LogStateMachine:uninitialized
2019-09-26 13:34:54,661 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2
2019-09-26 13:34:54,661 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:54,661 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:54,661 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2 does not exist.
2019-09-26 13:34:54,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:54,662 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2
2019-09-26 13:34:54,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:54,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:54,662 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-9CF1E2FCE165: ConfigurationManager, init=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:54,662 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-26 13:34:54,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1] (custom)
2019-09-26 13:34:54,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:54,663 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165 does not exist. Creating ...
2019-09-26 13:34:54,663 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165
2019-09-26 13:34:54,664 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 42288 (custom)
2019-09-26 13:34:54,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2] (custom)
2019-09-26 13:34:54,665 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b] REGISTERED
2019-09-26 13:34:54,665 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288] returns group-9CF1E2FCE165:java.util.concurrent.CompletableFuture@1c8c73c8[Not completed]
2019-09-26 13:34:54,665 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b] BIND: 0.0.0.0/0.0.0.0:42288
2019-09-26 13:34:54,665 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b, L:/0.0.0.0:42288] ACTIVE
2019-09-26 13:34:54,665 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-9CF1E2FCE165:[s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288] with LogStateMachine:uninitialized
2019-09-26 13:34:54,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:34:54,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:54,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:34:54,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:34:54,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:34:54,666 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-9CF1E2FCE165: ConfigurationManager, init=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null, confs=<EMPTY_MAP>
2019-09-26 13:34:54,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2] (custom)
2019-09-26 13:34:54,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:34:54,667 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165 does not exist. Creating ...
2019-09-26 13:34:54,669 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165
2019-09-26 13:34:54,678 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:54,678 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:54,678 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165/current
2019-09-26 13:34:54,679 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165/sm
2019-09-26 13:34:54,679 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165/current
2019-09-26 13:34:54,680 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165/sm
2019-09-26 13:34:54,680 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165/in_use.lock acquired by nodename 9932@ratis-test-j9cz4-1458154678
2019-09-26 13:34:54,680 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165/current
2019-09-26 13:34:54,681 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165/sm
2019-09-26 13:34:54,684 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165 has been successfully formatted.
2019-09-26 13:34:54,684 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165 has been successfully formatted.
2019-09-26 13:34:54,686 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:54,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:54,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:54,686 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:54,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:54,687 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-9CF1E2FCE165-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:54,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:54,688 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-9CF1E2FCE165-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:54,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:54,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:54,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:54,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:54,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:54,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:54,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:54,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:54,689 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-9CF1E2FCE165-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:54,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:54,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:54,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:54,690 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-9CF1E2FCE165-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:54,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:54,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:54,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:54,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:54,691 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165 has been successfully formatted.
2019-09-26 13:34:54,693 WARN  server.LogStateMachine (LogStateMachine.java:load(226)) - The snapshot info is null.
2019-09-26 13:34:54,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:34:54,693 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-9CF1E2FCE165: start as a follower, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:34:54,694 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9CF1E2FCE165: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:54,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:34:54,694 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:54,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:54,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:54,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:34:54,695 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CF1E2FCE165,id=s0
2019-09-26 13:34:54,695 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-9CF1E2FCE165-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165
2019-09-26 13:34:54,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:34:54,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:34:54,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:34:54,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:34:54,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:34:54,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:34:54,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:34:54,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:34:54,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:34:54,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:34:54,697 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-9CF1E2FCE165-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:34:54,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:34:54,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:34:54,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:34:54,698 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:34:54,699 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-9CF1E2FCE165: start as a follower, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,699 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9CF1E2FCE165: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:54,699 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:54,700 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CF1E2FCE165,id=s1
2019-09-26 13:34:54,704 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:34:54,705 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-9CF1E2FCE165: start as a follower, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,705 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9CF1E2FCE165: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:34:54,705 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:54,705 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CF1E2FCE165,id=s2
2019-09-26 13:34:54,708 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:34:54,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:34:54,709 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s0@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s1@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s2@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
2019-09-26 13:34:54,709 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s0@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s1@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s2@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s0@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s1@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CF1E2FCE165:t0, leader=null, voted=null, raftlog=s2@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.logservice.LogServiceReadWriteBase.setUpCluster(LogServiceReadWriteBase.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:34:54,845 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-9CF1E2FCE165-FollowerState: change to CANDIDATE, lastRpcTime:150ms, electionTimeout:150ms
2019-09-26 13:34:54,846 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:54,846 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9CF1E2FCE165: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:54,846 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:34:54,860 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-9CF1E2FCE165-FollowerState: change to CANDIDATE, lastRpcTime:155ms, electionTimeout:155ms
2019-09-26 13:34:54,861 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-9CF1E2FCE165-LeaderElection13: begin an election at term 1 for -1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,861 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:54,862 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9CF1E2FCE165: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:54,862 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-9CF1E2FCE165-FollowerState: change to CANDIDATE, lastRpcTime:162ms, electionTimeout:162ms
2019-09-26 13:34:54,862 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:34:54,862 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:54,862 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9CF1E2FCE165: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:34:54,863 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 13:34:54,867 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b, L:/0.0.0.0:42288] READ: [id: 0x738e448f, L:/192.168.164.227:42288 - R:/192.168.164.227:54942]
2019-09-26 13:34:54,867 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a, L:/0.0.0.0:34114] READ: [id: 0x7d835339, L:/192.168.164.227:34114 - R:/192.168.164.227:42204]
2019-09-26 13:34:54,868 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b, L:/0.0.0.0:42288] READ COMPLETE
2019-09-26 13:34:54,869 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a, L:/0.0.0.0:34114] READ COMPLETE
2019-09-26 13:34:54,877 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-9CF1E2FCE165-LeaderElection14: begin an election at term 1 for -1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,877 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-9CF1E2FCE165-LeaderElection15: begin an election at term 1 for -1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,879 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-9CF1E2FCE165-LeaderElection13: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-9CF1E2FCE165:t1, leader=null, voted=s0, raftlog=s0@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,880 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9CF1E2FCE165: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:54,880 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:34:54,881 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:34:54,887 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a, L:/0.0.0.0:34114] READ: [id: 0x3413adc6, L:/192.168.164.227:34114 - R:/192.168.164.227:42208]
2019-09-26 13:34:54,887 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b, L:/0.0.0.0:42288] READ: [id: 0x87036820, L:/192.168.164.227:42288 - R:/192.168.164.227:54952]
2019-09-26 13:34:54,887 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a, L:/0.0.0.0:34114] READ COMPLETE
2019-09-26 13:34:54,887 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] READ: [id: 0xe571ccba, L:/192.168.164.227:34266 - R:/192.168.164.227:52778]
2019-09-26 13:34:54,888 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b, L:/0.0.0.0:42288] READ COMPLETE
2019-09-26 13:34:54,889 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] READ COMPLETE
2019-09-26 13:34:54,890 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] READ: [id: 0x87c8cf44, L:/192.168.164.227:34266 - R:/192.168.164.227:52782]
2019-09-26 13:34:54,890 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] READ COMPLETE
2019-09-26 13:34:54,892 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-9CF1E2FCE165-LeaderElection14: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-9CF1E2FCE165:t1, leader=null, voted=s2, raftlog=s2@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,893 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9CF1E2FCE165: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:54,893 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:34:54,893 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-9CF1E2FCE165-LeaderElection15: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-9CF1E2FCE165:t1, leader=null, voted=s1, raftlog=s1@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:54,893 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:54,894 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9CF1E2FCE165: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:34:54,894 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 13:34:54,894 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:55,048 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-9CF1E2FCE165-FollowerState: change to CANDIDATE, lastRpcTime:167ms, electionTimeout:164ms
2019-09-26 13:34:55,049 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:34:55,049 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9CF1E2FCE165: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:34:55,049 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:34:55,063 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-9CF1E2FCE165-LeaderElection16: begin an election at term 2 for -1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:55,064 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9CF1E2FCE165: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-26 13:34:55,064 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9CF1E2FCE165: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-26 13:34:55,065 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:55,065 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:55,065 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-9CF1E2FCE165-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:55,065 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:34:55,065 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:34:55,066 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-9CF1E2FCE165-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:55,079 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-9CF1E2FCE165-LeaderElection16: Election PASSED; received 1 response(s) [s0<-s2#0:OK-t2] and 0 exception(s); s0@group-9CF1E2FCE165:t2, leader=null, voted=s0, raftlog=s0@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null
2019-09-26 13:34:55,080 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:34:55,080 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9CF1E2FCE165: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 13:34:55,080 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9CF1E2FCE165: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 393ms
2019-09-26 13:34:55,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-26 13:34:55,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:34:55,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:34:55,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:34:55,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:34:55,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:34:55,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:55,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:55,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:55,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:34:55,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:34:55,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:34:55,084 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 13:34:55,085 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-9CF1E2FCE165-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:55,085 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-9CF1E2FCE165: set configuration 0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null at 0
2019-09-26 13:34:55,086 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9CF1E2FCE165: change Leader from null to s0 at term 2 for appendEntries, leader elected after 393ms
2019-09-26 13:34:55,086 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9CF1E2FCE165: change Leader from null to s0 at term 2 for appendEntries, leader elected after 400ms
2019-09-26 13:34:55,089 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-9CF1E2FCE165: set configuration 0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null at 0
2019-09-26 13:34:55,089 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-9CF1E2FCE165: set configuration 0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null at 0
2019-09-26 13:34:55,089 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-9CF1E2FCE165-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:55,089 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-9CF1E2FCE165-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:34:55,161 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9CF1E2FCE165:t2, leader=s0, voted=s0, raftlog=s0@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CF1E2FCE165:t2, leader=s0, voted=s0, raftlog=s1@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CF1E2FCE165:t2, leader=s0, voted=s0, raftlog=s2@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
2019-09-26 13:34:55,169 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] READ: [id: 0x0601e65d, L:/192.168.164.227:34266 - R:/192.168.164.227:52786]
2019-09-26 13:34:55,170 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] READ COMPLETE
2019-09-26 13:34:55,238 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-9CF1E2FCE165-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s0/7715fa17-b3aa-4815-979c-9cf1e2fce165/current/log_inprogress_0
2019-09-26 13:34:55,238 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-9CF1E2FCE165-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s2/7715fa17-b3aa-4815-979c-9cf1e2fce165/current/log_inprogress_0
2019-09-26 13:34:55,238 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-9CF1E2FCE165-SegmentedRaftLogWorker: created new log segment /workdir/ratis-logservice/target/test/data/7f4d0f3d/MiniRaftClusterWithNettya554af4f/s1/7715fa17-b3aa-4815-979c-9cf1e2fce165/current/log_inprogress_0
2019-09-26 13:34:55,286 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testLogServiceReadWrite(138)) - last id 0
2019-09-26 13:34:55,302 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testLogServiceReadWrite(143)) - ids [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2019-09-26 13:34:55,304 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testLogServiceReadWrite(150)) - last id 1
2019-09-26 13:34:55,310 INFO  logservice.LogServiceReadWriteBase (LogServiceReadWriteBase.java:testLogServiceReadWrite(154)) - start id 0
2019-09-26 13:34:55,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:34:55,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:34:55,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithNetty
2019-09-26 13:34:55,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:34:55,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:34:55,312 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9CF1E2FCE165:t2, leader=s0, voted=s0, raftlog=s0@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c1,f1,i2, conf=0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CF1E2FCE165:t2, leader=s0, voted=s0, raftlog=s1@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CF1E2FCE165:t2, leader=s0, voted=s0, raftlog=s2@group-9CF1E2FCE165-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:34266, s1:0.0.0.0:34114, s2:0.0.0.0:42288], old=null RUNNING
2019-09-26 13:34:55,312 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:34:55,313 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-9CF1E2FCE165: shutdown
2019-09-26 13:34:55,313 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:34:55,314 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CF1E2FCE165,id=s0
2019-09-26 13:34:55,313 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:34:55,315 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 13:34:55,315 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-9CF1E2FCE165: shutdown
2019-09-26 13:34:55,316 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9CF1E2FCE165->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-26 13:34:55,316 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-9CF1E2FCE165-PendingRequests: sendNotLeaderResponses
2019-09-26 13:34:55,316 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9CF1E2FCE165->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-26 13:34:55,316 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-9CF1E2FCE165: shutdown
2019-09-26 13:34:55,319 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-9CF1E2FCE165-StateMachineUpdater: set stopIndex = 2
2019-09-26 13:34:55,317 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CF1E2FCE165,id=s1
2019-09-26 13:34:55,319 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-9CF1E2FCE165: closes. applyIndex: 2
2019-09-26 13:34:55,319 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CF1E2FCE165,id=s2
2019-09-26 13:34:55,319 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-9CF1E2FCE165-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:55,319 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:34:55,320 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:34:55,320 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-9CF1E2FCE165-StateMachineUpdater: set stopIndex = 1
2019-09-26 13:34:55,320 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-9CF1E2FCE165-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:55,321 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-9CF1E2FCE165: closes. applyIndex: 1
2019-09-26 13:34:55,320 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-9CF1E2FCE165-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:34:55,320 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-9CF1E2FCE165-StateMachineUpdater: set stopIndex = 1
2019-09-26 13:34:55,322 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-9CF1E2FCE165-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:55,321 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-9CF1E2FCE165-SegmentedRaftLogWorker close()
2019-09-26 13:34:55,322 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-9CF1E2FCE165: closes. applyIndex: 1
2019-09-26 13:34:55,324 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8d35d696, L:/0.0.0.0:34266] UNREGISTERED
2019-09-26 13:34:55,324 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-9CF1E2FCE165-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:34:55,325 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-9CF1E2FCE165-SegmentedRaftLogWorker close()
2019-09-26 13:34:55,327 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-9CF1E2FCE165-SegmentedRaftLogWorker close()
2019-09-26 13:34:55,327 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x091e0f4a, L:/0.0.0.0:34114] UNREGISTERED
2019-09-26 13:34:55,328 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x5f15863b, L:/0.0.0.0:42288] UNREGISTERED
2019-09-26 13:34:55,331 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithNetty shutdown completed
