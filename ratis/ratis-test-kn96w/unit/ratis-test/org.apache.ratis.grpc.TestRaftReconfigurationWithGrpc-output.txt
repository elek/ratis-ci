2019-09-26 10:00:33,273 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-26 10:00:33,281 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:33,281 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:33,302 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:33,373 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406]
2019-09-26 10:00:33,374 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:33,374 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:33,374 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:33,374 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:33,375 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:33,375 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:33,384 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], format? true
2019-09-26 10:00:33,386 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0
2019-09-26 10:00:33,394 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0 does not exist.
2019-09-26 10:00:33,394 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0
2019-09-26 10:00:33,405 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:33,473 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:33,478 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35243 (custom)
2019-09-26 10:00:33,482 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:33,486 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:33,487 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:33,494 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:33,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0] (custom)
2019-09-26 10:00:33,677 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406] returns group-A577CA7A2073:java.util.concurrent.CompletableFuture@5638f053[Not completed]
2019-09-26 10:00:33,677 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], format? true
2019-09-26 10:00:33,678 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1
2019-09-26 10:00:33,678 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1 does not exist.
2019-09-26 10:00:33,678 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1
2019-09-26 10:00:33,679 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:33,679 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:33,680 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41445 (custom)
2019-09-26 10:00:33,680 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:33,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:33,681 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:33,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:33,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1] (custom)
2019-09-26 10:00:33,683 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406] returns group-A577CA7A2073:java.util.concurrent.CompletableFuture@d717e10[Not completed]
2019-09-26 10:00:33,684 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], format? true
2019-09-26 10:00:33,684 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2
2019-09-26 10:00:33,684 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2 does not exist.
2019-09-26 10:00:33,685 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2
2019-09-26 10:00:33,685 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406] with BaseStateMachine:uninitialized
2019-09-26 10:00:33,685 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406] with BaseStateMachine:uninitialized
2019-09-26 10:00:33,685 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:33,686 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:33,686 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38406 (custom)
2019-09-26 10:00:33,687 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:33,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:33,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:33,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:33,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:33,688 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:33,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:33,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:33,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:33,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:33,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:33,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:33,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2] (custom)
2019-09-26 10:00:33,691 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406] returns group-A577CA7A2073:java.util.concurrent.CompletableFuture@44d3af48[Not completed]
2019-09-26 10:00:33,691 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-A577CA7A2073:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406] with BaseStateMachine:uninitialized
2019-09-26 10:00:33,691 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:33,691 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:33,692 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:33,692 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:33,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:33,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:33,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:33,700 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-A577CA7A2073: ConfigurationManager, init=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:33,700 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-A577CA7A2073: ConfigurationManager, init=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:33,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0] (custom)
2019-09-26 10:00:33,700 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-A577CA7A2073: ConfigurationManager, init=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:33,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2] (custom)
2019-09-26 10:00:33,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1] (custom)
2019-09-26 10:00:33,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:33,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:33,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:33,718 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073 does not exist. Creating ...
2019-09-26 10:00:33,718 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073 does not exist. Creating ...
2019-09-26 10:00:33,718 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073 does not exist. Creating ...
2019-09-26 10:00:33,720 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073
2019-09-26 10:00:33,721 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073
2019-09-26 10:00:33,721 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073
2019-09-26 10:00:33,752 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:33,752 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:33,752 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:33,753 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073/current
2019-09-26 10:00:33,753 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073/current
2019-09-26 10:00:33,753 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073/current
2019-09-26 10:00:33,754 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073/sm
2019-09-26 10:00:33,753 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073/sm
2019-09-26 10:00:33,754 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073/sm
2019-09-26 10:00:33,775 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073 has been successfully formatted.
2019-09-26 10:00:33,775 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073 has been successfully formatted.
2019-09-26 10:00:33,775 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073 has been successfully formatted.
2019-09-26 10:00:33,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:33,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:33,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:33,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:33,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:33,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:33,789 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:33,789 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:33,789 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:33,789 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:33,789 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:33,790 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:33,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:33,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:33,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:33,798 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:33,798 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:33,798 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:33,805 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-A577CA7A2073-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073
2019-09-26 10:00:33,805 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-A577CA7A2073-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073
2019-09-26 10:00:33,805 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-A577CA7A2073-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073
2019-09-26 10:00:33,882 WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(124)) - Cannot locate configuration: tried hadoop-metrics2-ratis.properties,hadoop-metrics2.properties
2019-09-26 10:00:33,988 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(376)) - Scheduled snapshot period at 10 second(s).
2019-09-26 10:00:33,988 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - ratis metrics system started
2019-09-26 10:00:33,994 INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-09-26 10:00:34,028 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:34,029 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:34,031 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:34,031 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:34,031 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:34,031 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:34,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:34,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:34,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:34,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:34,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:34,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:34,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:34,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:34,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:34,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:34,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:34,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:34,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:34,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:34,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:34,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:34,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:34,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:34,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:34,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:34,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:34,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:34,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:34,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:34,049 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-A577CA7A2073-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:34,049 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-A577CA7A2073-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:34,049 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-A577CA7A2073-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:34,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:34,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:34,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:34,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:34,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:34,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:34,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:34,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:34,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:34,081 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-A577CA7A2073: start as a follower, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,084 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A577CA7A2073: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:34,086 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:34,089 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A577CA7A2073,id=s0
2019-09-26 10:00:34,101 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:34,223 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:35243
2019-09-26 10:00:34,223 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-A577CA7A2073: start as a follower, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,223 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A577CA7A2073: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:34,223 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:34,224 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A577CA7A2073,id=s1
2019-09-26 10:00:34,229 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:34,229 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:41445
2019-09-26 10:00:34,230 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-A577CA7A2073: start as a follower, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,230 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A577CA7A2073: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:34,231 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:34,232 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A577CA7A2073,id=s2
2019-09-26 10:00:34,240 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:34,242 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:38406
2019-09-26 10:00:34,246 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:34,252 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
2019-09-26 10:00:34,259 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A577CA7A2073:t0, leader=null, voted=null, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestNoChangeRequest(RaftReconfigurationBaseTest.java:394)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testNoChangeRequest(RaftReconfigurationBaseTest.java:390)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:34,294 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-A577CA7A2073-FollowerState: change to CANDIDATE, lastRpcTime:208ms, electionTimeout:207ms
2019-09-26 10:00:34,296 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:34,297 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A577CA7A2073: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:34,301 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:34,316 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A577CA7A2073-LeaderElection1: begin an election at term 1 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,453 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-A577CA7A2073-FollowerState: change to CANDIDATE, lastRpcTime:222ms, electionTimeout:205ms
2019-09-26 10:00:34,453 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-A577CA7A2073-FollowerState: change to CANDIDATE, lastRpcTime:229ms, electionTimeout:223ms
2019-09-26 10:00:34,454 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:34,454 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:34,454 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A577CA7A2073: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:34,454 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A577CA7A2073: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:34,454 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:00:34,454 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:00:34,469 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-A577CA7A2073-LeaderElection2: begin an election at term 1 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,469 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-A577CA7A2073-LeaderElection3: begin an election at term 1 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,506 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A577CA7A2073-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-A577CA7A2073:t1, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,521 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A577CA7A2073-LeaderElection1: begin an election at term 2 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,635 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-A577CA7A2073-LeaderElection3: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-A577CA7A2073:t1, leader=null, voted=s1, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,651 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-A577CA7A2073-LeaderElection3: begin an election at term 2 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,696 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-A577CA7A2073-LeaderElection2: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s2@group-A577CA7A2073:t1, leader=null, voted=s2, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,712 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-A577CA7A2073:t2, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-A577CA7A2073:t2, leader=null, voted=s1, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-A577CA7A2073:t2, leader=null, voted=s2, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-A577CA7A2073:t2, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-A577CA7A2073:t2, leader=null, voted=s1, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-A577CA7A2073:t2, leader=null, voted=s2, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestNoChangeRequest(RaftReconfigurationBaseTest.java:394)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testNoChangeRequest(RaftReconfigurationBaseTest.java:390)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:34,721 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-A577CA7A2073-LeaderElection2: begin an election at term 2 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,770 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A577CA7A2073-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-A577CA7A2073:t2, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,784 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A577CA7A2073-LeaderElection1: begin an election at term 3 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A577CA7A2073: receive requestVote(s2, group-A577CA7A2073, 1, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-A577CA7A2073: receive requestVote(s1, group-A577CA7A2073, 2, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-A577CA7A2073: receive requestVote(s2, group-A577CA7A2073, 1, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 1, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 2, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A577CA7A2073: receive requestVote(s1, group-A577CA7A2073, 1, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 3, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 3, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-A577CA7A2073: receive requestVote(s2, group-A577CA7A2073, 2, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 1, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-A577CA7A2073: receive requestVote(s1, group-A577CA7A2073, 1, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A577CA7A2073: receive requestVote(s1, group-A577CA7A2073, 2, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A577CA7A2073: receive requestVote(s2, group-A577CA7A2073, 2, (t:0, i:0))
2019-09-26 10:00:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 2, (t:0, i:0))
2019-09-26 10:00:34,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A577CA7A2073 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-A577CA7A2073:t2, leader=null, voted=s1, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-A577CA7A2073 replies to vote request: s2<-s0#0:FAIL-t3. Peer's state: s0@group-A577CA7A2073:t3, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A577CA7A2073 replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-A577CA7A2073:t2, leader=null, voted=s2, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-A577CA7A2073 replies to vote request: s1<-s0#0:FAIL-t3. Peer's state: s0@group-A577CA7A2073:t3, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A577CA7A2073 replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-A577CA7A2073:t2, leader=null, voted=s1, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-A577CA7A2073 replies to vote request: s2<-s0#0:FAIL-t3. Peer's state: s0@group-A577CA7A2073:t3, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A577CA7A2073 replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-A577CA7A2073:t2, leader=null, voted=s2, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A577CA7A2073 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-A577CA7A2073:t2, leader=null, voted=s1, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,803 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A577CA7A2073 replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-A577CA7A2073:t2, leader=null, voted=s2, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-A577CA7A2073 replies to vote request: s1<-s0#0:FAIL-t3. Peer's state: s0@group-A577CA7A2073:t3, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A577CA7A2073: changes role from CANDIDATE to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-26 10:00:34,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A577CA7A2073: changes role from CANDIDATE to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-26 10:00:34,804 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:00:34,804 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:00:34,805 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:34,805 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:34,814 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-A577CA7A2073-LeaderElection3: Election REJECTED; received 1 response(s) [s1<-s2#0:FAIL-t2] and 0 exception(s); s1@group-A577CA7A2073:t3, leader=null, voted=null, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,814 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-A577CA7A2073-LeaderElection2: Election REJECTED; received 1 response(s) [s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-A577CA7A2073:t3, leader=null, voted=null, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,818 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A577CA7A2073 replies to vote request: s0<-s2#0:FAIL-t3. Peer's state: s2@group-A577CA7A2073:t3, leader=null, voted=null, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,818 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A577CA7A2073 replies to vote request: s0<-s1#0:FAIL-t3. Peer's state: s1@group-A577CA7A2073:t3, leader=null, voted=null, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,819 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A577CA7A2073 replies to vote request: s1<-s2#0:FAIL-t3. Peer's state: s2@group-A577CA7A2073:t3, leader=null, voted=null, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,819 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A577CA7A2073 replies to vote request: s0<-s1#0:FAIL-t3. Peer's state: s1@group-A577CA7A2073:t3, leader=null, voted=null, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,823 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A577CA7A2073-LeaderElection1: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t3, s0<-s2#0:FAIL-t3] and 0 exception(s); s0@group-A577CA7A2073:t3, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:34,823 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A577CA7A2073: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:34,823 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:34,823 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:35,026 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-A577CA7A2073-FollowerState: change to CANDIDATE, lastRpcTime:202ms, electionTimeout:202ms
2019-09-26 10:00:35,026 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:35,026 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A577CA7A2073: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-26 10:00:35,027 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:35,048 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A577CA7A2073-LeaderElection4: begin an election at term 4 for -1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:35,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 4, (t:0, i:0))
2019-09-26 10:00:35,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A577CA7A2073: receive requestVote(s0, group-A577CA7A2073, 4, (t:0, i:0))
2019-09-26 10:00:35,053 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A577CA7A2073: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 10:00:35,054 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A577CA7A2073: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 10:00:35,054 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:35,054 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:35,054 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-A577CA7A2073-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:35,054 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:35,054 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-A577CA7A2073-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:35,054 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:35,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A577CA7A2073 replies to vote request: s0<-s2#0:OK-t4. Peer's state: s2@group-A577CA7A2073:t4, leader=null, voted=s0, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:35,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A577CA7A2073 replies to vote request: s0<-s1#0:OK-t4. Peer's state: s1@group-A577CA7A2073:t4, leader=null, voted=s0, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:35,075 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A577CA7A2073-LeaderElection4: Election PASSED; received 1 response(s) [s0<-s2#0:OK-t4] and 0 exception(s); s0@group-A577CA7A2073:t4, leader=null, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null
2019-09-26 10:00:35,075 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:35,075 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A577CA7A2073: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-26 10:00:35,075 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-A577CA7A2073: change Leader from null to s0 at term 4 for becomeLeader, leader elected after 1298ms
2019-09-26 10:00:35,078 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:35,078 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:35,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:35,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:35,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:35,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:35,105 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:35,105 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,106 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:35,109 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:35,109 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,109 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,111 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:35,111 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,111 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:35,111 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:35,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,114 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 10:00:35,133 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-A577CA7A2073-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:35,142 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-A577CA7A2073: set configuration 0: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null at 0
2019-09-26 10:00:35,165 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A577CA7A2073:t4, leader=s0, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A577CA7A2073:t4, leader=null, voted=s0, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A577CA7A2073:t4, leader=null, voted=s0, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
2019-09-26 10:00:35,170 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-A577CA7A2073: change Leader from null to s0 at term 4 for appendEntries, leader elected after 1392ms
2019-09-26 10:00:35,170 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-A577CA7A2073: change Leader from null to s0 at term 4 for appendEntries, leader elected after 1392ms
2019-09-26 10:00:35,189 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A577CA7A2073: receive appendEntries(s0, 4, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:35,189 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A577CA7A2073: receive appendEntries(s0, 4, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:35,191 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-A577CA7A2073: set configuration 0: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null at 0
2019-09-26 10:00:35,191 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-A577CA7A2073: set configuration 0: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null at 0
2019-09-26 10:00:35,191 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-A577CA7A2073-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:35,191 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-A577CA7A2073-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:35,225 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-A577CA7A2073: receive client request(RaftClientRequest:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, seq=0, RW, Message:6d)
2019-09-26 10:00:35,227 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, seq=0, RW, Message:6d, reply=RaftClientReply:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-A577CA7A2073 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2019-09-26 10:00:35,353 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-A577CA7A2073: receive client request(RaftClientRequest:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, seq=0, RW, Message:6d)
2019-09-26 10:00:35,354 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, seq=0, RW, Message:6d, reply=RaftClientReply:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-A577CA7A2073 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2019-09-26 10:00:35,433 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-A577CA7A2073-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s0/431ce6ac-87a1-4883-838c-a577ca7a2073/current/log_inprogress_0
2019-09-26 10:00:35,433 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-A577CA7A2073-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s1/431ce6ac-87a1-4883-838c-a577ca7a2073/current/log_inprogress_0
2019-09-26 10:00:35,433 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-A577CA7A2073-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc57849d43/s2/431ce6ac-87a1-4883-838c-a577ca7a2073/current/log_inprogress_0
2019-09-26 10:00:35,451 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A577CA7A2073: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:4,followerCommit:-1
2019-09-26 10:00:35,451 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A577CA7A2073: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:4,followerCommit:-1
2019-09-26 10:00:35,459 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-A577CA7A2073: receive client request(RaftClientRequest:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, seq=0, RW, Message:6d)
2019-09-26 10:00:35,473 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-A577CA7A2073-LeaderState: addPendingRequest at RaftClientRequest:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=0, seq=0, RW, Message:6d, entry=(t:4, i:1), STATEMACHINELOGENTRY, client-C94B9B7BF0E4, cid=0
2019-09-26 10:00:35,478 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A577CA7A2073: receive appendEntries(s0, 4, (t:4, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:4, i:1), STATEMACHINELOGENTRY, client-C94B9B7BF0E4, cid=0
2019-09-26 10:00:35,478 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A577CA7A2073: receive appendEntries(s0, 4, (t:4, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:4, i:1), STATEMACHINELOGENTRY, client-C94B9B7BF0E4, cid=0
2019-09-26 10:00:35,485 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A577CA7A2073: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK,SUCCESS,nextIndex:2,term:4,followerCommit:0
2019-09-26 10:00:35,485 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A577CA7A2073: succeeded to handle AppendEntries. Reply: s0<-s2#5:OK,SUCCESS,nextIndex:2,term:4,followerCommit:0
2019-09-26 10:00:35,493 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A577CA7A2073: receive appendEntries(s0, 4, (t:4, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-26 10:00:35,493 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A577CA7A2073: receive appendEntries(s0, 4, (t:4, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-26 10:00:35,497 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A577CA7A2073: succeeded to handle AppendEntries. Reply: s0<-s1#6:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-26 10:00:35,498 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A577CA7A2073: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-26 10:00:35,510 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-A577CA7A2073: receive setConfiguration SetConfigurationRequest:client-C94B9B7BF0E4->s0@group-A577CA7A2073, cid=1, seq=0, RW, null, peers:[s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406]
2019-09-26 10:00:35,522 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:35,523 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:35,523 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:35,523 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:35,523 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:35,524 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A577CA7A2073:t4, leader=s0, voted=s0, raftlog=s0@group-A577CA7A2073-SegmentedRaftLog:OPENED:c2,f2,i2, conf=0: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A577CA7A2073:t4, leader=s0, voted=s0, raftlog=s1@group-A577CA7A2073-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A577CA7A2073:t4, leader=s0, voted=s0, raftlog=s2@group-A577CA7A2073-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:35243, s1:0.0.0.0:41445, s2:0.0.0.0:38406], old=null RUNNING
2019-09-26 10:00:35,526 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:35,526 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:35,527 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:35,528 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-A577CA7A2073: shutdown
2019-09-26 10:00:35,529 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-A577CA7A2073: shutdown
2019-09-26 10:00:35,529 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A577CA7A2073,id=s0
2019-09-26 10:00:35,529 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-A577CA7A2073: shutdown
2019-09-26 10:00:35,529 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 10:00:35,529 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A577CA7A2073,id=s1
2019-09-26 10:00:35,529 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A577CA7A2073,id=s2
2019-09-26 10:00:35,530 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:35,530 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-A577CA7A2073-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:35,530 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-A577CA7A2073->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:35,530 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-A577CA7A2073->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:35,530 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:35,530 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-A577CA7A2073-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:35,530 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-A577CA7A2073-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:00:35,531 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-A577CA7A2073-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:35,531 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-A577CA7A2073-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:00:35,532 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-A577CA7A2073-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:00:35,532 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-A577CA7A2073: closes. applyIndex: 1
2019-09-26 10:00:35,532 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-A577CA7A2073: closes. applyIndex: 2
2019-09-26 10:00:35,532 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-A577CA7A2073: closes. applyIndex: 1
2019-09-26 10:00:35,533 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#6-t4, previous=(t:4, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:4, i:2), METADATAENTRY(c1)
2019-09-26 10:00:35,533 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#6-t4, previous=(t:4, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:4, i:2), METADATAENTRY(c1)
2019-09-26 10:00:35,534 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-A577CA7A2073->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:35,534 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-A577CA7A2073->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:35,534 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-A577CA7A2073-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:35,534 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-A577CA7A2073-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:35,534 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-A577CA7A2073-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:35,536 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-A577CA7A2073->s2: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:35,536 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-A577CA7A2073->s1: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:35,537 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-A577CA7A2073-SegmentedRaftLogWorker close()
2019-09-26 10:00:35,537 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-A577CA7A2073-SegmentedRaftLogWorker close()
2019-09-26 10:00:35,537 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-A577CA7A2073-SegmentedRaftLogWorker close()
2019-09-26 10:00:35,538 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 38406 now
2019-09-26 10:00:35,538 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 35243 now
2019-09-26 10:00:35,538 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 41445 now
2019-09-26 10:00:35,541 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 35243 successfully
2019-09-26 10:00:35,542 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 41445 successfully
2019-09-26 10:00:35,544 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 38406 successfully
2019-09-26 10:00:35,545 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:35,547 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:35,547 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:35,548 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:35,549 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:35,549 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:35,549 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:35,549 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:35,549 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:35,550 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:35,550 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:35,550 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], format? true
2019-09-26 10:00:35,550 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3
2019-09-26 10:00:35,550 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3 does not exist.
2019-09-26 10:00:35,551 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3
2019-09-26 10:00:35,551 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:35,551 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:35,552 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41930 (custom)
2019-09-26 10:00:35,552 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:35,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,552 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:35,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3] (custom)
2019-09-26 10:00:35,554 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] returns group-AB479911EA73:java.util.concurrent.CompletableFuture@f4594dd[Not completed]
2019-09-26 10:00:35,554 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] with BaseStateMachine:uninitialized
2019-09-26 10:00:35,554 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], format? true
2019-09-26 10:00:35,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:35,554 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4
2019-09-26 10:00:35,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:35,555 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4 does not exist.
2019-09-26 10:00:35,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:35,555 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4
2019-09-26 10:00:35,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:35,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,555 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:35,556 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-AB479911EA73: ConfigurationManager, init=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:35,556 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:35,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3] (custom)
2019-09-26 10:00:35,556 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44073 (custom)
2019-09-26 10:00:35,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:35,557 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:35,557 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73 does not exist. Creating ...
2019-09-26 10:00:35,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,557 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:35,558 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,558 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,558 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4] (custom)
2019-09-26 10:00:35,559 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] returns group-AB479911EA73:java.util.concurrent.CompletableFuture@59cd04ea[Not completed]
2019-09-26 10:00:35,559 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], format? true
2019-09-26 10:00:35,559 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] with BaseStateMachine:uninitialized
2019-09-26 10:00:35,559 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0
2019-09-26 10:00:35,559 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:35,559 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0 does not exist.
2019-09-26 10:00:35,559 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:35,560 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0
2019-09-26 10:00:35,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:35,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:35,560 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:35,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,560 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:35,561 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-AB479911EA73: ConfigurationManager, init=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:35,561 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37180 (custom)
2019-09-26 10:00:35,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4] (custom)
2019-09-26 10:00:35,561 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:35,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:35,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,562 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73 does not exist. Creating ...
2019-09-26 10:00:35,562 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:35,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,563 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0] (custom)
2019-09-26 10:00:35,563 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] returns group-AB479911EA73:java.util.concurrent.CompletableFuture@6c589aa3[Not completed]
2019-09-26 10:00:35,563 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] with BaseStateMachine:uninitialized
2019-09-26 10:00:35,563 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], format? true
2019-09-26 10:00:35,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:35,564 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1
2019-09-26 10:00:35,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:35,564 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1 does not exist.
2019-09-26 10:00:35,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:35,564 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1
2019-09-26 10:00:35,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:35,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,565 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:35,565 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-AB479911EA73: ConfigurationManager, init=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:35,565 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:35,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0] (custom)
2019-09-26 10:00:35,566 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37105 (custom)
2019-09-26 10:00:35,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:35,566 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:35,566 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73 does not exist. Creating ...
2019-09-26 10:00:35,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,567 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:35,567 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1] (custom)
2019-09-26 10:00:35,568 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] returns group-AB479911EA73:java.util.concurrent.CompletableFuture@e59666d[Not completed]
2019-09-26 10:00:35,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] with BaseStateMachine:uninitialized
2019-09-26 10:00:35,568 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], format? true
2019-09-26 10:00:35,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:35,569 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2
2019-09-26 10:00:35,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:35,569 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2 does not exist.
2019-09-26 10:00:35,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:35,569 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2
2019-09-26 10:00:35,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:35,570 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:35,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,570 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:35,570 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-AB479911EA73: ConfigurationManager, init=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:35,570 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41874 (custom)
2019-09-26 10:00:35,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1] (custom)
2019-09-26 10:00:35,571 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:35,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:35,571 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:35,571 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:35,571 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:35,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,572 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73/current
2019-09-26 10:00:35,572 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73/current
2019-09-26 10:00:35,572 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73/current
2019-09-26 10:00:35,571 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73 does not exist. Creating ...
2019-09-26 10:00:35,573 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73/sm
2019-09-26 10:00:35,573 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73/sm
2019-09-26 10:00:35,573 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,572 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73/sm
2019-09-26 10:00:35,572 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:35,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2] (custom)
2019-09-26 10:00:35,575 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] returns group-AB479911EA73:java.util.concurrent.CompletableFuture@7418c351[Not completed]
2019-09-26 10:00:35,575 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-AB479911EA73:[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] with BaseStateMachine:uninitialized
2019-09-26 10:00:35,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:35,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:35,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:35,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:35,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,576 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-AB479911EA73: ConfigurationManager, init=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:35,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2] (custom)
2019-09-26 10:00:35,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:35,577 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73 does not exist. Creating ...
2019-09-26 10:00:35,577 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,587 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:35,587 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73 has been successfully formatted.
2019-09-26 10:00:35,587 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73 has been successfully formatted.
2019-09-26 10:00:35,587 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73 has been successfully formatted.
2019-09-26 10:00:35,587 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:35,588 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:35,588 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:35,588 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:35,587 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73/current
2019-09-26 10:00:35,589 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:35,589 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:35,588 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73/current
2019-09-26 10:00:35,588 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:35,589 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:35,589 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:35,589 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73/sm
2019-09-26 10:00:35,590 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,590 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,590 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73/sm
2019-09-26 10:00:35,590 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:35,590 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,590 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,591 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:35,591 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,591 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-AB479911EA73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,591 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:35,591 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:35,591 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,591 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:35,591 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-AB479911EA73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:35,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:35,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:35,592 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-AB479911EA73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:35,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:35,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:35,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:35,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:35,593 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-AB479911EA73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:35,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:35,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:35,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:35,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:35,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:35,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:35,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:35,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:35,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:35,598 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-AB479911EA73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:35,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:35,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:35,599 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-AB479911EA73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:35,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:35,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:35,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:35,604 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-AB479911EA73: start as a follower, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,604 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73 has been successfully formatted.
2019-09-26 10:00:35,604 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73 has been successfully formatted.
2019-09-26 10:00:35,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:35,604 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-AB479911EA73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:35,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:35,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:35,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:35,605 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:35,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:35,605 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s3
2019-09-26 10:00:35,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:35,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:35,606 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-AB479911EA73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:35,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:35,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:35,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,607 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-AB479911EA73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73
2019-09-26 10:00:35,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:35,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:35,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:35,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:35,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:35,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:35,609 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-AB479911EA73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:35,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:35,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:35,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:35,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:35,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:35,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:35,610 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-AB479911EA73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:35,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:35,610 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:35,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:35,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:35,611 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:41930
2019-09-26 10:00:35,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-AB479911EA73: start as a follower, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,612 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-AB479911EA73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:35,612 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:35,612 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s4
2019-09-26 10:00:35,616 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:00:35,617 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:44073
2019-09-26 10:00:35,617 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-AB479911EA73: start as a follower, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,617 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-AB479911EA73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:35,618 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:35,618 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s0
2019-09-26 10:00:35,622 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:35,622 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:37180
2019-09-26 10:00:35,622 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-AB479911EA73: start as a follower, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,623 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-AB479911EA73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:35,623 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:35,624 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s1
2019-09-26 10:00:35,629 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:35,630 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:37105
2019-09-26 10:00:35,630 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-AB479911EA73: start as a follower, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,631 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-AB479911EA73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:35,631 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:35,631 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s2
2019-09-26 10:00:35,636 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:35,636 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:41874
2019-09-26 10:00:35,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:35,639 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:35,640 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AB479911EA73:t0, leader=null, voted=null, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testRemovePeers$1(RaftReconfigurationBaseTest.java:97)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRemovePeers(RaftReconfigurationBaseTest.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:35,763 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-AB479911EA73-FollowerState: change to CANDIDATE, lastRpcTime:158ms, electionTimeout:158ms
2019-09-26 10:00:35,764 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:35,764 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-AB479911EA73: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:35,764 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 10:00:35,776 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-AB479911EA73-FollowerState: change to CANDIDATE, lastRpcTime:152ms, electionTimeout:152ms
2019-09-26 10:00:35,776 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:35,776 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-AB479911EA73: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:35,777 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:00:35,786 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-AB479911EA73-LeaderElection6: begin an election at term 1 for -1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,786 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-AB479911EA73-LeaderElection5: begin an election at term 1 for -1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,798 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,798 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-AB479911EA73 replies to vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,798 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-AB479911EA73: receive requestVote(s1, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,799 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-AB479911EA73: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-26 10:00:35,799 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:35,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-AB479911EA73: receive requestVote(s1, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,800 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-AB479911EA73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:35,800 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:35,800 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-AB479911EA73: receive requestVote(s1, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,800 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-AB479911EA73: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-26 10:00:35,800 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-AB479911EA73: receive requestVote(s1, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,801 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:35,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 1, (t:0, i:0))
2019-09-26 10:00:35,800 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-AB479911EA73: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-26 10:00:35,801 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-AB479911EA73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:35,801 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:35,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-AB479911EA73 replies to vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-AB479911EA73:t1, leader=null, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,802 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:35,803 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:35,803 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-AB479911EA73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:35,814 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-AB479911EA73 replies to vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,814 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-AB479911EA73 replies to vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-AB479911EA73 replies to vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,814 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-AB479911EA73 replies to vote request: s1<-s4#0:OK-t1. Peer's state: s4@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-AB479911EA73 replies to vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-AB479911EA73 replies to vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,819 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-AB479911EA73-LeaderElection5: Election REJECTED; received 4 response(s) [s3<-s4#0:FAIL-t1, s3<-s0#0:FAIL-t1, s3<-s1#0:FAIL-t1, s3<-s2#0:FAIL-t1] and 0 exception(s); s3@group-AB479911EA73:t1, leader=null, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,819 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-AB479911EA73-LeaderElection6: Election PASSED; received 3 response(s) [s1<-s3#0:FAIL-t1, s1<-s4#0:OK-t1, s1<-s0#0:OK-t1] and 0 exception(s); s1@group-AB479911EA73:t1, leader=null, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:35,819 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-AB479911EA73: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:35,819 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 10:00:35,819 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:00:35,819 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:35,819 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-AB479911EA73: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:00:35,820 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-AB479911EA73: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 215ms
2019-09-26 10:00:35,820 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:35,820 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:35,820 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:35,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:35,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:35,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:35,824 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:35,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:35,825 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:35,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:35,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:35,826 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:35,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:35,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:35,828 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:35,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:35,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:35,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:35,829 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:35,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:35,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:35,830 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-26 10:00:35,830 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-AB479911EA73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:35,831 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-AB479911EA73: set configuration 0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 0
2019-09-26 10:00:35,834 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-AB479911EA73: change Leader from null to s1 at term 1 for appendEntries, leader elected after 230ms
2019-09-26 10:00:35,835 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-AB479911EA73: change Leader from null to s1 at term 1 for appendEntries, leader elected after 247ms
2019-09-26 10:00:35,835 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-AB479911EA73: change Leader from null to s1 at term 1 for appendEntries, leader elected after 246ms
2019-09-26 10:00:35,835 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-AB479911EA73: change Leader from null to s1 at term 1 for appendEntries, leader elected after 246ms
2019-09-26 10:00:35,838 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:35,839 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:35,839 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-AB479911EA73: set configuration 0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 0
2019-09-26 10:00:35,839 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-AB479911EA73: set configuration 0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 0
2019-09-26 10:00:35,839 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-AB479911EA73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:35,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-AB479911EA73: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:35,839 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-AB479911EA73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:35,840 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-AB479911EA73: set configuration 0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 0
2019-09-26 10:00:35,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-AB479911EA73: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:35,840 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-AB479911EA73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:35,841 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-AB479911EA73: set configuration 0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 0
2019-09-26 10:00:35,841 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-AB479911EA73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:36,091 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AB479911EA73:t1, leader=s1, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:36,096 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,104 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-AB479911EA73: receive setConfiguration SetConfigurationRequest:client-1235DAF24E00->s0@group-AB479911EA73, cid=2, seq=0, RW, null, peers:[s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,160 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-AB479911EA73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s4/5475cb10-0b0c-42ee-aa03-ab479911ea73/current/log_inprogress_0
2019-09-26 10:00:36,160 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-AB479911EA73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s2/5475cb10-0b0c-42ee-aa03-ab479911ea73/current/log_inprogress_0
2019-09-26 10:00:36,160 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-AB479911EA73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s0/5475cb10-0b0c-42ee-aa03-ab479911ea73/current/log_inprogress_0
2019-09-26 10:00:36,160 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-AB479911EA73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s3/5475cb10-0b0c-42ee-aa03-ab479911ea73/current/log_inprogress_0
2019-09-26 10:00:36,160 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-AB479911EA73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc820d025e/s1/5475cb10-0b0c-42ee-aa03-ab479911ea73/current/log_inprogress_0
2019-09-26 10:00:36,171 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:36,171 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:36,172 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:36,172 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s3#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:36,221 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-AB479911EA73: receive setConfiguration SetConfigurationRequest:client-1235DAF24E00->s1@group-AB479911EA73, cid=2, seq=0, RW, null, peers:[s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,222 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s1@group-AB479911EA73-LeaderState: startSetConfiguration SetConfigurationRequest:client-1235DAF24E00->s1@group-AB479911EA73, cid=2, seq=0, RW, null, peers:[s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,226 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-AB479911EA73: set configuration 1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] at 1
2019-09-26 10:00:36,228 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:36,228 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:36,228 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:36,228 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s3:c-1, s4:c-1, s0:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:36,229 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-AB479911EA73: set configuration 1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] at 1
2019-09-26 10:00:36,229 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-AB479911EA73: set configuration 1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] at 1
2019-09-26 10:00:36,228 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-AB479911EA73: set configuration 1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] at 1
2019-09-26 10:00:36,230 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-AB479911EA73: set configuration 1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] at 1
2019-09-26 10:00:36,237 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s0#6:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:36,237 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s4#6:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:36,237 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s3#6:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:36,237 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s2#6:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:36,240 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-AB479911EA73->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:36,240 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-AB479911EA73->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:36,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s3:c-1, s4:c0, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:36,240 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-AB479911EA73: set configuration 3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 3
2019-09-26 10:00:36,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s3:c-1, s4:c0, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:36,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s3:c-1, s4:c0, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:36,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s3:c-1, s4:c0, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:36,242 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s1->s3#7-t1, previous=(t:1, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:36,242 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s1->s4#7-t1, previous=(t:1, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:36,242 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:36,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:36,243 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-AB479911EA73->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:36,243 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-AB479911EA73: set configuration 3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 3
2019-09-26 10:00:36,243 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-AB479911EA73: set configuration 3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null at 3
2019-09-26 10:00:36,244 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-AB479911EA73->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:36,244 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-AB479911EA73->s3: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:36,245 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-AB479911EA73->s4: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:36,251 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s0#7:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:36,251 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s4#7:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:36,252 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s2#7:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:36,251 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s3#7:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:36,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s0#8:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:36,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s2#8:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:36,256 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:36,256 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:36,257 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:36,259 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AB479911EA73:t1, leader=s1, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:36,260 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-AB479911EA73:t1, leader=s1, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] RUNNING
2019-09-26 10:00:36,260 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testRemovePeers$1(RaftReconfigurationBaseTest.java:107)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRemovePeers(RaftReconfigurationBaseTest.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:36,266 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s0#9:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:00:36,266 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-AB479911EA73: succeeded to handle AppendEntries. Reply: s1<-s2#9:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:00:36,558 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-AB479911EA73-FollowerState: change to CANDIDATE, lastRpcTime:306ms, electionTimeout:268ms
2019-09-26 10:00:36,558 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:36,559 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-AB479911EA73: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:36,559 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 10:00:36,559 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-AB479911EA73: change Leader from s1 to null at term 1 for initElection
2019-09-26 10:00:36,579 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-AB479911EA73-LeaderElection7: begin an election at term 2 for 1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,585 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 2, (t:1, i:2))
2019-09-26 10:00:36,585 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-AB479911EA73 replies to vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:36,585 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 2, (t:1, i:2))
2019-09-26 10:00:36,586 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-AB479911EA73 replies to vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:36,586 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 2, (t:1, i:2))
2019-09-26 10:00:36,586 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-AB479911EA73: receive requestVote(s3, group-AB479911EA73, 2, (t:1, i:2))
2019-09-26 10:00:36,587 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-AB479911EA73 replies to vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,588 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-AB479911EA73 replies to vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:36,590 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-AB479911EA73-LeaderElection7: Election SHUTDOWN; received 4 response(s) [s3<-s4#0:FAIL-t1, s3<-s0#0:FAIL-t1, s3<-s1#0:FAIL-t1, s3<-s2#0:FAIL-t1] and 0 exception(s); s3@group-AB479911EA73:t2, leader=null, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,590 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s3@group-AB479911EA73-LeaderElection7 received shutdown response when requesting votes.
2019-09-26 10:00:36,591 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:36,591 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-AB479911EA73: shutdown
2019-09-26 10:00:36,591 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s3
2019-09-26 10:00:36,591 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 10:00:36,592 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-AB479911EA73-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:00:36,592 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-AB479911EA73: closes. applyIndex: 1
2019-09-26 10:00:36,592 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-AB479911EA73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:36,594 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-AB479911EA73-SegmentedRaftLogWorker close()
2019-09-26 10:00:36,594 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 41930 now
2019-09-26 10:00:36,597 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 41930 successfully
2019-09-26 10:00:36,646 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-AB479911EA73-FollowerState: change to CANDIDATE, lastRpcTime:395ms, electionTimeout:256ms
2019-09-26 10:00:36,647 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:36,647 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-AB479911EA73: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:36,647 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 10:00:36,647 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-AB479911EA73: change Leader from s1 to null at term 1 for initElection
2019-09-26 10:00:36,661 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-AB479911EA73-LeaderElection8: begin an election at term 2 for 1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,669 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-AB479911EA73: receive requestVote(s4, group-AB479911EA73, 2, (t:1, i:2))
2019-09-26 10:00:36,669 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-AB479911EA73: receive requestVote(s4, group-AB479911EA73, 2, (t:1, i:2))
2019-09-26 10:00:36,669 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-AB479911EA73 replies to vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:36,669 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-AB479911EA73 replies to vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:36,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-AB479911EA73: receive requestVote(s4, group-AB479911EA73, 2, (t:1, i:2))
2019-09-26 10:00:36,676 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-AB479911EA73 replies to vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null
2019-09-26 10:00:36,676 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s4@group-AB479911EA73-LeaderElection8 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:36,677 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-AB479911EA73-LeaderElection8: Election SHUTDOWN; received 3 response(s) [s4<-s0#0:FAIL-t1, s4<-s1#0:FAIL-t1, s4<-s2#0:FAIL-t1] and 1 exception(s); s4@group-AB479911EA73:t2, leader=null, voted=s4, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874]
2019-09-26 10:00:36,678 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:36,678 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s4@group-AB479911EA73-LeaderElection8 received shutdown response when requesting votes.
2019-09-26 10:00:36,678 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:00:36,679 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-AB479911EA73: shutdown
2019-09-26 10:00:36,679 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s4
2019-09-26 10:00:36,679 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 10:00:36,679 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-AB479911EA73-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:00:36,680 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-AB479911EA73: closes. applyIndex: 1
2019-09-26 10:00:36,680 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-AB479911EA73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:36,681 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-AB479911EA73-SegmentedRaftLogWorker close()
2019-09-26 10:00:36,682 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 44073 now
2019-09-26 10:00:36,683 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 44073 successfully
2019-09-26 10:00:37,461 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], deadPeers=null, printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-AB479911EA73:t2, leader=null, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:CLOSED:c1, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] CLOSED
  s4:   CLOSED CANDIDATE s4@group-AB479911EA73:t2, leader=null, voted=s4, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:CLOSED:c1, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] CLOSED
  s0:  RUNNING  FOLLOWER s0@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:37,462 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s3@group-AB479911EA73:t2, leader=null, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:CLOSED:c1, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] CLOSED
2019-09-26 10:00:37,462 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s4@group-AB479911EA73:t2, leader=null, voted=s4, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:CLOSED:c1, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] CLOSED
2019-09-26 10:00:37,463 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s0@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:37,463 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s1@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:37,463 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:37,463 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:37,464 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:37,464 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:37,464 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:37,464 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:37,465 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-AB479911EA73:t2, leader=null, voted=s3, raftlog=s3@group-AB479911EA73-SegmentedRaftLog:CLOSED:c1, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] CLOSED
  s4:   CLOSED CANDIDATE s4@group-AB479911EA73:t2, leader=null, voted=s4, raftlog=s4@group-AB479911EA73-SegmentedRaftLog:CLOSED:c1, conf=1: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=[s3:0.0.0.0:41930, s4:0.0.0.0:44073, s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874] CLOSED
  s0:  RUNNING  FOLLOWER s0@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s0@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s1@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AB479911EA73:t1, leader=s1, voted=s1, raftlog=s2@group-AB479911EA73-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:37180, s1:0.0.0.0:37105, s2:0.0.0.0:41874], old=null RUNNING
2019-09-26 10:00:37,467 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:37,468 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:37,467 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:37,468 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-AB479911EA73: shutdown
2019-09-26 10:00:37,468 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-AB479911EA73: shutdown
2019-09-26 10:00:37,469 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s2
2019-09-26 10:00:37,468 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-AB479911EA73: shutdown
2019-09-26 10:00:37,469 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:37,469 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s0
2019-09-26 10:00:37,470 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-AB479911EA73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:37,470 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-AB479911EA73-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:37,469 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB479911EA73,id=s1
2019-09-26 10:00:37,470 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-AB479911EA73: closes. applyIndex: 4
2019-09-26 10:00:37,470 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:37,471 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-AB479911EA73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:37,471 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-26 10:00:37,471 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-AB479911EA73-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:37,471 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-AB479911EA73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:37,472 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-AB479911EA73: closes. applyIndex: 4
2019-09-26 10:00:37,472 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-AB479911EA73->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:37,473 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-AB479911EA73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:37,472 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-AB479911EA73-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:37,472 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-AB479911EA73->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:37,473 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-AB479911EA73-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:37,473 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#23-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 10:00:37,474 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#23-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 10:00:37,473 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-AB479911EA73: closes. applyIndex: 4
2019-09-26 10:00:37,474 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-AB479911EA73-SegmentedRaftLogWorker close()
2019-09-26 10:00:37,474 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-AB479911EA73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:37,474 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-AB479911EA73->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:37,474 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-AB479911EA73->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:37,475 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-AB479911EA73-SegmentedRaftLogWorker close()
2019-09-26 10:00:37,475 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 41874 now
2019-09-26 10:00:37,475 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 37180 now
2019-09-26 10:00:37,475 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-AB479911EA73->s0: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:37,476 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-AB479911EA73-SegmentedRaftLogWorker close()
2019-09-26 10:00:37,477 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-AB479911EA73->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:37,477 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 37105 now
2019-09-26 10:00:37,477 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 37180 successfully
2019-09-26 10:00:37,477 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 41874 successfully
2019-09-26 10:00:37,478 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 37105 successfully
2019-09-26 10:00:37,479 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:37,480 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:37,480 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:37,482 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:37,483 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:37,483 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:37,483 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:37,483 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:37,484 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:37,484 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:37,484 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:37,484 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], format? true
2019-09-26 10:00:37,484 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3
2019-09-26 10:00:37,485 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3 does not exist.
2019-09-26 10:00:37,485 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3
2019-09-26 10:00:37,485 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:37,486 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:37,486 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35005 (custom)
2019-09-26 10:00:37,486 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:37,487 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,487 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:37,487 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:37,488 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3] (custom)
2019-09-26 10:00:37,489 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] returns group-0F5D8F2C2AB6:java.util.concurrent.CompletableFuture@edd37ea[Not completed]
2019-09-26 10:00:37,489 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] with BaseStateMachine:uninitialized
2019-09-26 10:00:37,489 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], format? true
2019-09-26 10:00:37,490 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:37,490 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4
2019-09-26 10:00:37,490 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:37,491 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4 does not exist.
2019-09-26 10:00:37,491 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4
2019-09-26 10:00:37,491 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:37,491 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:37,492 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:37,492 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:37,492 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:37,492 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-0F5D8F2C2AB6: ConfigurationManager, init=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:37,492 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33551 (custom)
2019-09-26 10:00:37,493 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3] (custom)
2019-09-26 10:00:37,493 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:37,493 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:37,493 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,493 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 does not exist. Creating ...
2019-09-26 10:00:37,494 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:37,494 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:37,494 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,495 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4] (custom)
2019-09-26 10:00:37,495 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] returns group-0F5D8F2C2AB6:java.util.concurrent.CompletableFuture@3b9d27c1[Not completed]
2019-09-26 10:00:37,495 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] with BaseStateMachine:uninitialized
2019-09-26 10:00:37,496 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], format? true
2019-09-26 10:00:37,496 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:37,496 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0
2019-09-26 10:00:37,496 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:37,497 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0 does not exist.
2019-09-26 10:00:37,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:37,497 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0
2019-09-26 10:00:37,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:37,498 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:37,498 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:37,498 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-0F5D8F2C2AB6: ConfigurationManager, init=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:37,498 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:37,498 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4] (custom)
2019-09-26 10:00:37,498 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41549 (custom)
2019-09-26 10:00:37,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:37,499 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:37,499 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 does not exist. Creating ...
2019-09-26 10:00:37,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,500 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:37,500 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:37,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0] (custom)
2019-09-26 10:00:37,501 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] returns group-0F5D8F2C2AB6:java.util.concurrent.CompletableFuture@6d2279b7[Not completed]
2019-09-26 10:00:37,502 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] with BaseStateMachine:uninitialized
2019-09-26 10:00:37,502 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], format? true
2019-09-26 10:00:37,502 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:37,502 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1
2019-09-26 10:00:37,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:37,503 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1 does not exist.
2019-09-26 10:00:37,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:37,503 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1
2019-09-26 10:00:37,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:37,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:37,504 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:37,504 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-0F5D8F2C2AB6: ConfigurationManager, init=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:37,504 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:37,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0] (custom)
2019-09-26 10:00:37,505 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44315 (custom)
2019-09-26 10:00:37,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:37,505 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:37,505 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 does not exist. Creating ...
2019-09-26 10:00:37,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,506 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:37,506 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:37,507 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1] (custom)
2019-09-26 10:00:37,507 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] returns group-0F5D8F2C2AB6:java.util.concurrent.CompletableFuture@6ea8b062[Not completed]
2019-09-26 10:00:37,508 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] with BaseStateMachine:uninitialized
2019-09-26 10:00:37,508 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], format? true
2019-09-26 10:00:37,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:37,508 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2
2019-09-26 10:00:37,509 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:37,509 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2 does not exist.
2019-09-26 10:00:37,509 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2
2019-09-26 10:00:37,509 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:37,509 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:37,509 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:37,510 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:37,510 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:37,510 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:37,510 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current
2019-09-26 10:00:37,510 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:37,511 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/sm
2019-09-26 10:00:37,510 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current
2019-09-26 10:00:37,510 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-0F5D8F2C2AB6: ConfigurationManager, init=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:37,511 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 36855 (custom)
2019-09-26 10:00:37,512 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1] (custom)
2019-09-26 10:00:37,511 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/sm
2019-09-26 10:00:37,512 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:37,512 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:37,512 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 does not exist. Creating ...
2019-09-26 10:00:37,512 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,513 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:37,513 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,513 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:37,514 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2] (custom)
2019-09-26 10:00:37,514 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] returns group-0F5D8F2C2AB6:java.util.concurrent.CompletableFuture@6ab7d864[Not completed]
2019-09-26 10:00:37,515 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] with BaseStateMachine:uninitialized
2019-09-26 10:00:37,515 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:37,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:37,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:37,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:37,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:37,516 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-0F5D8F2C2AB6: ConfigurationManager, init=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:37,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2] (custom)
2019-09-26 10:00:37,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:37,517 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 does not exist. Creating ...
2019-09-26 10:00:37,517 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,523 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:37,523 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:37,523 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 has been successfully formatted.
2019-09-26 10:00:37,523 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 has been successfully formatted.
2019-09-26 10:00:37,523 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:37,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:37,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:37,523 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current
2019-09-26 10:00:37,523 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current
2019-09-26 10:00:37,524 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/sm
2019-09-26 10:00:37,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:37,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:37,524 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current
2019-09-26 10:00:37,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:37,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:37,525 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/sm
2019-09-26 10:00:37,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,525 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/sm
2019-09-26 10:00:37,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:37,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:37,527 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-0F5D8F2C2AB6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,527 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-0F5D8F2C2AB6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:37,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:37,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:37,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:37,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:37,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:37,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:37,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:37,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:37,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:37,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:37,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:37,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:37,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:37,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:37,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:37,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:37,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:37,531 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:37,531 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:37,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:37,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:37,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:37,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:37,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:37,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:37,536 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-0F5D8F2C2AB6: start as a follower, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,536 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-0F5D8F2C2AB6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:37,537 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:37,537 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s3
2019-09-26 10:00:37,539 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 has been successfully formatted.
2019-09-26 10:00:37,539 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 has been successfully formatted.
2019-09-26 10:00:37,539 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 has been successfully formatted.
2019-09-26 10:00:37,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:37,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:37,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:37,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:37,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:37,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:37,541 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:37,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:37,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:37,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:37,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:37,544 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-0F5D8F2C2AB6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:37,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:37,544 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:35005
2019-09-26 10:00:37,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,545 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-0F5D8F2C2AB6: start as a follower, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:37,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,546 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-0F5D8F2C2AB6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:37,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:37,546 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:37,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:37,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:37,547 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s4
2019-09-26 10:00:37,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:37,547 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-0F5D8F2C2AB6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:37,547 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-0F5D8F2C2AB6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:37,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:37,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:37,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:37,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:37,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:37,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:37,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:37,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:37,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,550 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:37,550 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:37,550 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:37,550 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:37,551 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:00:37,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:37,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:37,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:37,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:37,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:37,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:37,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:37,553 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:33551
2019-09-26 10:00:37,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:37,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:37,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:37,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:37,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:37,555 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:37,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:37,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:37,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:37,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:37,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:37,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:37,556 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:37,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:37,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:37,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:37,561 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-0F5D8F2C2AB6: start as a follower, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,561 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-0F5D8F2C2AB6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:37,561 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:37,562 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s0
2019-09-26 10:00:37,565 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:37,567 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:41549
2019-09-26 10:00:37,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-0F5D8F2C2AB6: start as a follower, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-0F5D8F2C2AB6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:37,568 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:37,569 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s1
2019-09-26 10:00:37,572 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:37,575 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:44315
2019-09-26 10:00:37,575 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-0F5D8F2C2AB6: start as a follower, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,575 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-0F5D8F2C2AB6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:37,576 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:37,576 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s2
2019-09-26 10:00:37,580 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:37,582 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:36855
2019-09-26 10:00:37,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:37,583 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:37,583 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0F5D8F2C2AB6:t0, leader=null, voted=null, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:125)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testAddRemovePeers$2(RaftReconfigurationBaseTest.java:116)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testAddRemovePeers(RaftReconfigurationBaseTest.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:37,731 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:184ms, electionTimeout:184ms
2019-09-26 10:00:37,732 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:37,732 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:37,732 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 10:00:37,735 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:173ms, electionTimeout:173ms
2019-09-26 10:00:37,735 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:37,736 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:37,736 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:37,747 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-0F5D8F2C2AB6-LeaderElection9: begin an election at term 1 for -1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,747 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-0F5D8F2C2AB6-LeaderElection10: begin an election at term 1 for -1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,758 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:189ms, electionTimeout:189ms
2019-09-26 10:00:37,761 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:37,764 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:37,766 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:00:37,784 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,785 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-0F5D8F2C2AB6: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 10:00:37,786 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:37,786 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,786 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-0F5D8F2C2AB6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:37,786 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-0F5D8F2C2AB6 replies to vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-0F5D8F2C2AB6:t1, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,786 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:37,786 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,787 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-0F5D8F2C2AB6-LeaderElection11: begin an election at term 1 for -1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,786 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,788 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-0F5D8F2C2AB6: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 10:00:37,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,792 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:37,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-0F5D8F2C2AB6 replies to vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,795 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-0F5D8F2C2AB6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:37,795 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:37,795 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-0F5D8F2C2AB6 replies to vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-0F5D8F2C2AB6:t1, leader=null, voted=s1, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,794 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,798 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-0F5D8F2C2AB6 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-0F5D8F2C2AB6:t1, leader=null, voted=s1, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,803 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-0F5D8F2C2AB6 replies to vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,804 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-0F5D8F2C2AB6 replies to vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,804 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-0F5D8F2C2AB6 replies to vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-0F5D8F2C2AB6:t1, leader=null, voted=s4, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,805 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-0F5D8F2C2AB6 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-0F5D8F2C2AB6:t1, leader=null, voted=s4, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,812 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-0F5D8F2C2AB6-LeaderElection9: Election REJECTED; received 4 response(s) [s4<-s3#0:FAIL-t1, s4<-s0#0:FAIL-t1, s4<-s1#0:FAIL-t1, s4<-s2#0:OK-t1] and 0 exception(s); s4@group-0F5D8F2C2AB6:t1, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,813 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-0F5D8F2C2AB6: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:37,813 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 10:00:37,815 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:37,815 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-0F5D8F2C2AB6-LeaderElection10: Election REJECTED; received 4 response(s) [s0<-s3#0:OK-t1, s0<-s4#0:FAIL-t1, s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,816 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-0F5D8F2C2AB6: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:37,819 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:37,819 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:37,819 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-0F5D8F2C2AB6: receive requestVote(s1, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-0F5D8F2C2AB6 replies to vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-0F5D8F2C2AB6: receive requestVote(s1, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-0F5D8F2C2AB6 replies to vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-0F5D8F2C2AB6:t1, leader=null, voted=s4, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,823 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-0F5D8F2C2AB6: receive requestVote(s1, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,823 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-0F5D8F2C2AB6: receive requestVote(s1, group-0F5D8F2C2AB6, 1, (t:0, i:0))
2019-09-26 10:00:37,823 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-0F5D8F2C2AB6 replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,824 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-0F5D8F2C2AB6 replies to vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-0F5D8F2C2AB6:t1, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,829 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-0F5D8F2C2AB6-LeaderElection11: Election REJECTED; received 4 response(s) [s1<-s3#0:FAIL-t1, s1<-s4#0:FAIL-t1, s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-0F5D8F2C2AB6:t1, leader=null, voted=s1, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:37,829 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-0F5D8F2C2AB6: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:37,829 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:00:37,829 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:38,022 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:227ms, electionTimeout:225ms
2019-09-26 10:00:38,023 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:38,023 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:38,023 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:00:38,033 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:218ms, electionTimeout:217ms
2019-09-26 10:00:38,033 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:38,033 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:38,034 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 10:00:38,034 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:214ms, electionTimeout:213ms
2019-09-26 10:00:38,034 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:38,035 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:38,035 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:38,036 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s4:  RUNNING CANDIDATE s4@group-0F5D8F2C2AB6:t2, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING CANDIDATE s0@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t1, leader=null, voted=s1, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-0F5D8F2C2AB6:t2, leader=null, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s4:  RUNNING CANDIDATE s4@group-0F5D8F2C2AB6:t2, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING CANDIDATE s0@group-0F5D8F2C2AB6:t1, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t1, leader=null, voted=s1, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-0F5D8F2C2AB6:t2, leader=null, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:125)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testAddRemovePeers$2(RaftReconfigurationBaseTest.java:116)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testAddRemovePeers(RaftReconfigurationBaseTest.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:38,045 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-0F5D8F2C2AB6-LeaderElection12: begin an election at term 2 for -1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,048 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-0F5D8F2C2AB6-LeaderElection14: begin an election at term 2 for -1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,048 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-0F5D8F2C2AB6-LeaderElection13: begin an election at term 2 for -1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,064 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,064 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-0F5D8F2C2AB6: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-26 10:00:38,064 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,064 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:38,065 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-0F5D8F2C2AB6 replies to vote request: s0<-s4#0:FAIL-t2. Peer's state: s4@group-0F5D8F2C2AB6:t2, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,066 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,067 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,066 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:38,067 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-0F5D8F2C2AB6 replies to vote request: s4<-s0#0:FAIL-t2. Peer's state: s0@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,067 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-0F5D8F2C2AB6: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-26 10:00:38,069 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,069 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:38,070 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:38,070 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-0F5D8F2C2AB6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:38,071 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-0F5D8F2C2AB6: receive requestVote(s0, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,073 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-0F5D8F2C2AB6 replies to vote request: s4<-s2#0:FAIL-t2. Peer's state: s2@group-0F5D8F2C2AB6:t2, leader=null, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,074 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-0F5D8F2C2AB6: receive requestVote(s2, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,074 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-0F5D8F2C2AB6: receive requestVote(s2, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-0F5D8F2C2AB6 replies to vote request: s2<-s4#0:FAIL-t2. Peer's state: s4@group-0F5D8F2C2AB6:t2, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-0F5D8F2C2AB6 replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-0F5D8F2C2AB6:t2, leader=null, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-0F5D8F2C2AB6: receive requestVote(s2, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,076 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-0F5D8F2C2AB6: receive requestVote(s2, group-0F5D8F2C2AB6, 2, (t:0, i:0))
2019-09-26 10:00:38,076 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-0F5D8F2C2AB6 replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,083 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-0F5D8F2C2AB6 replies to vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,083 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-0F5D8F2C2AB6 replies to vote request: s0<-s3#0:OK-t2. Peer's state: s3@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,083 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-0F5D8F2C2AB6 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,084 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-0F5D8F2C2AB6 replies to vote request: s2<-s3#0:FAIL-t2. Peer's state: s3@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,084 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-0F5D8F2C2AB6 replies to vote request: s4<-s1#0:FAIL-t2. Peer's state: s1@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,084 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-0F5D8F2C2AB6 replies to vote request: s4<-s3#0:FAIL-t2. Peer's state: s3@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,089 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-0F5D8F2C2AB6-LeaderElection13: Election REJECTED; received 4 response(s) [s4<-s3#0:FAIL-t2, s4<-s0#0:FAIL-t2, s4<-s1#0:FAIL-t2, s4<-s2#0:FAIL-t2] and 0 exception(s); s4@group-0F5D8F2C2AB6:t2, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,090 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-0F5D8F2C2AB6-LeaderElection14: Election PASSED; received 4 response(s) [s0<-s3#0:OK-t2, s0<-s4#0:FAIL-t2, s0<-s1#0:OK-t2, s0<-s2#0:FAIL-t2] and 0 exception(s); s0@group-0F5D8F2C2AB6:t2, leader=null, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,090 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-0F5D8F2C2AB6: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:38,091 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:38,091 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 10:00:38,092 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-0F5D8F2C2AB6: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 10:00:38,092 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:38,092 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-0F5D8F2C2AB6-LeaderElection12: Election REJECTED; received 4 response(s) [s2<-s3#0:FAIL-t2, s2<-s4#0:FAIL-t2, s2<-s0#0:FAIL-t2, s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-0F5D8F2C2AB6:t2, leader=null, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,092 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-0F5D8F2C2AB6: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 552ms
2019-09-26 10:00:38,093 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-0F5D8F2C2AB6: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:38,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:38,094 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:00:38,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:38,095 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:38,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:38,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:38,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:38,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:38,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:38,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:38,099 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:38,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:38,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:38,100 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:38,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:38,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:38,102 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:38,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:38,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:38,103 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:38,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,104 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 10:00:38,104 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:38,106 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-0F5D8F2C2AB6: set configuration 0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 0
2019-09-26 10:00:38,109 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-0F5D8F2C2AB6: change Leader from null to s0 at term 2 for appendEntries, leader elected after 585ms
2019-09-26 10:00:38,110 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-0F5D8F2C2AB6: change Leader from null to s0 at term 2 for appendEntries, leader elected after 586ms
2019-09-26 10:00:38,110 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-0F5D8F2C2AB6: change Leader from null to s0 at term 2 for appendEntries, leader elected after 570ms
2019-09-26 10:00:38,111 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-0F5D8F2C2AB6: change Leader from null to s0 at term 2 for appendEntries, leader elected after 571ms
2019-09-26 10:00:38,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:38,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:38,115 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-0F5D8F2C2AB6: set configuration 0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 0
2019-09-26 10:00:38,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:38,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:38,115 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:38,115 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-0F5D8F2C2AB6: set configuration 0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 0
2019-09-26 10:00:38,116 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-0F5D8F2C2AB6: set configuration 0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 0
2019-09-26 10:00:38,116 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-0F5D8F2C2AB6: set configuration 0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 0
2019-09-26 10:00:38,116 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:38,116 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:38,116 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:38,416 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s1/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current/log_inprogress_0
2019-09-26 10:00:38,416 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s3/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current/log_inprogress_0
2019-09-26 10:00:38,416 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s2/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current/log_inprogress_0
2019-09-26 10:00:38,416 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s4/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current/log_inprogress_0
2019-09-26 10:00:38,416 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s0/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current/log_inprogress_0
2019-09-26 10:00:38,427 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:00:38,428 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s4#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:00:38,428 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:00:38,428 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s3#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:00:38,488 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-0F5D8F2C2AB6:t2, leader=s0, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0F5D8F2C2AB6:t2, leader=s0, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:38,488 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s5, s6]
2019-09-26 10:00:38,489 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s5, group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], format? true
2019-09-26 10:00:38,489 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5
2019-09-26 10:00:38,490 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5 does not exist.
2019-09-26 10:00:38,490 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5
2019-09-26 10:00:38,491 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:38,492 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:38,492 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42439 (custom)
2019-09-26 10:00:38,493 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:38,493 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,493 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:38,494 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,495 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5] (custom)
2019-09-26 10:00:38,495 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s5: addNew group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] returns group-0F5D8F2C2AB6:java.util.concurrent.CompletableFuture@b7b72c5[Not completed]
2019-09-26 10:00:38,495 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s5: new RaftServerImpl for group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] with BaseStateMachine:uninitialized
2019-09-26 10:00:38,496 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s6, group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], format? true
2019-09-26 10:00:38,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:38,497 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6
2019-09-26 10:00:38,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:38,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:38,497 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6 does not exist.
2019-09-26 10:00:38,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:38,498 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6
2019-09-26 10:00:38,498 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,498 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s5@group-0F5D8F2C2AB6: ConfigurationManager, init=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:38,498 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:38,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5] (custom)
2019-09-26 10:00:38,499 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:38,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:38,499 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 45986 (custom)
2019-09-26 10:00:38,500 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 does not exist. Creating ...
2019-09-26 10:00:38,500 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:38,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,500 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:38,500 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:38,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,502 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6] (custom)
2019-09-26 10:00:38,502 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s6: addNew group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] returns group-0F5D8F2C2AB6:java.util.concurrent.CompletableFuture@22725b70[Not completed]
2019-09-26 10:00:38,503 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s6: new RaftServerImpl for group-0F5D8F2C2AB6:[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] with BaseStateMachine:uninitialized
2019-09-26 10:00:38,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:38,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:38,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:38,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:38,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,504 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s6@group-0F5D8F2C2AB6: ConfigurationManager, init=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:38,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6] (custom)
2019-09-26 10:00:38,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:38,505 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 does not exist. Creating ...
2019-09-26 10:00:38,505 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:38,514 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:38,514 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:38,515 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current
2019-09-26 10:00:38,515 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current
2019-09-26 10:00:38,515 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/sm
2019-09-26 10:00:38,515 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/sm
2019-09-26 10:00:38,530 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 has been successfully formatted.
2019-09-26 10:00:38,530 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6 has been successfully formatted.
2019-09-26 10:00:38,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:38,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:38,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:38,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:38,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:38,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:38,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:38,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:38,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:38,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:38,532 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s5@group-0F5D8F2C2AB6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:38,532 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s6@group-0F5D8F2C2AB6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6
2019-09-26 10:00:38,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:38,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:38,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:38,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:38,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:38,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:38,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:38,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:38,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:38,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:38,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:38,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:38,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:38,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:38,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:38,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:38,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:38,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:38,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:38,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:38,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s5@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:38,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s6@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:38,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:38,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:38,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:38,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:38,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:38,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:38,544 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s5@group-0F5D8F2C2AB6: start with initializing state, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,544 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-0F5D8F2C2AB6: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:38,545 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s5
2019-09-26 10:00:38,549 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s5: start RPC server
2019-09-26 10:00:38,551 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s5: GrpcService started, listening on 0.0.0.0/0.0.0.0:42439
2019-09-26 10:00:38,551 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s6@group-0F5D8F2C2AB6: start with initializing state, conf=-1: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:38,552 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-0F5D8F2C2AB6: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:38,552 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s6
2019-09-26 10:00:38,556 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s6: start RPC server
2019-09-26 10:00:38,558 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s6: GrpcService started, listening on 0.0.0.0/0.0.0.0:45986
2019-09-26 10:00:38,559 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:38,569 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s5@group-0F5D8F2C2AB6: receive setConfiguration SetConfigurationRequest:client-F1D33051F2DF->s5@group-0F5D8F2C2AB6, cid=3, seq=0, RW, null, peers:[s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:38,725 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-0F5D8F2C2AB6: receive setConfiguration SetConfigurationRequest:client-F1D33051F2DF->s2@group-0F5D8F2C2AB6, cid=3, seq=0, RW, null, peers:[s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:38,836 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-0F5D8F2C2AB6: receive setConfiguration SetConfigurationRequest:client-F1D33051F2DF->s0@group-0F5D8F2C2AB6, cid=3, seq=0, RW, null, peers:[s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:38,836 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-0F5D8F2C2AB6-LeaderState: startSetConfiguration SetConfigurationRequest:client-F1D33051F2DF->s0@group-0F5D8F2C2AB6, cid=3, seq=0, RW, null, peers:[s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:38,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:38,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:38,838 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:38,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:38,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:38,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:38,840 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:38,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:38,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:38,862 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-0F5D8F2C2AB6: change Leader from null to s0 at term 2 for appendEntries, leader elected after 331ms
2019-09-26 10:00:38,862 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-0F5D8F2C2AB6: change Leader from null to s0 at term 2 for appendEntries, leader elected after 331ms
2019-09-26 10:00:38,862 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s5@group-0F5D8F2C2AB6: Failed appendEntries as previous log entry ((t:2, i:0)) is not found
2019-09-26 10:00:38,863 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s6@group-0F5D8F2C2AB6: Failed appendEntries as previous log entry ((t:2, i:0)) is not found
2019-09-26 10:00:38,863 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s5@group-0F5D8F2C2AB6: inconsistency entries. Reply:s0<-s5#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:00:38,863 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s6@group-0F5D8F2C2AB6: inconsistency entries. Reply:s0<-s6#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:00:38,866 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s5: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:38,866 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s6: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:38,869 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, null, 0, true, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c-1, s6:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:38,870 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, null, 0, true, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c-1, s6:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:38,870 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-0F5D8F2C2AB6: set configuration 0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 0
2019-09-26 10:00:38,870 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-0F5D8F2C2AB6: set configuration 0: [s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 0
2019-09-26 10:00:38,870 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s5@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:38,870 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s6@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:38,999 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s6@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s6/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current/log_inprogress_0
2019-09-26 10:00:38,999 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s5@group-0F5D8F2C2AB6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc9e6c470c/s5/eb465b5e-b711-4fa8-864c-0f5d8f2c2ab6/current/log_inprogress_0
2019-09-26 10:00:39,011 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s6#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:0
2019-09-26 10:00:39,011 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s5#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:0
2019-09-26 10:00:39,033 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-0F5D8F2C2AB6: set configuration 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] at 1
2019-09-26 10:00:39,036 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:0), 0, true, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,036 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:0), 0, false, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,036 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:0), 0, false, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,036 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:0), 0, false, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,037 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-0F5D8F2C2AB6: set configuration 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] at 1
2019-09-26 10:00:39,037 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-0F5D8F2C2AB6: set configuration 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] at 1
2019-09-26 10:00:39,036 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:0), 0, true, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,036 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-0F5D8F2C2AB6: set configuration 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] at 1
2019-09-26 10:00:39,036 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:0), 0, false, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,038 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-0F5D8F2C2AB6: set configuration 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] at 1
2019-09-26 10:00:39,037 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-0F5D8F2C2AB6: set configuration 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] at 1
2019-09-26 10:00:39,038 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-0F5D8F2C2AB6: set configuration 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] at 1
2019-09-26 10:00:39,051 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s4#13:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:39,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s6#3:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:39,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s2#13:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:39,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s5#3:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:39,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s1#13:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:39,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s3#13:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:39,056 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-0F5D8F2C2AB6: set configuration 3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 3
2019-09-26 10:00:39,058 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:00:39,058 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#13-t2, previous=(t:2, i:0), leaderCommit=0, initializing? false, entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,059 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:00:39,058 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:00:39,058 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#13-t2, previous=(t:2, i:0), leaderCommit=0, initializing? false, entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:39,060 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:39,060 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-0F5D8F2C2AB6->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:39,060 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s5: start FollowerState
2019-09-26 10:00:39,059 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s6: start FollowerState
2019-09-26 10:00:39,061 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-0F5D8F2C2AB6->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:39,060 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-0F5D8F2C2AB6: set configuration 3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 3
2019-09-26 10:00:39,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:39,060 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: [(t:2, i:2), METADATAENTRY(c1), (t:2, i:3), CONFIGURATIONENTRY]
2019-09-26 10:00:39,063 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-0F5D8F2C2AB6: set configuration 3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 3
2019-09-26 10:00:39,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:2, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:39,062 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s4: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:39,061 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s3: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:39,063 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-0F5D8F2C2AB6: set configuration 3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 3
2019-09-26 10:00:39,063 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-0F5D8F2C2AB6: set configuration 3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null at 3
2019-09-26 10:00:39,066 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s5#4:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:00:39,066 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s6#4:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:00:39,067 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s1#14:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:00:39,067 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:00:39,068 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s5#5:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:00:39,068 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s1#15:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:00:39,068 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s6#5:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:00:39,070 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:00:39,070 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:00:39,070 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:00:39,071 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: receive appendEntries(s0, 2, (t:2, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:00:39,072 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:39,072 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] RUNNING
  s4:  RUNNING  FOLLOWER s4@group-0F5D8F2C2AB6:t2, leader=s0, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] RUNNING
  s5:  RUNNING  FOLLOWER s5@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s5@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s6@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0F5D8F2C2AB6:t2, leader=s0, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:39,073 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] RUNNING
2019-09-26 10:00:39,073 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:135)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testAddRemovePeers$2(RaftReconfigurationBaseTest.java:116)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testAddRemovePeers(RaftReconfigurationBaseTest.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:39,081 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s1#16:OK,SUCCESS,nextIndex:5,term:2,followerCommit:3
2019-09-26 10:00:39,082 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s2#15:OK,SUCCESS,nextIndex:5,term:2,followerCommit:3
2019-09-26 10:00:39,082 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s5#6:OK,SUCCESS,nextIndex:5,term:2,followerCommit:3
2019-09-26 10:00:39,082 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-0F5D8F2C2AB6: succeeded to handle AppendEntries. Reply: s0<-s6#6:OK,SUCCESS,nextIndex:5,term:2,followerCommit:3
2019-09-26 10:00:39,446 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:394ms, electionTimeout:242ms
2019-09-26 10:00:39,446 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:39,446 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 10:00:39,446 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 10:00:39,447 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-0F5D8F2C2AB6: change Leader from s0 to null at term 2 for initElection
2019-09-26 10:00:39,462 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-0F5D8F2C2AB6-LeaderElection15: begin an election at term 3 for 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:39,470 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-0F5D8F2C2AB6 replies to vote request: s4<-s3#0:FAIL-t2. Peer's state: s3@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:39,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-0F5D8F2C2AB6 replies to vote request: s4<-s1#0:FAIL-t2. Peer's state: s1@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-0F5D8F2C2AB6 replies to vote request: s4<-s2#0:FAIL-t2. Peer's state: s2@group-0F5D8F2C2AB6:t2, leader=s0, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-0F5D8F2C2AB6 replies to vote request: s4<-s0#0:FAIL-t2. Peer's state: s0@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,473 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,474 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-0F5D8F2C2AB6 replies to vote request: s4<-s5#0:FAIL-t2. Peer's state: s5@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s5@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,474 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-0F5D8F2C2AB6-LeaderElection15: Election SHUTDOWN; received 3 response(s) [s4<-s3#0:FAIL-t2, s4<-s0#0:FAIL-t2, s4<-s1#0:FAIL-t2] and 0 exception(s); s4@group-0F5D8F2C2AB6:t3, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:39,475 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s4@group-0F5D8F2C2AB6-LeaderElection15 received shutdown response when requesting votes.
2019-09-26 10:00:39,477 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:00:39,477 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-0F5D8F2C2AB6: shutdown
2019-09-26 10:00:39,478 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s4
2019-09-26 10:00:39,478 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-0F5D8F2C2AB6: receive requestVote(s4, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,478 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 10:00:39,479 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-0F5D8F2C2AB6 replies to vote request: s4<-s6#0:FAIL-t2. Peer's state: s6@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s6@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,479 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-0F5D8F2C2AB6-StateMachineUpdater: set stopIndex = 0
2019-09-26 10:00:39,480 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-0F5D8F2C2AB6: closes. applyIndex: 0
2019-09-26 10:00:39,480 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-0F5D8F2C2AB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:39,484 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-0F5D8F2C2AB6-SegmentedRaftLogWorker close()
2019-09-26 10:00:39,485 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 33551 now
2019-09-26 10:00:39,492 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 33551 successfully
2019-09-26 10:00:39,549 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-0F5D8F2C2AB6-FollowerState: change to CANDIDATE, lastRpcTime:496ms, electionTimeout:259ms
2019-09-26 10:00:39,549 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:39,549 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-0F5D8F2C2AB6: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 10:00:39,549 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 10:00:39,550 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-0F5D8F2C2AB6: change Leader from s0 to null at term 2 for initElection
2019-09-26 10:00:39,563 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-0F5D8F2C2AB6-LeaderElection16: begin an election at term 3 for 1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:39,569 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s3@group-0F5D8F2C2AB6-LeaderElection16 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:39,572 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-0F5D8F2C2AB6: receive requestVote(s3, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,573 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-0F5D8F2C2AB6: receive requestVote(s3, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,573 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-0F5D8F2C2AB6 replies to vote request: s3<-s2#0:FAIL-t2. Peer's state: s2@group-0F5D8F2C2AB6:t2, leader=s0, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,574 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-0F5D8F2C2AB6: receive requestVote(s3, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,574 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-0F5D8F2C2AB6 replies to vote request: s3<-s0#0:FAIL-t2. Peer's state: s0@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,574 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-0F5D8F2C2AB6: receive requestVote(s3, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-0F5D8F2C2AB6 replies to vote request: s3<-s5#0:FAIL-t2. Peer's state: s5@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s5@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-0F5D8F2C2AB6: receive requestVote(s3, group-0F5D8F2C2AB6, 3, (t:2, i:1))
2019-09-26 10:00:39,577 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-0F5D8F2C2AB6 replies to vote request: s3<-s1#0:FAIL-t2. Peer's state: s1@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,577 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-0F5D8F2C2AB6 replies to vote request: s3<-s6#0:FAIL-t2. Peer's state: s6@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s6@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null
2019-09-26 10:00:39,578 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-0F5D8F2C2AB6-LeaderElection16: Election SHUTDOWN; received 2 response(s) [s3<-s0#0:FAIL-t2, s3<-s2#0:FAIL-t2] and 1 exception(s); s3@group-0F5D8F2C2AB6:t3, leader=null, voted=s3, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855]
2019-09-26 10:00:39,578 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:39,578 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s3@group-0F5D8F2C2AB6-LeaderElection16 received shutdown response when requesting votes.
2019-09-26 10:00:39,579 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:39,580 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-0F5D8F2C2AB6: shutdown
2019-09-26 10:00:39,580 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s3
2019-09-26 10:00:39,581 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 10:00:39,581 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-0F5D8F2C2AB6-StateMachineUpdater: set stopIndex = 0
2019-09-26 10:00:39,581 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-0F5D8F2C2AB6: closes. applyIndex: 0
2019-09-26 10:00:39,581 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-0F5D8F2C2AB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:39,584 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-0F5D8F2C2AB6-SegmentedRaftLogWorker close()
2019-09-26 10:00:39,585 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 35005 now
2019-09-26 10:00:39,589 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 35005 successfully
2019-09-26 10:00:40,274 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], deadPeers=null, printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-0F5D8F2C2AB6:t3, leader=null, voted=s3, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:CLOSED:c0, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] CLOSED
  s4:   CLOSED CANDIDATE s4@group-0F5D8F2C2AB6:t3, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:CLOSED:c0, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] CLOSED
  s5:  RUNNING  FOLLOWER s5@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s5@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s6@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0F5D8F2C2AB6:t2, leader=s0, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:40,275 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s3@group-0F5D8F2C2AB6:t3, leader=null, voted=s3, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:CLOSED:c0, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] CLOSED
2019-09-26 10:00:40,275 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s4@group-0F5D8F2C2AB6:t3, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:CLOSED:c0, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] CLOSED
2019-09-26 10:00:40,275 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s5@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s5@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:40,276 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s6@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s6@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:40,276 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s0@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:40,276 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:40,277 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-0F5D8F2C2AB6:t2, leader=s0, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:40,277 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:40,277 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:40,277 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:40,277 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:40,277 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:40,278 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-0F5D8F2C2AB6:t3, leader=null, voted=s3, raftlog=s3@group-0F5D8F2C2AB6-SegmentedRaftLog:CLOSED:c0, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] CLOSED
  s4:   CLOSED CANDIDATE s4@group-0F5D8F2C2AB6:t3, leader=null, voted=s4, raftlog=s4@group-0F5D8F2C2AB6-SegmentedRaftLog:CLOSED:c0, conf=1: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=[s3:0.0.0.0:35005, s4:0.0.0.0:33551, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855] CLOSED
  s5:  RUNNING  FOLLOWER s5@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s5@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-0F5D8F2C2AB6:t2, leader=s0, voted=null, raftlog=s6@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s0@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0F5D8F2C2AB6:t2, leader=s0, voted=s0, raftlog=s1@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0F5D8F2C2AB6:t2, leader=s0, voted=s2, raftlog=s2@group-0F5D8F2C2AB6-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s5:0.0.0.0:42439, s6:0.0.0.0:45986, s0:0.0.0.0:41549, s1:0.0.0.0:44315, s2:0.0.0.0:36855], old=null RUNNING
2019-09-26 10:00:40,279 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s5: close
2019-09-26 10:00:40,280 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s6: close
2019-09-26 10:00:40,280 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:40,280 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s5@group-0F5D8F2C2AB6: shutdown
2019-09-26 10:00:40,282 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-0F5D8F2C2AB6: shutdown
2019-09-26 10:00:40,282 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:40,282 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:40,281 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s6@group-0F5D8F2C2AB6: shutdown
2019-09-26 10:00:40,283 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-0F5D8F2C2AB6: shutdown
2019-09-26 10:00:40,283 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-0F5D8F2C2AB6: shutdown
2019-09-26 10:00:40,282 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s0
2019-09-26 10:00:40,284 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 10:00:40,282 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s5
2019-09-26 10:00:40,286 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-0F5D8F2C2AB6->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:40,284 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s1
2019-09-26 10:00:40,284 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s2
2019-09-26 10:00:40,283 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F5D8F2C2AB6,id=s6
2019-09-26 10:00:40,287 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:40,286 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:40,287 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-0F5D8F2C2AB6-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:40,286 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-0F5D8F2C2AB6->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:40,286 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-0F5D8F2C2AB6->s6-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:40,286 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-0F5D8F2C2AB6-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:40,286 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-0F5D8F2C2AB6->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:40,288 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#31-t2, previous=(t:2, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 10:00:40,286 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown FollowerState
2019-09-26 10:00:40,289 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s6: Completed APPEND_ENTRIES, lastRequest: s0->s6#21-t2, previous=(t:2, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 10:00:40,289 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-0F5D8F2C2AB6-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:40,287 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-0F5D8F2C2AB6: closes. applyIndex: 4
2019-09-26 10:00:40,287 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-0F5D8F2C2AB6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,287 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-0F5D8F2C2AB6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,287 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-0F5D8F2C2AB6-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:40,291 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-0F5D8F2C2AB6: closes. applyIndex: 4
2019-09-26 10:00:40,287 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s5: Completed APPEND_ENTRIES, lastRequest: s0->s5#21-t2, previous=(t:2, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 10:00:40,287 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s6: shutdown FollowerState
2019-09-26 10:00:40,292 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-0F5D8F2C2AB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:40,292 INFO  impl.FollowerState (FollowerState.java:run(117)) - s6@group-0F5D8F2C2AB6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,290 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-0F5D8F2C2AB6->s6-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:40,290 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-0F5D8F2C2AB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:40,290 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-0F5D8F2C2AB6: closes. applyIndex: 4
2019-09-26 10:00:40,290 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-0F5D8F2C2AB6->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:40,290 INFO  impl.FollowerState (FollowerState.java:run(117)) - s5@group-0F5D8F2C2AB6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,289 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#30-t2, previous=(t:2, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 10:00:40,289 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s5@group-0F5D8F2C2AB6-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:40,296 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:40,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-0F5D8F2C2AB6-SegmentedRaftLogWorker close()
2019-09-26 10:00:40,295 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s6: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:40,295 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-0F5D8F2C2AB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:40,295 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-0F5D8F2C2AB6-SegmentedRaftLogWorker close()
2019-09-26 10:00:40,293 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-0F5D8F2C2AB6->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:40,292 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s6@group-0F5D8F2C2AB6-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:40,301 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-0F5D8F2C2AB6-SegmentedRaftLogWorker close()
2019-09-26 10:00:40,300 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 36855 now
2019-09-26 10:00:40,302 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s5: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:40,298 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 44315 now
2019-09-26 10:00:40,297 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-0F5D8F2C2AB6->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:40,297 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s5@group-0F5D8F2C2AB6: closes. applyIndex: 4
2019-09-26 10:00:40,302 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 41549 now
2019-09-26 10:00:40,301 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s6@group-0F5D8F2C2AB6: closes. applyIndex: 4
2019-09-26 10:00:40,305 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s5@group-0F5D8F2C2AB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:40,305 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-0F5D8F2C2AB6->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:40,305 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 41549 successfully
2019-09-26 10:00:40,306 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 44315 successfully
2019-09-26 10:00:40,306 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 36855 successfully
2019-09-26 10:00:40,306 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s6@group-0F5D8F2C2AB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:40,311 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s6@group-0F5D8F2C2AB6-SegmentedRaftLogWorker close()
2019-09-26 10:00:40,311 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s5@group-0F5D8F2C2AB6-SegmentedRaftLogWorker close()
2019-09-26 10:00:40,315 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s6: shutdown server with port 45986 now
2019-09-26 10:00:40,315 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s5: shutdown server with port 42439 now
2019-09-26 10:00:40,317 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s6: shutdown server with port 45986 successfully
2019-09-26 10:00:40,318 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s5: shutdown server with port 42439 successfully
2019-09-26 10:00:40,319 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:40,320 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:40,320 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:40,323 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:40,325 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055]
2019-09-26 10:00:40,325 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:40,325 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:40,325 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:40,325 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:40,325 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:40,326 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:40,326 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], format? true
2019-09-26 10:00:40,326 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3
2019-09-26 10:00:40,327 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3 does not exist.
2019-09-26 10:00:40,327 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3
2019-09-26 10:00:40,328 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:40,329 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:40,329 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38488 (custom)
2019-09-26 10:00:40,329 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:40,330 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,330 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:40,330 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3] (custom)
2019-09-26 10:00:40,332 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] returns group-2F5235B10F53:java.util.concurrent.CompletableFuture@3ebf2da7[Not completed]
2019-09-26 10:00:40,332 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] with BaseStateMachine:uninitialized
2019-09-26 10:00:40,332 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], format? true
2019-09-26 10:00:40,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:40,333 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4
2019-09-26 10:00:40,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:40,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:40,334 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4 does not exist.
2019-09-26 10:00:40,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:40,334 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4
2019-09-26 10:00:40,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,334 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-2F5235B10F53: ConfigurationManager, init=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:40,334 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:40,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3] (custom)
2019-09-26 10:00:40,335 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:40,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:40,335 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 46442 (custom)
2019-09-26 10:00:40,335 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53 does not exist. Creating ...
2019-09-26 10:00:40,335 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:40,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,336 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:40,336 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4] (custom)
2019-09-26 10:00:40,337 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] returns group-2F5235B10F53:java.util.concurrent.CompletableFuture@53b2d9f[Not completed]
2019-09-26 10:00:40,337 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] with BaseStateMachine:uninitialized
2019-09-26 10:00:40,338 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], format? true
2019-09-26 10:00:40,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:40,338 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0
2019-09-26 10:00:40,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:40,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:40,339 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0 does not exist.
2019-09-26 10:00:40,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:40,339 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0
2019-09-26 10:00:40,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,339 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-2F5235B10F53: ConfigurationManager, init=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:40,339 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:40,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4] (custom)
2019-09-26 10:00:40,339 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:40,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:40,340 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 45274 (custom)
2019-09-26 10:00:40,340 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53 does not exist. Creating ...
2019-09-26 10:00:40,340 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:40,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,340 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,341 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:40,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0] (custom)
2019-09-26 10:00:40,342 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] returns group-2F5235B10F53:java.util.concurrent.CompletableFuture@5dfedde8[Not completed]
2019-09-26 10:00:40,342 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] with BaseStateMachine:uninitialized
2019-09-26 10:00:40,342 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], format? true
2019-09-26 10:00:40,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:40,343 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1
2019-09-26 10:00:40,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:40,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:40,343 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1 does not exist.
2019-09-26 10:00:40,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:40,344 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1
2019-09-26 10:00:40,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,344 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-2F5235B10F53: ConfigurationManager, init=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:40,344 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:40,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0] (custom)
2019-09-26 10:00:40,344 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:40,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:40,345 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 34500 (custom)
2019-09-26 10:00:40,345 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53 does not exist. Creating ...
2019-09-26 10:00:40,345 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:40,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,345 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,346 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:40,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1] (custom)
2019-09-26 10:00:40,347 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] returns group-2F5235B10F53:java.util.concurrent.CompletableFuture@233cb6e9[Not completed]
2019-09-26 10:00:40,347 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] with BaseStateMachine:uninitialized
2019-09-26 10:00:40,347 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], format? true
2019-09-26 10:00:40,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:40,348 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2
2019-09-26 10:00:40,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:40,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:40,348 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2 does not exist.
2019-09-26 10:00:40,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:40,348 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2
2019-09-26 10:00:40,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,349 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-2F5235B10F53: ConfigurationManager, init=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:40,349 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:40,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1] (custom)
2019-09-26 10:00:40,349 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:40,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:40,349 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44055 (custom)
2019-09-26 10:00:40,350 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53 does not exist. Creating ...
2019-09-26 10:00:40,350 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:40,350 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,350 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:40,350 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:40,350 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:40,351 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:40,351 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,352 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/current
2019-09-26 10:00:40,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2] (custom)
2019-09-26 10:00:40,352 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current
2019-09-26 10:00:40,352 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/current
2019-09-26 10:00:40,353 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] returns group-2F5235B10F53:java.util.concurrent.CompletableFuture@4786c43a[Not completed]
2019-09-26 10:00:40,353 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/sm
2019-09-26 10:00:40,352 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:40,352 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/sm
2019-09-26 10:00:40,354 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/current
2019-09-26 10:00:40,353 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/sm
2019-09-26 10:00:40,353 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-2F5235B10F53:[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] with BaseStateMachine:uninitialized
2019-09-26 10:00:40,354 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/sm
2019-09-26 10:00:40,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:40,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:40,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:40,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:40,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,355 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-2F5235B10F53: ConfigurationManager, init=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:40,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2] (custom)
2019-09-26 10:00:40,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:40,356 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53 does not exist. Creating ...
2019-09-26 10:00:40,356 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,368 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:40,368 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53 has been successfully formatted.
2019-09-26 10:00:40,368 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53 has been successfully formatted.
2019-09-26 10:00:40,368 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53 has been successfully formatted.
2019-09-26 10:00:40,368 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53 has been successfully formatted.
2019-09-26 10:00:40,368 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:40,368 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:40,369 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:40,368 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:40,368 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/current
2019-09-26 10:00:40,369 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:40,370 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/sm
2019-09-26 10:00:40,369 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:40,369 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:40,369 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:40,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:40,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:40,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:40,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:40,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,372 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-2F5235B10F53-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:40,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:40,372 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-2F5235B10F53-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:40,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,373 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:40,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:40,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,373 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:40,373 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,373 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:40,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:40,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:40,373 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:40,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:40,374 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-2F5235B10F53-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:40,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:40,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:40,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:40,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:40,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:40,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:40,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:40,375 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-2F5235B10F53-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:40,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:40,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:40,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:40,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:40,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:40,377 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:40,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,378 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:40,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:40,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:40,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:40,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:40,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:40,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:40,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:40,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:40,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:40,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:40,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:40,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:40,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:40,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:40,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:40,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:40,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:40,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:40,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:40,382 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:40,382 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:40,382 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:40,382 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:40,383 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53 has been successfully formatted.
2019-09-26 10:00:40,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:40,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:40,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:40,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:40,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:40,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:40,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:40,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:40,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:40,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:40,385 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-2F5235B10F53-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53
2019-09-26 10:00:40,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:40,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:40,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:40,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:40,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:40,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:40,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:40,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:40,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:40,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:40,386 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:40,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:40,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:40,387 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-2F5235B10F53: start as a follower, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:40,388 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-2F5235B10F53: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:40,388 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:40,389 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s3
2019-09-26 10:00:40,391 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:40,393 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:38488
2019-09-26 10:00:40,394 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-2F5235B10F53: start as a follower, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,394 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-2F5235B10F53: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:40,394 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:40,395 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s4
2019-09-26 10:00:40,398 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:00:40,398 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:46442
2019-09-26 10:00:40,399 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-2F5235B10F53: start as a follower, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,399 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-2F5235B10F53: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:40,399 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:40,400 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s0
2019-09-26 10:00:40,402 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:40,402 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:45274
2019-09-26 10:00:40,403 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-2F5235B10F53: start as a follower, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,403 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-2F5235B10F53: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:40,403 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:40,403 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s1
2019-09-26 10:00:40,406 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:40,406 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:34500
2019-09-26 10:00:40,407 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-2F5235B10F53: start as a follower, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,407 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-2F5235B10F53: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:40,407 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:40,408 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s2
2019-09-26 10:00:40,410 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:40,411 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:44055
2019-09-26 10:00:40,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:40,411 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s3@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
2019-09-26 10:00:40,412 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s3@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s3@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2F5235B10F53:t0, leader=null, voted=null, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestRevertConfigurationChange(RaftReconfigurationBaseTest.java:488)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRevertConfigurationChange(RaftReconfigurationBaseTest.java:482)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:40,550 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-2F5235B10F53-FollowerState: change to CANDIDATE, lastRpcTime:161ms, electionTimeout:161ms
2019-09-26 10:00:40,550 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:40,551 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-2F5235B10F53: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:40,551 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 10:00:40,578 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-2F5235B10F53-LeaderElection17: begin an election at term 1 for -1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,590 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-2F5235B10F53: receive requestVote(s3, group-2F5235B10F53, 1, (t:0, i:0))
2019-09-26 10:00:40,590 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-2F5235B10F53: receive requestVote(s3, group-2F5235B10F53, 1, (t:0, i:0))
2019-09-26 10:00:40,591 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-2F5235B10F53: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:40,590 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-2F5235B10F53: receive requestVote(s3, group-2F5235B10F53, 1, (t:0, i:0))
2019-09-26 10:00:40,590 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-2F5235B10F53: receive requestVote(s3, group-2F5235B10F53, 1, (t:0, i:0))
2019-09-26 10:00:40,591 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-2F5235B10F53: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:40,591 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:40,591 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-2F5235B10F53: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:40,592 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,592 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:40,591 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:40,591 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-2F5235B10F53: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:40,593 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,593 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:40,592 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:40,593 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:40,594 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,594 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:40,595 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:40,595 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:40,608 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-2F5235B10F53 replies to vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-2F5235B10F53:t1, leader=null, voted=s3, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,608 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-2F5235B10F53 replies to vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-2F5235B10F53:t1, leader=null, voted=s3, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,608 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-2F5235B10F53 replies to vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-2F5235B10F53:t1, leader=null, voted=s3, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,608 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-2F5235B10F53 replies to vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-2F5235B10F53:t1, leader=null, voted=s3, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,611 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-2F5235B10F53-LeaderElection17: Election PASSED; received 2 response(s) [s3<-s4#0:OK-t1, s3<-s2#0:OK-t1] and 0 exception(s); s3@group-2F5235B10F53:t1, leader=null, voted=s3, raftlog=s3@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:40,612 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 10:00:40,612 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-2F5235B10F53: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:00:40,612 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-2F5235B10F53: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 244ms
2019-09-26 10:00:40,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:40,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:40,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:40,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:40,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:40,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:40,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:40,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:40,617 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:40,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:40,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:40,618 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:40,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:40,619 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,619 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:40,619 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:40,619 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,619 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,620 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:40,620 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:40,620 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:40,620 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:40,620 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:40,620 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:40,621 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderState
2019-09-26 10:00:40,621 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:40,623 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-2F5235B10F53: set configuration 0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 0
2019-09-26 10:00:40,626 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-2F5235B10F53: change Leader from null to s3 at term 1 for appendEntries, leader elected after 257ms
2019-09-26 10:00:40,627 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-2F5235B10F53: change Leader from null to s3 at term 1 for appendEntries, leader elected after 258ms
2019-09-26 10:00:40,627 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-2F5235B10F53: change Leader from null to s3 at term 1 for appendEntries, leader elected after 259ms
2019-09-26 10:00:40,628 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-2F5235B10F53: change Leader from null to s3 at term 1 for appendEntries, leader elected after 245ms
2019-09-26 10:00:40,631 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-2F5235B10F53: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:40,631 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-2F5235B10F53: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:40,632 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-2F5235B10F53: set configuration 0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 0
2019-09-26 10:00:40,631 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-2F5235B10F53: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:40,632 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:40,632 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-2F5235B10F53: set configuration 0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 0
2019-09-26 10:00:40,631 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-2F5235B10F53: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:40,632 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:40,632 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-2F5235B10F53: set configuration 0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 0
2019-09-26 10:00:40,633 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-2F5235B10F53: set configuration 0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 0
2019-09-26 10:00:40,633 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:40,633 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:40,863 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-2F5235B10F53:t1, leader=s3, voted=s3, raftlog=s3@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-2F5235B10F53:t1, leader=s3, voted=s3, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-2F5235B10F53:t1, leader=s3, voted=s3, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2F5235B10F53:t1, leader=s3, voted=s3, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2F5235B10F53:t1, leader=s3, voted=s3, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
2019-09-26 10:00:41,063 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0
2019-09-26 10:00:41,063 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0
2019-09-26 10:00:41,063 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0
2019-09-26 10:00:41,063 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0
2019-09-26 10:00:41,063 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0
2019-09-26 10:00:41,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s3<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:41,076 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s3<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:41,076 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s3<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:41,076 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s3<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:41,864 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestRevertConfigurationChange(500)) - start blocking the leader
2019-09-26 10:00:41,867 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s3
2019-09-26 10:00:41,871 WARN  grpc.TestRaftReconfigurationWithGrpc (JavaUtils.java:attempt(158)) - FAILED "confIndex", attempt #1/10: java.lang.Exception: ConfigurationEntry not found: last=0, sleep 500ms and then retry.
java.lang.Exception: ConfigurationEntry not found: last=0
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$runTestRevertConfigurationChange$12(RaftReconfigurationBaseTest.java:531)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestRevertConfigurationChange(RaftReconfigurationBaseTest.java:524)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRevertConfigurationChange(RaftReconfigurationBaseTest.java:482)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:41,871 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestRevertConfigurationChange$11(509)) - client starts to change conf
2019-09-26 10:00:41,879 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s3@group-2F5235B10F53: receive setConfiguration SetConfigurationRequest:client-A9BD3B5340BD->s3@group-2F5235B10F53, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:38488, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055]
2019-09-26 10:00:41,879 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s3@group-2F5235B10F53-LeaderState: startSetConfiguration SetConfigurationRequest:client-A9BD3B5340BD->s3@group-2F5235B10F53, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:38488, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055]
2019-09-26 10:00:41,880 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-2F5235B10F53: set configuration 1: [s3:0.0.0.0:38488, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055] at 1
2019-09-26 10:00:41,882 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s3
2019-09-26 10:00:41,882 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s3
2019-09-26 10:00:41,882 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s3
2019-09-26 10:00:41,882 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s4: Block request from s3
2019-09-26 10:00:42,116 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-2F5235B10F53-FollowerState: change to CANDIDATE, lastRpcTime:262ms, electionTimeout:166ms
2019-09-26 10:00:42,117 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:42,117 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-2F5235B10F53: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:42,118 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 10:00:42,118 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-2F5235B10F53: change Leader from s3 to null at term 1 for initElection
2019-09-26 10:00:42,148 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-2F5235B10F53-LeaderElection18: begin an election at term 2 for 0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:42,161 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s3: Block request from s4
2019-09-26 10:00:42,161 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-2F5235B10F53: receive requestVote(s4, group-2F5235B10F53, 2, (t:1, i:0))
2019-09-26 10:00:42,161 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-2F5235B10F53: receive requestVote(s4, group-2F5235B10F53, 2, (t:1, i:0))
2019-09-26 10:00:42,162 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-2F5235B10F53: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:42,162 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-2F5235B10F53: receive requestVote(s4, group-2F5235B10F53, 2, (t:1, i:0))
2019-09-26 10:00:42,162 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-2F5235B10F53: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-26 10:00:42,162 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-2F5235B10F53: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:42,163 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:42,163 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-2F5235B10F53: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:42,163 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:42,163 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:42,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-2F5235B10F53: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-26 10:00:42,164 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:42,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-2F5235B10F53: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-26 10:00:42,165 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:42,165 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:42,165 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:42,165 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:42,165 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:42,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-2F5235B10F53 replies to vote request: s4<-s1#0:OK-t2. Peer's state: s1@group-2F5235B10F53:t2, leader=null, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:42,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-2F5235B10F53 replies to vote request: s4<-s0#0:OK-t2. Peer's state: s0@group-2F5235B10F53:t2, leader=null, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:42,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-2F5235B10F53 replies to vote request: s4<-s2#0:OK-t2. Peer's state: s2@group-2F5235B10F53:t2, leader=null, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:42,189 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-2F5235B10F53-LeaderElection18: Election PASSED; received 2 response(s) [s4<-s0#0:OK-t2, s4<-s1#0:OK-t2] and 0 exception(s); s4@group-2F5235B10F53:t2, leader=null, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null
2019-09-26 10:00:42,189 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 10:00:42,189 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-2F5235B10F53: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 10:00:42,189 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-2F5235B10F53: change Leader from null to s4 at term 2 for becomeLeader, leader elected after 70ms
2019-09-26 10:00:42,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:42,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:42,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:42,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:42,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:42,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:42,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:42,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:42,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:42,194 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:42,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:42,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:42,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:42,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:42,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:42,195 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:42,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:42,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:42,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:42,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:42,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:42,197 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:42,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:42,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:42,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:42,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:42,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:42,198 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:42,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:42,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:42,199 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-26 10:00:42,199 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 10:00:42,204 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,204 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,206 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-2F5235B10F53: set configuration 1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 1
2019-09-26 10:00:42,208 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-2F5235B10F53: change Leader from null to s4 at term 2 for appendEntries, leader elected after 45ms
2019-09-26 10:00:42,208 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-2F5235B10F53: change Leader from null to s4 at term 2 for appendEntries, leader elected after 45ms
2019-09-26 10:00:42,208 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s3: Block request from s4
2019-09-26 10:00:42,208 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-2F5235B10F53: change Leader from null to s4 at term 2 for appendEntries, leader elected after 46ms
2019-09-26 10:00:42,211 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-2F5235B10F53: receive appendEntries(s4, 2, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:42,211 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-2F5235B10F53: receive appendEntries(s4, 2, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:42,212 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-2F5235B10F53: receive appendEntries(s4, 2, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:42,212 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-2F5235B10F53: set configuration 1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 1
2019-09-26 10:00:42,212 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-2F5235B10F53: set configuration 1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 1
2019-09-26 10:00:42,212 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 10:00:42,212 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-2F5235B10F53: set configuration 1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 1
2019-09-26 10:00:42,213 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 10:00:42,213 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 10:00:42,215 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,215 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,215 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,215 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,216 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,216 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,373 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s3
2019-09-26 10:00:42,462 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s3: unBlock request from s4
2019-09-26 10:00:42,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-2F5235B10F53: receive requestVote(s4, group-2F5235B10F53, 2, (t:1, i:0))
2019-09-26 10:00:42,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-2F5235B10F53 replies to vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-2F5235B10F53:t1, leader=s3, voted=s3, raftlog=s3@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s3:0.0.0.0:38488, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=[s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055]
2019-09-26 10:00:42,484 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s3
2019-09-26 10:00:42,484 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s3
2019-09-26 10:00:42,484 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s4: unBlock request from s3
2019-09-26 10:00:42,484 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-2F5235B10F53: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:42,484 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-2F5235B10F53: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:42,484 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s3
2019-09-26 10:00:42,485 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#17:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,486 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-2F5235B10F53: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:42,485 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#17:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,485 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-2F5235B10F53: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:42,486 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#18:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,487 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#17:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,486 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#17:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,487 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#19:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,487 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#18:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,488 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#18:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,488 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#20:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,488 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#18:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#19:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,488 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#19:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#19:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,488 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-2F5235B10F53: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:42,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#20:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#21:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#20:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#20:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,490 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-2F5235B10F53: changes role from    LEADER to FOLLOWER at term 2 for stepDown
2019-09-26 10:00:42,491 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#22:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#21:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,491 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#21:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,491 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s1/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_1
2019-09-26 10:00:42,491 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s4/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_1
2019-09-26 10:00:42,491 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s2/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_1
2019-09-26 10:00:42,491 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s0/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_1
2019-09-26 10:00:42,491 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s3: shutdown LeaderState
2019-09-26 10:00:42,491 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#21:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#22:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#22:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#23:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,496 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#22:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,495 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s3@group-2F5235B10F53-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:42,495 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-2F5235B10F53->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:42,495 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-2F5235B10F53->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:42,495 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-2F5235B10F53->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:42,494 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-2F5235B10F53->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:42,496 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#23:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,496 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#24:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,496 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#23:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,496 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#23:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,498 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#24:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,499 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s1#25:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,497 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:42,499 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#24:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,499 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s3->s1#25-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 10:00:42,499 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s0#25:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,500 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s4#25:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,499 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#24:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,500 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#25-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 10:00:42,500 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s3->s0#25-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 10:00:42,501 WARN  grpc.TestRaftReconfigurationWithGrpc (JavaUtils.java:attempt(188)) - FAILED COMMIT attempt #1/10: sleep 1s and then retry.
2019-09-26 10:00:42,501 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-2F5235B10F53: Not recognize s3 (term=1) as leader, state: s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null reply: s3<-s2#25:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,501 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s4<-s1#1:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,501 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s3->s2#25-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 10:00:42,501 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s4<-s0#1:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,501 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s4<-s2#1:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:00:42,504 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-2F5235B10F53: receive appendEntries(s4, 2, (t:2, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:00:42,504 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-2F5235B10F53: receive appendEntries(s4, 2, (t:2, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:00:42,504 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-2F5235B10F53: receive appendEntries(s4, 2, (t:2, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:00:42,509 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s3: unBlock request from s4
2019-09-26 10:00:42,516 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-2F5235B10F53: change Leader from null to s4 at term 2 for appendEntries, leader elected after 27ms
2019-09-26 10:00:42,516 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s4<-s1#5:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:00:42,516 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s4<-s2#5:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:00:42,516 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s4<-s0#5:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:00:42,517 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-2F5235B10F53->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:42,518 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-2F5235B10F53->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:42,518 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-2F5235B10F53->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:42,518 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-2F5235B10F53->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:42,518 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-2F5235B10F53->s2: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 10:00:42,520 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-2F5235B10F53->s1: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 10:00:42,521 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-2F5235B10F53->s4: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 10:00:42,521 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-2F5235B10F53: receive appendEntries(s4, 2, (t:1, i:0), 2, false, commits[s4:c2, s3:c0, s0:c1, s1:c1, s2:c1], entries: [(t:2, i:1), CONFIGURATIONENTRY, (t:2, i:2), METADATAENTRY(c1)]
2019-09-26 10:00:42,522 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-2F5235B10F53->s0: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 10:00:42,522 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-2F5235B10F53: set configuration 1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null at 1
2019-09-26 10:00:42,524 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 1) isOpen? true, length=122, newEndIndex=0
  toDelete: [], start index 1
2019-09-26 10:00:42,524 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: Starting segment from index:1
2019-09-26 10:00:42,528 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran FileOutputStream.getChannel().truncate /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 length: 324 -> 122
2019-09-26 10:00:42,528 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,528 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(614)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: Truncated log file /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_0 to length 122 and moved it to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_0-0
2019-09-26 10:00:42,529 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: flushIndex: setUnconditionally 1 -> 0
2019-09-26 10:00:42,641 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc5e4f4b7c/s3/2894ee89-58a8-438b-bd0a-2f5235b10f53/current/log_inprogress_1
2019-09-26 10:00:42,653 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-2F5235B10F53: succeeded to handle AppendEntries. Reply: s4<-s3#1:OK,SUCCESS,nextIndex:3,term:2,followerCommit:2
2019-09-26 10:00:43,503 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestRevertConfigurationChange$15(554)) - log == null
2019-09-26 10:00:43,503 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:43,503 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:43,503 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:43,504 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:43,504 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:43,504 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-2F5235B10F53:t2, leader=s4, voted=null, raftlog=s3@group-2F5235B10F53-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s4@group-2F5235B10F53-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s0@group-2F5235B10F53-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s1@group-2F5235B10F53-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2F5235B10F53:t2, leader=s4, voted=s4, raftlog=s2@group-2F5235B10F53-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:38488, s4:0.0.0.0:46442, s0:0.0.0.0:45274, s1:0.0.0.0:34500, s2:0.0.0.0:44055], old=null RUNNING
2019-09-26 10:00:43,505 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:43,505 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:00:43,506 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-2F5235B10F53: shutdown
2019-09-26 10:00:43,507 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:43,507 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s3
2019-09-26 10:00:43,507 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:43,507 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:43,507 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-2F5235B10F53: shutdown
2019-09-26 10:00:43,510 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-2F5235B10F53: shutdown
2019-09-26 10:00:43,509 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-2F5235B10F53: shutdown
2019-09-26 10:00:43,508 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:43,508 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-2F5235B10F53: shutdown
2019-09-26 10:00:43,510 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:43,510 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-2F5235B10F53-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:00:43,512 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-2F5235B10F53: closes. applyIndex: 2
2019-09-26 10:00:43,510 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s2
2019-09-26 10:00:43,512 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:43,510 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s0
2019-09-26 10:00:43,510 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s4
2019-09-26 10:00:43,513 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:43,512 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:43,511 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2F5235B10F53,id=s1
2019-09-26 10:00:43,514 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:43,514 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-2F5235B10F53-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:00:43,516 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-2F5235B10F53: closes. applyIndex: 2
2019-09-26 10:00:43,514 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:43,516 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:43,514 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-2F5235B10F53-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:00:43,513 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s4: shutdown LeaderState
2019-09-26 10:00:43,517 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-2F5235B10F53: closes. applyIndex: 2
2019-09-26 10:00:43,515 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-2F5235B10F53-SegmentedRaftLogWorker close()
2019-09-26 10:00:43,514 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:43,522 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 38488 now
2019-09-26 10:00:43,520 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:43,520 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-2F5235B10F53->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:43,520 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s4@group-2F5235B10F53-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:43,520 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-2F5235B10F53->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:43,520 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-2F5235B10F53->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:43,520 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-2F5235B10F53->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:43,520 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-2F5235B10F53-SegmentedRaftLogWorker close()
2019-09-26 10:00:43,526 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s4->s1#18-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 10:00:43,526 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-2F5235B10F53-SegmentedRaftLogWorker close()
2019-09-26 10:00:43,525 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-2F5235B10F53-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:00:43,522 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-2F5235B10F53-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:43,522 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-2F5235B10F53-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:00:43,534 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-2F5235B10F53->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:43,533 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-2F5235B10F53: closes. applyIndex: 2
2019-09-26 10:00:43,533 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s4->s2#17-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 10:00:43,533 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 45274 now
2019-09-26 10:00:43,528 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 44055 now
2019-09-26 10:00:43,536 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-2F5235B10F53->s1: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:43,536 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s3: installSnapshot onError, lastRequest: s4->s3#13-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 10:00:43,536 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:43,534 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-2F5235B10F53: closes. applyIndex: 2
2019-09-26 10:00:43,538 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 44055 successfully
2019-09-26 10:00:43,538 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:43,538 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 38488 successfully
2019-09-26 10:00:43,539 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-2F5235B10F53->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:43,539 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s4@group-2F5235B10F53->s3-GrpcLogAppender is stopped
2019-09-26 10:00:43,541 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-2F5235B10F53-SegmentedRaftLogWorker close()
2019-09-26 10:00:43,542 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-2F5235B10F53-SegmentedRaftLogWorker close()
2019-09-26 10:00:43,543 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 46442 now
2019-09-26 10:00:43,544 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 34500 now
2019-09-26 10:00:43,546 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 34500 successfully
2019-09-26 10:00:43,547 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s0: installSnapshot onError, lastRequest: s4->s0#17-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 10:00:43,547 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 45274 successfully
2019-09-26 10:00:43,548 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-2F5235B10F53->s2: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:43,547 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s4@group-2F5235B10F53->s0-GrpcLogAppender is stopped
2019-09-26 10:00:43,549 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 46442 successfully
2019-09-26 10:00:43,549 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:43,550 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:43,550 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:43,552 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:43,552 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104]
2019-09-26 10:00:43,553 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:43,553 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:43,553 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:43,553 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
Sep 26, 2019 10:00:43 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@1f602e2d
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 10:00:43,553 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:43,553 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:43,554 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], format? true
2019-09-26 10:00:43,555 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0
2019-09-26 10:00:43,555 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0 does not exist.
Sep 26, 2019 10:00:43 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@8f995d9
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 10:00:43,555 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0
2019-09-26 10:00:43,556 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:43,556 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:43,556 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42984 (custom)
2019-09-26 10:00:43,557 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:43,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,557 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:43,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:43,558 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0] (custom)
2019-09-26 10:00:43,559 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] returns group-FE6EA6DB94F5:java.util.concurrent.CompletableFuture@23baf265[Not completed]
2019-09-26 10:00:43,559 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] with BaseStateMachine:uninitialized
2019-09-26 10:00:43,559 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], format? true
2019-09-26 10:00:43,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:43,560 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1
2019-09-26 10:00:43,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:43,560 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1 does not exist.
2019-09-26 10:00:43,560 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1
2019-09-26 10:00:43,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:43,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:43,561 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:43,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:43,561 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:43,561 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-FE6EA6DB94F5: ConfigurationManager, init=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:43,561 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33314 (custom)
2019-09-26 10:00:43,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0] (custom)
2019-09-26 10:00:43,562 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:43,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:43,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,562 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 does not exist. Creating ...
2019-09-26 10:00:43,562 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:43,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:43,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1] (custom)
2019-09-26 10:00:43,563 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:43,563 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] returns group-FE6EA6DB94F5:java.util.concurrent.CompletableFuture@49d88e8e[Not completed]
2019-09-26 10:00:43,564 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] with BaseStateMachine:uninitialized
2019-09-26 10:00:43,564 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], format? true
2019-09-26 10:00:43,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:43,564 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2
2019-09-26 10:00:43,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:43,565 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2 does not exist.
2019-09-26 10:00:43,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:43,565 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2
2019-09-26 10:00:43,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:43,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:43,565 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:43,566 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-FE6EA6DB94F5: ConfigurationManager, init=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:43,566 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:43,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1] (custom)
2019-09-26 10:00:43,566 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37104 (custom)
2019-09-26 10:00:43,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:43,566 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:43,567 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 does not exist. Creating ...
2019-09-26 10:00:43,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,567 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:43,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:43,567 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:43,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2] (custom)
2019-09-26 10:00:43,568 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] returns group-FE6EA6DB94F5:java.util.concurrent.CompletableFuture@40b7e981[Not completed]
2019-09-26 10:00:43,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] with BaseStateMachine:uninitialized
2019-09-26 10:00:43,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:43,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:43,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:43,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:43,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:43,570 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-FE6EA6DB94F5: ConfigurationManager, init=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:43,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2] (custom)
2019-09-26 10:00:43,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:43,570 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 does not exist. Creating ...
2019-09-26 10:00:43,571 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:43,577 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:43,577 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:43,577 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:43,578 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current
2019-09-26 10:00:43,577 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current
2019-09-26 10:00:43,578 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/sm
2019-09-26 10:00:43,578 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current
2019-09-26 10:00:43,578 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/sm
2019-09-26 10:00:43,578 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/sm
2019-09-26 10:00:43,593 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 has been successfully formatted.
2019-09-26 10:00:43,593 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 has been successfully formatted.
2019-09-26 10:00:43,593 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 has been successfully formatted.
2019-09-26 10:00:43,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:43,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:43,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:43,595 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-FE6EA6DB94F5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:43,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:43,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:43,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:43,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:43,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:43,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:43,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:43,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:43,596 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-FE6EA6DB94F5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:43,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:43,597 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-FE6EA6DB94F5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:43,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:43,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:43,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:43,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:43,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:43,597 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-FE6EA6DB94F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:43,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:43,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:43,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:43,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:43,600 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-FE6EA6DB94F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:43,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:43,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:43,600 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-FE6EA6DB94F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:43,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:43,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:43,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:43,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:43,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:43,602 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-FE6EA6DB94F5: start as a follower, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:43,602 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FE6EA6DB94F5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:43,603 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:43,603 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s0
2019-09-26 10:00:43,607 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:43,607 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:42984
2019-09-26 10:00:43,608 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-FE6EA6DB94F5: start as a follower, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:43,608 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FE6EA6DB94F5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:43,608 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:43,609 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s1
2019-09-26 10:00:43,611 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:43,612 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:33314
2019-09-26 10:00:43,612 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-FE6EA6DB94F5: start as a follower, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:43,612 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FE6EA6DB94F5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:43,612 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:43,613 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s2
2019-09-26 10:00:43,615 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:43,617 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:37104
2019-09-26 10:00:43,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:43,618 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
2019-09-26 10:00:43,618 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE6EA6DB94F5:t0, leader=null, voted=null, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestBootstrapReconf(RaftReconfigurationBaseTest.java:259)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testBootstrapReconf(RaftReconfigurationBaseTest.java:255)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:43,769 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-FE6EA6DB94F5-FollowerState: change to CANDIDATE, lastRpcTime:166ms, electionTimeout:166ms
2019-09-26 10:00:43,770 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:43,770 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FE6EA6DB94F5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:43,771 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:43,797 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-FE6EA6DB94F5-LeaderElection19: begin an election at term 1 for -1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:43,805 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-FE6EA6DB94F5: receive requestVote(s0, group-FE6EA6DB94F5, 1, (t:0, i:0))
2019-09-26 10:00:43,805 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-FE6EA6DB94F5: receive requestVote(s0, group-FE6EA6DB94F5, 1, (t:0, i:0))
2019-09-26 10:00:43,806 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FE6EA6DB94F5: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 10:00:43,806 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FE6EA6DB94F5: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 10:00:43,806 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:43,806 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:43,807 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:43,806 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:43,807 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:43,833 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-FE6EA6DB94F5 replies to vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-FE6EA6DB94F5:t1, leader=null, voted=s0, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:43,833 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-FE6EA6DB94F5 replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-FE6EA6DB94F5:t1, leader=null, voted=s0, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:43,836 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-FE6EA6DB94F5-LeaderElection19: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t1] and 0 exception(s); s0@group-FE6EA6DB94F5:t1, leader=null, voted=s0, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:43,836 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:43,836 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FE6EA6DB94F5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:00:43,836 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-FE6EA6DB94F5: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 242ms
2019-09-26 10:00:43,836 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:43,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:43,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:43,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:43,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:43,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:43,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:43,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:43,840 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:43,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:43,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:43,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:43,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:43,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:43,841 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:43,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:43,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:43,842 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 10:00:43,842 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-FE6EA6DB94F5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:43,843 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-FE6EA6DB94F5: set configuration 0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 0
2019-09-26 10:00:43,846 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-FE6EA6DB94F5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 252ms
2019-09-26 10:00:43,846 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-FE6EA6DB94F5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 252ms
2019-09-26 10:00:43,848 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:43,849 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-FE6EA6DB94F5: set configuration 0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 0
2019-09-26 10:00:43,849 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:43,849 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-FE6EA6DB94F5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:43,849 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-FE6EA6DB94F5: set configuration 0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 0
2019-09-26 10:00:43,850 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-FE6EA6DB94F5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:44,069 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-FE6EA6DB94F5:t1, leader=s0, voted=s0, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE6EA6DB94F5:t1, leader=s0, voted=s0, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE6EA6DB94F5:t1, leader=s0, voted=s0, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
2019-09-26 10:00:44,072 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-FE6EA6DB94F5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s2/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current/log_inprogress_0
2019-09-26 10:00:44,072 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-FE6EA6DB94F5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s1/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current/log_inprogress_0
2019-09-26 10:00:44,072 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-FE6EA6DB94F5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s0/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current/log_inprogress_0
2019-09-26 10:00:44,076 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=4, seq=0, RW, Message:6d30)
2019-09-26 10:00:44,077 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=4, seq=0, RW, Message:6d30, reply=RaftClientReply:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=4, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-FE6EA6DB94F5 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2019-09-26 10:00:44,085 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:44,086 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:44,182 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=4, seq=0, RW, Message:6d30)
2019-09-26 10:00:44,182 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=4, seq=0, RW, Message:6d30, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-953C656F0323, cid=4
2019-09-26 10:00:44,184 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-953C656F0323, cid=4
2019-09-26 10:00:44,184 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-953C656F0323, cid=4
2019-09-26 10:00:44,194 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#6:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:44,194 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:44,196 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:44,196 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:44,198 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=5, seq=0, RW, Message:6d31)
2019-09-26 10:00:44,199 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=5, seq=0, RW, Message:6d31, entry=(t:1, i:3), STATEMACHINELOGENTRY, client-953C656F0323, cid=5
2019-09-26 10:00:44,200 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-953C656F0323, cid=5
2019-09-26 10:00:44,200 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-953C656F0323, cid=5
2019-09-26 10:00:44,219 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:44,220 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#7:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:44,221 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#8:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:44,221 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#8:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:44,223 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:44,223 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:44,226 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=6, seq=0, RW, Message:6d32)
2019-09-26 10:00:44,227 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=6, seq=0, RW, Message:6d32, entry=(t:1, i:5), STATEMACHINELOGENTRY, client-953C656F0323, cid=6
2019-09-26 10:00:44,228 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:4), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-953C656F0323, cid=6
2019-09-26 10:00:44,228 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:4), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-953C656F0323, cid=6
2019-09-26 10:00:44,230 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#9:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:00:44,230 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#9:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:00:44,233 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#10:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 10:00:44,233 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#10:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 10:00:44,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 10:00:44,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 10:00:44,238 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=7, seq=0, RW, Message:6d33)
2019-09-26 10:00:44,238 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=7, seq=0, RW, Message:6d33, entry=(t:1, i:7), STATEMACHINELOGENTRY, client-953C656F0323, cid=7
2019-09-26 10:00:44,239 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:6), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-953C656F0323, cid=7
2019-09-26 10:00:44,239 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:6), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-953C656F0323, cid=7
2019-09-26 10:00:44,246 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#11:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 10:00:44,246 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#11:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 10:00:44,247 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#12:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 10:00:44,247 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#12:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 10:00:44,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:7), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 10:00:44,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:7), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 10:00:44,251 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=8, seq=0, RW, Message:6d34)
2019-09-26 10:00:44,252 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=8, seq=0, RW, Message:6d34, entry=(t:1, i:9), STATEMACHINELOGENTRY, client-953C656F0323, cid=8
2019-09-26 10:00:44,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:8), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-953C656F0323, cid=8
2019-09-26 10:00:44,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:8), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-953C656F0323, cid=8
2019-09-26 10:00:44,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#13:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 10:00:44,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#13:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 10:00:44,263 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#14:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 10:00:44,263 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 10:00:44,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:9), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 10:00:44,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:9), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 10:00:44,267 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=9, seq=0, RW, Message:6d35)
2019-09-26 10:00:44,268 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=9, seq=0, RW, Message:6d35, entry=(t:1, i:11), STATEMACHINELOGENTRY, client-953C656F0323, cid=9
2019-09-26 10:00:44,268 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:10), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-953C656F0323, cid=9
2019-09-26 10:00:44,269 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:10), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-953C656F0323, cid=9
2019-09-26 10:00:44,276 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#15:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 10:00:44,276 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#15:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 10:00:44,278 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#16:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 10:00:44,278 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#16:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 10:00:44,281 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:11), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 10:00:44,281 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:11), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 10:00:44,283 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=10, seq=0, RW, Message:6d36)
2019-09-26 10:00:44,283 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=10, seq=0, RW, Message:6d36, entry=(t:1, i:13), STATEMACHINELOGENTRY, client-953C656F0323, cid=10
2019-09-26 10:00:44,284 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:12), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-953C656F0323, cid=10
2019-09-26 10:00:44,284 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:12), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-953C656F0323, cid=10
2019-09-26 10:00:44,291 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#17:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 10:00:44,291 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#17:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 10:00:44,293 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#18:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 10:00:44,293 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#18:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 10:00:44,296 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:13), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 10:00:44,296 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:13), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 10:00:44,298 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=11, seq=0, RW, Message:6d37)
2019-09-26 10:00:44,298 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=11, seq=0, RW, Message:6d37, entry=(t:1, i:15), STATEMACHINELOGENTRY, client-953C656F0323, cid=11
2019-09-26 10:00:44,299 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:14), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-953C656F0323, cid=11
2019-09-26 10:00:44,299 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:14), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-953C656F0323, cid=11
2019-09-26 10:00:44,306 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#19:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 10:00:44,306 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#19:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 10:00:44,308 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#20:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 10:00:44,308 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#20:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 10:00:44,311 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:15), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 10:00:44,311 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:15), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 10:00:44,312 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=12, seq=0, RW, Message:6d38)
2019-09-26 10:00:44,313 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=12, seq=0, RW, Message:6d38, entry=(t:1, i:17), STATEMACHINELOGENTRY, client-953C656F0323, cid=12
2019-09-26 10:00:44,314 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:16), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-953C656F0323, cid=12
2019-09-26 10:00:44,314 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:16), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-953C656F0323, cid=12
2019-09-26 10:00:44,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#21:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 10:00:44,322 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#21:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 10:00:44,324 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#22:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 10:00:44,324 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#22:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 10:00:44,326 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:17), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 10:00:44,326 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:17), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 10:00:44,328 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=13, seq=0, RW, Message:6d39)
2019-09-26 10:00:44,328 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=13, seq=0, RW, Message:6d39, entry=(t:1, i:19), STATEMACHINELOGENTRY, client-953C656F0323, cid=13
2019-09-26 10:00:44,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:18), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-953C656F0323, cid=13
2019-09-26 10:00:44,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:18), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-953C656F0323, cid=13
2019-09-26 10:00:44,337 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#23:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 10:00:44,337 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#23:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 10:00:44,339 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#24:OK,SUCCESS,nextIndex:20,term:1,followerCommit:17
2019-09-26 10:00:44,339 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#24:OK,SUCCESS,nextIndex:20,term:1,followerCommit:17
2019-09-26 10:00:44,341 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:19), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 10:00:44,341 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:19), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 10:00:44,343 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=14, seq=0, RW, Message:6d3130)
2019-09-26 10:00:44,343 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=14, seq=0, RW, Message:6d3130, entry=(t:1, i:21), STATEMACHINELOGENTRY, client-953C656F0323, cid=14
2019-09-26 10:00:44,344 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:20), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-953C656F0323, cid=14
2019-09-26 10:00:44,344 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:20), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-953C656F0323, cid=14
2019-09-26 10:00:44,353 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#25:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 10:00:44,353 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#25:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 10:00:44,366 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#26:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 10:00:44,366 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#26:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 10:00:44,368 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:21), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 10:00:44,368 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:21), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 10:00:44,369 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=15, seq=0, RW, Message:6d3131)
2019-09-26 10:00:44,370 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=15, seq=0, RW, Message:6d3131, entry=(t:1, i:23), STATEMACHINELOGENTRY, client-953C656F0323, cid=15
2019-09-26 10:00:44,371 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:22), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-953C656F0323, cid=15
2019-09-26 10:00:44,371 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:22), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-953C656F0323, cid=15
2019-09-26 10:00:44,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#27:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 10:00:44,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#27:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 10:00:44,381 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#28:OK,SUCCESS,nextIndex:24,term:1,followerCommit:21
2019-09-26 10:00:44,381 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#28:OK,SUCCESS,nextIndex:24,term:1,followerCommit:21
2019-09-26 10:00:44,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:23), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 10:00:44,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:23), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 10:00:44,385 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=16, seq=0, RW, Message:6d3132)
2019-09-26 10:00:44,385 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=16, seq=0, RW, Message:6d3132, entry=(t:1, i:25), STATEMACHINELOGENTRY, client-953C656F0323, cid=16
2019-09-26 10:00:44,386 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:24), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-953C656F0323, cid=16
2019-09-26 10:00:44,386 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:24), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-953C656F0323, cid=16
2019-09-26 10:00:44,393 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#29:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 10:00:44,394 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#29:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 10:00:44,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#30:OK,SUCCESS,nextIndex:26,term:1,followerCommit:23
2019-09-26 10:00:44,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#30:OK,SUCCESS,nextIndex:26,term:1,followerCommit:23
2019-09-26 10:00:44,398 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:25), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 10:00:44,398 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:25), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 10:00:44,399 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=17, seq=0, RW, Message:6d3133)
2019-09-26 10:00:44,400 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=17, seq=0, RW, Message:6d3133, entry=(t:1, i:27), STATEMACHINELOGENTRY, client-953C656F0323, cid=17
2019-09-26 10:00:44,401 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:26), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-953C656F0323, cid=17
2019-09-26 10:00:44,401 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:26), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-953C656F0323, cid=17
2019-09-26 10:00:44,408 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#31:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 10:00:44,408 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#31:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 10:00:44,411 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#32:OK,SUCCESS,nextIndex:28,term:1,followerCommit:25
2019-09-26 10:00:44,411 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#32:OK,SUCCESS,nextIndex:28,term:1,followerCommit:25
2019-09-26 10:00:44,413 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:27), 27, false, commits[s0:c27, s1:c25, s2:c25], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 10:00:44,413 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:27), 27, false, commits[s0:c27, s1:c25, s2:c25], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 10:00:44,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#33:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 10:00:44,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=18, seq=0, RW, Message:6d3134)
2019-09-26 10:00:44,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#33:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 10:00:44,415 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=18, seq=0, RW, Message:6d3134, entry=(t:1, i:29), STATEMACHINELOGENTRY, client-953C656F0323, cid=18
2019-09-26 10:00:44,416 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:28), 27, false, commits[s0:c27, s1:c25, s2:c27], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-953C656F0323, cid=18
2019-09-26 10:00:44,416 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:28), 28, false, commits[s0:c28, s1:c27, s2:c27], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-953C656F0323, cid=18
2019-09-26 10:00:44,417 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#34:OK,SUCCESS,nextIndex:30,term:1,followerCommit:27
2019-09-26 10:00:44,418 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#34:OK,SUCCESS,nextIndex:30,term:1,followerCommit:28
2019-09-26 10:00:44,419 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:29), 29, false, commits[s0:c29, s1:c27, s2:c27], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 10:00:44,419 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:29), 29, false, commits[s0:c29, s1:c27, s2:c27], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 10:00:44,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#35:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 10:00:44,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=19, seq=0, RW, Message:6d3135)
2019-09-26 10:00:44,421 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=19, seq=0, RW, Message:6d3135, entry=(t:1, i:31), STATEMACHINELOGENTRY, client-953C656F0323, cid=19
2019-09-26 10:00:44,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#35:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 10:00:44,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:30), 30, false, commits[s0:c30, s1:c28, s2:c29], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-953C656F0323, cid=19
2019-09-26 10:00:44,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:30), 30, false, commits[s0:c30, s1:c28, s2:c29], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-953C656F0323, cid=19
2019-09-26 10:00:44,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#36:OK,SUCCESS,nextIndex:32,term:1,followerCommit:30
2019-09-26 10:00:44,425 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#36:OK,SUCCESS,nextIndex:32,term:1,followerCommit:30
2019-09-26 10:00:44,426 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:31), 31, false, commits[s0:c31, s1:c30, s2:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 10:00:44,426 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:31), 31, false, commits[s0:c31, s1:c30, s2:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 10:00:44,427 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=20, seq=0, RW, Message:6d3136)
2019-09-26 10:00:44,428 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=20, seq=0, RW, Message:6d3136, entry=(t:1, i:33), STATEMACHINELOGENTRY, client-953C656F0323, cid=20
2019-09-26 10:00:44,428 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#37:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 10:00:44,429 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#37:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 10:00:44,429 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:32), 31, false, commits[s0:c31, s1:c30, s2:c30], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-953C656F0323, cid=20
2019-09-26 10:00:44,429 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:32), 31, false, commits[s0:c31, s1:c30, s2:c30], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-953C656F0323, cid=20
2019-09-26 10:00:44,431 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#38:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 10:00:44,431 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#38:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 10:00:44,433 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:33), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 10:00:44,433 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:33), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 10:00:44,435 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=21, seq=0, RW, Message:6d3137)
2019-09-26 10:00:44,435 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=21, seq=0, RW, Message:6d3137, entry=(t:1, i:35), STATEMACHINELOGENTRY, client-953C656F0323, cid=21
2019-09-26 10:00:44,436 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:34), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-953C656F0323, cid=21
2019-09-26 10:00:44,436 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:34), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-953C656F0323, cid=21
2019-09-26 10:00:44,459 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#39:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 10:00:44,459 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#39:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 10:00:44,470 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#40:OK,SUCCESS,nextIndex:36,term:1,followerCommit:33
2019-09-26 10:00:44,470 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#40:OK,SUCCESS,nextIndex:36,term:1,followerCommit:33
2019-09-26 10:00:44,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:35), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 10:00:44,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:35), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 10:00:44,476 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=22, seq=0, RW, Message:6d3138)
2019-09-26 10:00:44,476 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=22, seq=0, RW, Message:6d3138, entry=(t:1, i:37), STATEMACHINELOGENTRY, client-953C656F0323, cid=22
2019-09-26 10:00:44,477 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:36), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-953C656F0323, cid=22
2019-09-26 10:00:44,477 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:36), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-953C656F0323, cid=22
2019-09-26 10:00:44,480 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#41:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 10:00:44,481 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#41:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 10:00:44,483 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#42:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 10:00:44,483 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#42:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 10:00:44,486 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:37), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 10:00:44,486 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:37), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 10:00:44,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-FE6EA6DB94F5: receive client request(RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=23, seq=0, RW, Message:6d3139)
2019-09-26 10:00:44,489 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-FE6EA6DB94F5-LeaderState: addPendingRequest at RaftClientRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=23, seq=0, RW, Message:6d3139, entry=(t:1, i:39), STATEMACHINELOGENTRY, client-953C656F0323, cid=23
2019-09-26 10:00:44,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:38), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-953C656F0323, cid=23
2019-09-26 10:00:44,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:38), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-953C656F0323, cid=23
2019-09-26 10:00:44,495 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#43:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 10:00:44,495 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#43:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 10:00:44,497 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#44:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 10:00:44,497 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#44:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 10:00:44,499 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:39), 39, false, commits[s0:c39, s1:c37, s2:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 10:00:44,499 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:39), 39, false, commits[s0:c39, s1:c37, s2:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 10:00:44,499 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 10:00:44,499 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], format? true
2019-09-26 10:00:44,500 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3
2019-09-26 10:00:44,500 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3 does not exist.
2019-09-26 10:00:44,500 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3
2019-09-26 10:00:44,500 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:44,500 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:44,501 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40074 (custom)
2019-09-26 10:00:44,501 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:44,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:44,501 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:44,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:44,502 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3] (custom)
2019-09-26 10:00:44,502 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] returns group-FE6EA6DB94F5:java.util.concurrent.CompletableFuture@6962404c[Not completed]
2019-09-26 10:00:44,502 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] with BaseStateMachine:uninitialized
2019-09-26 10:00:44,502 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], format? true
2019-09-26 10:00:44,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:44,503 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4
2019-09-26 10:00:44,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:44,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:44,504 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4 does not exist.
2019-09-26 10:00:44,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:44,504 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4
2019-09-26 10:00:44,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:44,504 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-FE6EA6DB94F5: ConfigurationManager, init=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:44,504 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:44,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3] (custom)
2019-09-26 10:00:44,504 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:44,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:44,505 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41544 (custom)
2019-09-26 10:00:44,505 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 does not exist. Creating ...
2019-09-26 10:00:44,505 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:44,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:44,505 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:44,506 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:44,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:44,507 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4] (custom)
2019-09-26 10:00:44,507 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] returns group-FE6EA6DB94F5:java.util.concurrent.CompletableFuture@2da8e864[Not completed]
2019-09-26 10:00:44,507 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-FE6EA6DB94F5:[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] with BaseStateMachine:uninitialized
2019-09-26 10:00:44,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:44,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:44,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:44,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:44,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:44,508 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-FE6EA6DB94F5: ConfigurationManager, init=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:44,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4] (custom)
2019-09-26 10:00:44,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:44,508 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 does not exist. Creating ...
2019-09-26 10:00:44,509 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:44,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#45:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 10:00:44,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#45:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 10:00:44,511 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:44,511 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current
2019-09-26 10:00:44,512 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/sm
2019-09-26 10:00:44,514 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:44,514 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current
2019-09-26 10:00:44,514 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/sm
2019-09-26 10:00:44,527 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 has been successfully formatted.
2019-09-26 10:00:44,527 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5 has been successfully formatted.
2019-09-26 10:00:44,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:44,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:44,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:44,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:44,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:44,528 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-FE6EA6DB94F5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:44,528 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-FE6EA6DB94F5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:44,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:44,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:44,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:44,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:44,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:44,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:44,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:44,530 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-FE6EA6DB94F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:44,530 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-FE6EA6DB94F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:44,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:44,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:44,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:44,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:44,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:44,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:44,534 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-FE6EA6DB94F5: start with initializing state, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:44,534 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-FE6EA6DB94F5: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:44,534 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s3
2019-09-26 10:00:44,536 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:44,537 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:40074
2019-09-26 10:00:44,537 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-FE6EA6DB94F5: start with initializing state, conf=-1: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:44,538 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-FE6EA6DB94F5: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:44,538 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s4
2019-09-26 10:00:44,540 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:00:44,542 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:41544
2019-09-26 10:00:44,542 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestBootstrapReconf(270)) - Start changing the configuration: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104]
2019-09-26 10:00:44,545 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-FE6EA6DB94F5: receive setConfiguration SetConfigurationRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=24, seq=0, RW, null, peers:[s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104]
2019-09-26 10:00:44,545 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-FE6EA6DB94F5-LeaderState: startSetConfiguration SetConfigurationRequest:client-953C656F0323->s0@group-FE6EA6DB94F5, cid=24, seq=0, RW, null, peers:[s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104]
2019-09-26 10:00:44,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:44,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:44,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:44,546 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:44,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:44,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:44,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:44,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:44,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:44,547 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:44,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:44,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:44,563 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-FE6EA6DB94F5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 36ms
2019-09-26 10:00:44,563 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-FE6EA6DB94F5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 36ms
2019-09-26 10:00:44,563 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-FE6EA6DB94F5: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 10:00:44,564 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-FE6EA6DB94F5: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 10:00:44,564 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-FE6EA6DB94F5: inconsistency entries. Reply:s0<-s3#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 10:00:44,564 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-FE6EA6DB94F5: inconsistency entries. Reply:s0<-s4#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 10:00:44,566 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s4: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 10:00:44,566 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s3: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 10:00:44,568 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:0), 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-953C656F0323, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-953C656F0323, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-953C656F0323, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-953C656F0323, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-953C656F0323, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-953C656F0323, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-953C656F0323, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-953C656F0323, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-953C656F0323, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-953C656F0323, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-953C656F0323, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-953C656F0323, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-953C656F0323, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-953C656F0323, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-953C656F0323, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-953C656F0323, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-953C656F0323, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-953C656F0323, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-953C656F0323, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-953C656F0323, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:00:44,569 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:0), 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-953C656F0323, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-953C656F0323, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-953C656F0323, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-953C656F0323, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-953C656F0323, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-953C656F0323, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-953C656F0323, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-953C656F0323, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-953C656F0323, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-953C656F0323, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-953C656F0323, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-953C656F0323, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-953C656F0323, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-953C656F0323, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-953C656F0323, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-953C656F0323, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-953C656F0323, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-953C656F0323, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-953C656F0323, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-953C656F0323, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:00:44,569 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-FE6EA6DB94F5: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:00:44,570 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-FE6EA6DB94F5: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:00:44,572 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-FE6EA6DB94F5: inconsistency entries. Reply:s0<-s3#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 10:00:44,570 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-FE6EA6DB94F5: inconsistency entries. Reply:s0<-s4#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 10:00:44,573 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s3: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 10:00:44,573 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s4: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 10:00:44,574 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: receive appendEntries(s0, 1, null, 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-953C656F0323, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-953C656F0323, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-953C656F0323, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-953C656F0323, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-953C656F0323, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-953C656F0323, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-953C656F0323, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-953C656F0323, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-953C656F0323, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-953C656F0323, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-953C656F0323, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-953C656F0323, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-953C656F0323, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-953C656F0323, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-953C656F0323, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-953C656F0323, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-953C656F0323, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-953C656F0323, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-953C656F0323, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-953C656F0323, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:00:44,574 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: receive appendEntries(s0, 1, null, 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-953C656F0323, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-953C656F0323, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-953C656F0323, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-953C656F0323, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-953C656F0323, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-953C656F0323, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-953C656F0323, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-953C656F0323, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-953C656F0323, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-953C656F0323, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-953C656F0323, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-953C656F0323, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-953C656F0323, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-953C656F0323, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-953C656F0323, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-953C656F0323, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-953C656F0323, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-953C656F0323, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-953C656F0323, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-953C656F0323, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:00:44,575 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-FE6EA6DB94F5: set configuration 0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 0
2019-09-26 10:00:44,575 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-FE6EA6DB94F5: set configuration 0: [s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 0
2019-09-26 10:00:44,576 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-FE6EA6DB94F5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:44,576 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-FE6EA6DB94F5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:44,759 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-FE6EA6DB94F5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s4/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current/log_inprogress_0
2019-09-26 10:00:44,759 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-FE6EA6DB94F5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb0829ea5/s3/f22d41d2-9603-42e4-a82d-fe6ea6db94f5/current/log_inprogress_0
2019-09-26 10:00:44,773 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s4#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 10:00:44,774 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s3#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 10:00:44,775 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-FE6EA6DB94F5: set configuration 41: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] at 41
2019-09-26 10:00:44,776 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:40), 40, true, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:00:44,776 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:00:44,776 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:00:44,776 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-FE6EA6DB94F5: set configuration 41: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] at 41
2019-09-26 10:00:44,776 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-FE6EA6DB94F5: set configuration 41: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] at 41
2019-09-26 10:00:44,776 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:00:44,777 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-FE6EA6DB94F5: set configuration 41: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] at 41
2019-09-26 10:00:44,777 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:44,778 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-FE6EA6DB94F5: set configuration 41: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=[s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104] at 41
2019-09-26 10:00:44,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#49:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:00:44,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s4#5:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:00:44,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s3#5:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:00:44,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#49:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:00:44,789 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-FE6EA6DB94F5: set configuration 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 43
2019-09-26 10:00:44,789 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:00:44,790 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:00:44,790 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:00:44,790 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:00:44,790 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:00:44,790 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:00:44,791 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-FE6EA6DB94F5: set configuration 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 43
2019-09-26 10:00:44,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:00:44,790 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:44,791 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-FE6EA6DB94F5: set configuration 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 43
2019-09-26 10:00:44,791 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-FE6EA6DB94F5: set configuration 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 43
2019-09-26 10:00:44,792 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:00:44,792 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-FE6EA6DB94F5: set configuration 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null at 43
2019-09-26 10:00:44,800 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#50:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:00:44,800 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s4#6:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:00:44,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#50:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:00:44,801 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s3#6:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:00:44,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#51:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:00:44,813 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s4#7:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:00:44,814 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#51:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:00:44,814 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s3#7:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:00:44,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:00:44,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:00:44,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:00:44,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:00:44,826 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s2#52:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:00:44,826 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s4#8:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:00:44,827 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s3#8:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:00:44,827 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-FE6EA6DB94F5: succeeded to handle AppendEntries. Reply: s0<-s1#52:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:00:49,369 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-FE6EA6DB94F5-FollowerState: change to CANDIDATE, lastRpcTime:236ms, electionTimeout:202ms
2019-09-26 10:00:49,369 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-FE6EA6DB94F5-FollowerState: change to CANDIDATE, lastRpcTime:235ms, electionTimeout:199ms
2019-09-26 10:00:49,369 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:49,369 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:49,369 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-FE6EA6DB94F5-FollowerState: change to CANDIDATE, lastRpcTime:236ms, electionTimeout:178ms
2019-09-26 10:00:49,369 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-FE6EA6DB94F5: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:49,370 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:49,369 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FE6EA6DB94F5: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:49,370 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FE6EA6DB94F5: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:49,370 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 10:00:49,370 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:00:49,370 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:00:49,370 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-FE6EA6DB94F5: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2019-09-26 10:00:49,374 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-FE6EA6DB94F5: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2019-09-26 10:00:49,372 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-FE6EA6DB94F5: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2019-09-26 10:00:49,374 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:00:49,374 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 10:00:49,374 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:49,374 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:00:49,375 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-FE6EA6DB94F5: change Leader from s0 to null at term 1 for initElection
2019-09-26 10:00:49,375 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:49,376 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:49,378 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-FE6EA6DB94F5: change Leader from s0 to null at term 1 for initElection
2019-09-26 10:00:49,379 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-FE6EA6DB94F5: change Leader from s0 to null at term 1 for initElection
2019-09-26 10:00:49,394 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-FE6EA6DB94F5-LeaderElection20: begin an election at term 2 for 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,394 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-FE6EA6DB94F5-LeaderElection21: begin an election at term 2 for 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,394 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-FE6EA6DB94F5-LeaderElection22: begin an election at term 2 for 43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,396 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-FE6EA6DB94F5-LeaderElection20: Election REJECTED; received 0 response(s) [] and 0 exception(s); s4@group-FE6EA6DB94F5:t2, leader=null, voted=s4, raftlog=s4@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,396 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-FE6EA6DB94F5-LeaderElection21: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,397 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-FE6EA6DB94F5-LeaderElection22: Election REJECTED; received 0 response(s) [] and 0 exception(s); s1@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,406 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-FE6EA6DB94F5: receive requestVote(s1, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,406 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-FE6EA6DB94F5: receive requestVote(s1, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-FE6EA6DB94F5: receive requestVote(s1, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,407 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-FE6EA6DB94F5: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:49,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-FE6EA6DB94F5 replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,407 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-FE6EA6DB94F5: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:49,407 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-FE6EA6DB94F5: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 10:00:49,407 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FE6EA6DB94F5: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 10:00:49,408 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:49,408 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 10:00:49,408 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,408 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:49,412 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-FE6EA6DB94F5->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:49,411 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-FE6EA6DB94F5: receive requestVote(s2, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,411 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-FE6EA6DB94F5->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:49,411 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-FE6EA6DB94F5->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:49,411 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-FE6EA6DB94F5: receive requestVote(s4, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,411 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-FE6EA6DB94F5-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:49,411 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-FE6EA6DB94F5->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:49,413 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:49,412 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-FE6EA6DB94F5: receive requestVote(s4, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,412 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-FE6EA6DB94F5 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-FE6EA6DB94F5: receive requestVote(s4, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,414 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#109-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 10:00:49,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-FE6EA6DB94F5: receive requestVote(s4, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,413 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#65-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 10:00:49,413 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-FE6EA6DB94F5: receive requestVote(s2, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-FE6EA6DB94F5 replies to vote request: s4<-s2#0:FAIL-t2. Peer's state: s2@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,414 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#65-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 10:00:49,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-FE6EA6DB94F5: receive requestVote(s2, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-FE6EA6DB94F5: receive requestVote(s2, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,414 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#109-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 10:00:49,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-FE6EA6DB94F5 replies to vote request: s4<-s1#0:FAIL-t2. Peer's state: s1@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,416 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-FE6EA6DB94F5->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:49,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-FE6EA6DB94F5: receive requestVote(s1, group-FE6EA6DB94F5, 2, (t:1, i:44))
2019-09-26 10:00:49,415 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-FE6EA6DB94F5->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:49,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-FE6EA6DB94F5 replies to vote request: s2<-s4#0:FAIL-t2. Peer's state: s4@group-FE6EA6DB94F5:t2, leader=null, voted=s4, raftlog=s4@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,415 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-FE6EA6DB94F5->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:49,415 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-FE6EA6DB94F5->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:49,417 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-FE6EA6DB94F5 replies to vote request: s1<-s4#0:FAIL-t2. Peer's state: s4@group-FE6EA6DB94F5:t2, leader=null, voted=s4, raftlog=s4@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,417 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s1: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 10:00:49,418 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s4: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 10:00:49,419 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s2: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 10:00:49,420 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-FE6EA6DB94F5->s3: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 10:00:49,425 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-FE6EA6DB94F5 replies to vote request: s1<-s3#0:OK-t2. Peer's state: s3@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s3@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,425 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-FE6EA6DB94F5 replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-FE6EA6DB94F5:t2, leader=null, voted=null, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,425 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-FE6EA6DB94F5 replies to vote request: s2<-s3#0:FAIL-t2. Peer's state: s3@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s3@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,425 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-FE6EA6DB94F5: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-26 10:00:49,426 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-FE6EA6DB94F5 replies to vote request: s4<-s3#0:FAIL-t2. Peer's state: s3@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s3@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,426 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:49,426 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:49,426 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,438 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-FE6EA6DB94F5 replies to vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,438 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-FE6EA6DB94F5 replies to vote request: s4<-s0#0:FAIL-t2. Peer's state: s0@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null
2019-09-26 10:00:49,543 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestBootstrapReconf(286)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s3@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-FE6EA6DB94F5:t2, leader=null, voted=s4, raftlog=s4@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
2019-09-26 10:00:49,544 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(127)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s3@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-FE6EA6DB94F5:t2, leader=null, voted=s4, raftlog=s4@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
2019-09-26 10:00:49,544 ERROR ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(128)) - Failed org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
java.lang.NullPointerException
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestBootstrapReconf(RaftReconfigurationBaseTest.java:289)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testBootstrapReconf(RaftReconfigurationBaseTest.java:255)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:49,545 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:49,545 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:49,545 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:49,545 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:49,545 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:49,546 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s3@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-FE6EA6DB94F5:t2, leader=null, voted=s4, raftlog=s4@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s0@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE6EA6DB94F5:t2, leader=null, voted=s1, raftlog=s1@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE6EA6DB94F5:t2, leader=null, voted=s2, raftlog=s2@group-FE6EA6DB94F5-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:40074, s4:0.0.0.0:41544, s0:0.0.0.0:42984, s1:0.0.0.0:33314, s2:0.0.0.0:37104], old=null RUNNING
2019-09-26 10:00:49,547 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:49,547 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:00:49,548 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-FE6EA6DB94F5: shutdown
2019-09-26 10:00:49,548 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:49,549 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s3
2019-09-26 10:00:49,550 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:49,549 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-FE6EA6DB94F5: shutdown
2019-09-26 10:00:49,548 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:49,548 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:49,551 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-FE6EA6DB94F5: shutdown
2019-09-26 10:00:49,551 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s4
2019-09-26 10:00:49,550 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,550 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-FE6EA6DB94F5-StateMachineUpdater: set stopIndex = 44
2019-09-26 10:00:49,553 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-FE6EA6DB94F5: closes. applyIndex: 44
2019-09-26 10:00:49,550 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-FE6EA6DB94F5: shutdown
2019-09-26 10:00:49,554 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-FE6EA6DB94F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:49,552 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:49,552 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s0
2019-09-26 10:00:49,552 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-FE6EA6DB94F5: shutdown
2019-09-26 10:00:49,555 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:49,555 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,555 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-FE6EA6DB94F5-StateMachineUpdater: set stopIndex = 44
2019-09-26 10:00:49,557 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-FE6EA6DB94F5: closes. applyIndex: 44
2019-09-26 10:00:49,554 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s1
2019-09-26 10:00:49,557 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-FE6EA6DB94F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:49,557 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-FE6EA6DB94F5-SegmentedRaftLogWorker close()
2019-09-26 10:00:49,556 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,556 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-FE6EA6DB94F5-StateMachineUpdater: set stopIndex = 44
2019-09-26 10:00:49,555 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE6EA6DB94F5,id=s2
2019-09-26 10:00:49,561 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-FE6EA6DB94F5: closes. applyIndex: 44
2019-09-26 10:00:49,560 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 40074 now
2019-09-26 10:00:49,560 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-FE6EA6DB94F5-SegmentedRaftLogWorker close()
2019-09-26 10:00:49,557 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:49,563 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 41544 now
2019-09-26 10:00:49,561 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-FE6EA6DB94F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:49,561 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:49,563 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,563 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-FE6EA6DB94F5-StateMachineUpdater: set stopIndex = 44
2019-09-26 10:00:49,566 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-FE6EA6DB94F5: closes. applyIndex: 44
2019-09-26 10:00:49,565 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 40074 successfully
2019-09-26 10:00:49,565 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-FE6EA6DB94F5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,565 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-FE6EA6DB94F5-StateMachineUpdater: set stopIndex = 44
2019-09-26 10:00:49,569 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-FE6EA6DB94F5-SegmentedRaftLogWorker close()
2019-09-26 10:00:49,567 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-FE6EA6DB94F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:49,569 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-FE6EA6DB94F5: closes. applyIndex: 44
2019-09-26 10:00:49,571 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 42984 now
2019-09-26 10:00:49,572 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-FE6EA6DB94F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:49,573 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 41544 successfully
2019-09-26 10:00:49,573 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 42984 successfully
2019-09-26 10:00:49,574 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-FE6EA6DB94F5-SegmentedRaftLogWorker close()
2019-09-26 10:00:49,577 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-FE6EA6DB94F5-SegmentedRaftLogWorker close()
2019-09-26 10:00:49,577 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 33314 now
2019-09-26 10:00:49,578 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 37104 now
2019-09-26 10:00:49,582 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 33314 successfully
2019-09-26 10:00:49,583 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 37104 successfully
2019-09-26 10:00:49,583 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:49,595 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:49,595 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:49,596 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:49,597 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024]
2019-09-26 10:00:49,597 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:49,597 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:49,598 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:49,598 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:49,598 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:49,598 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:49,598 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], format? true
2019-09-26 10:00:49,598 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0
2019-09-26 10:00:49,599 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0 does not exist.
2019-09-26 10:00:49,599 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0
2019-09-26 10:00:49,600 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:49,600 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:49,600 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 36640 (custom)
2019-09-26 10:00:49,601 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:49,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,601 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:49,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:49,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0] (custom)
2019-09-26 10:00:49,603 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] returns group-1F254936D1AB:java.util.concurrent.CompletableFuture@23b8a9e4[Not completed]
2019-09-26 10:00:49,603 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] with BaseStateMachine:uninitialized
2019-09-26 10:00:49,603 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], format? true
2019-09-26 10:00:49,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:49,604 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1
2019-09-26 10:00:49,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:49,605 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1 does not exist.
2019-09-26 10:00:49,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:49,605 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1
2019-09-26 10:00:49,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:49,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:49,606 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:49,606 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-1F254936D1AB: ConfigurationManager, init=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:49,606 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:49,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0] (custom)
2019-09-26 10:00:49,606 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41061 (custom)
2019-09-26 10:00:49,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:49,607 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:49,607 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab does not exist. Creating ...
2019-09-26 10:00:49,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,607 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:49,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:49,608 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:49,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1] (custom)
2019-09-26 10:00:49,609 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] returns group-1F254936D1AB:java.util.concurrent.CompletableFuture@40089ec4[Not completed]
2019-09-26 10:00:49,609 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] with BaseStateMachine:uninitialized
2019-09-26 10:00:49,609 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], format? true
2019-09-26 10:00:49,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:49,610 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2
2019-09-26 10:00:49,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:49,611 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2 does not exist.
2019-09-26 10:00:49,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:49,611 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2
2019-09-26 10:00:49,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:49,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:49,612 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:49,612 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-1F254936D1AB: ConfigurationManager, init=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:49,612 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:49,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1] (custom)
2019-09-26 10:00:49,612 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44024 (custom)
2019-09-26 10:00:49,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:49,613 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:49,613 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab does not exist. Creating ...
2019-09-26 10:00:49,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,613 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:49,613 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:49,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:49,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2] (custom)
2019-09-26 10:00:49,615 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] returns group-1F254936D1AB:java.util.concurrent.CompletableFuture@403c7a18[Not completed]
2019-09-26 10:00:49,615 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] with BaseStateMachine:uninitialized
2019-09-26 10:00:49,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:49,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:49,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:49,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:49,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:49,616 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-1F254936D1AB: ConfigurationManager, init=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:49,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2] (custom)
2019-09-26 10:00:49,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:49,617 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab does not exist. Creating ...
2019-09-26 10:00:49,617 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:49,634 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:49,634 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:49,634 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:49,635 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab/current
2019-09-26 10:00:49,635 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab/current
2019-09-26 10:00:49,635 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab/sm
2019-09-26 10:00:49,635 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab/current
2019-09-26 10:00:49,635 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab/sm
2019-09-26 10:00:49,636 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab/sm
2019-09-26 10:00:49,649 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab has been successfully formatted.
2019-09-26 10:00:49,649 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab has been successfully formatted.
2019-09-26 10:00:49,649 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab has been successfully formatted.
2019-09-26 10:00:49,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:49,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:49,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:49,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:49,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:49,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:49,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:49,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:49,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:49,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:49,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:49,652 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-1F254936D1AB-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:49,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:49,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:49,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:49,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:49,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:49,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:49,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:49,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:49,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:49,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:49,653 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-1F254936D1AB-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:49,654 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:49,654 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-1F254936D1AB-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:49,654 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:49,654 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:49,654 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:49,654 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:49,655 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:49,655 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:49,655 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:49,655 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-1F254936D1AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:49,655 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:49,655 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:49,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:49,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:49,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:49,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:49,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:49,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:49,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:49,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:49,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:49,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:49,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:49,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:49,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:49,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:49,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:49,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:49,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:49,658 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-1F254936D1AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:49,658 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-1F254936D1AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:49,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:49,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:49,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:49,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:49,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:49,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:49,663 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-1F254936D1AB: start as a follower, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,663 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-1F254936D1AB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:49,664 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:49,664 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s0
2019-09-26 10:00:49,667 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:49,670 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:36640
2019-09-26 10:00:49,670 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-1F254936D1AB: start as a follower, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,671 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-1F254936D1AB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:49,671 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:49,672 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s1
2019-09-26 10:00:49,675 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:49,676 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:41061
2019-09-26 10:00:49,678 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-1F254936D1AB: start as a follower, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,678 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-1F254936D1AB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:49,678 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:49,680 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s2
2019-09-26 10:00:49,684 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:49,687 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:44024
2019-09-26 10:00:49,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:49,687 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:49,688 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F254936D1AB:t0, leader=null, voted=null, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testAddPeers$0(RaftReconfigurationBaseTest.java:78)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testAddPeers(RaftReconfigurationBaseTest.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:49,867 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-1F254936D1AB-FollowerState: change to CANDIDATE, lastRpcTime:203ms, electionTimeout:203ms
2019-09-26 10:00:49,868 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:49,868 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-1F254936D1AB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:49,868 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:49,896 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-1F254936D1AB-LeaderElection23: begin an election at term 1 for -1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,901 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-1F254936D1AB-FollowerState: change to CANDIDATE, lastRpcTime:222ms, electionTimeout:222ms
2019-09-26 10:00:49,901 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:49,901 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-1F254936D1AB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:49,902 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:00:49,904 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-1F254936D1AB: receive requestVote(s0, group-1F254936D1AB, 1, (t:0, i:0))
2019-09-26 10:00:49,904 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-1F254936D1AB: receive requestVote(s0, group-1F254936D1AB, 1, (t:0, i:0))
2019-09-26 10:00:49,904 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-1F254936D1AB: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 10:00:49,904 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:49,905 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:49,905 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-1F254936D1AB-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:49,917 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-1F254936D1AB-LeaderElection24: begin an election at term 1 for -1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-1F254936D1AB replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-1F254936D1AB:t1, leader=null, voted=s0, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-1F254936D1AB replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-1F254936D1AB:t1, leader=null, voted=s2, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,918 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-1F254936D1AB-LeaderElection23: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t1] and 0 exception(s); s0@group-1F254936D1AB:t1, leader=null, voted=s0, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,919 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:49,919 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-1F254936D1AB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:00:49,919 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-1F254936D1AB: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 269ms
2019-09-26 10:00:49,919 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:49,919 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:49,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:49,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:49,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:49,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:49,923 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-1F254936D1AB: receive requestVote(s2, group-1F254936D1AB, 1, (t:0, i:0))
2019-09-26 10:00:49,923 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-1F254936D1AB: receive requestVote(s2, group-1F254936D1AB, 1, (t:0, i:0))
2019-09-26 10:00:49,923 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-1F254936D1AB replies to vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-1F254936D1AB:t1, leader=null, voted=s0, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,925 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:49,925 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,925 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:49,925 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:49,927 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:49,927 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:49,927 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:49,927 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 10:00:49,928 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-1F254936D1AB-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:49,929 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-1F254936D1AB: set configuration 0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 0
2019-09-26 10:00:49,929 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s0@group-1F254936D1AB-   LEADER: Withhold vote from candidate s2 with term 1. State: leader=s0, term=1, lastRpcElapsed=null
2019-09-26 10:00:49,929 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-1F254936D1AB replies to vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,930 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-1F254936D1AB-LeaderElection24: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-1F254936D1AB:t1, leader=null, voted=s2, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:49,930 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-1F254936D1AB: change Leader from null to s0 at term 1 for appendEntries, leader elected after 280ms
2019-09-26 10:00:49,931 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-1F254936D1AB: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:49,933 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:00:49,934 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:49,935 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-1F254936D1AB: change Leader from null to s0 at term 1 for appendEntries, leader elected after 284ms
2019-09-26 10:00:49,936 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:49,937 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:49,937 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-1F254936D1AB: set configuration 0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 0
2019-09-26 10:00:49,937 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-1F254936D1AB: set configuration 0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 0
2019-09-26 10:00:49,938 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-1F254936D1AB-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:49,938 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-1F254936D1AB-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:50,132 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-1F254936D1AB-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s1/60efd317-56bd-4c7d-a760-1f254936d1ab/current/log_inprogress_0
2019-09-26 10:00:50,132 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-1F254936D1AB-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s2/60efd317-56bd-4c7d-a760-1f254936d1ab/current/log_inprogress_0
2019-09-26 10:00:50,132 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-1F254936D1AB-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s0/60efd317-56bd-4c7d-a760-1f254936d1ab/current/log_inprogress_0
2019-09-26 10:00:50,139 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F254936D1AB:t1, leader=s0, voted=s2, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,139 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 10:00:50,140 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], format? true
2019-09-26 10:00:50,140 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3
2019-09-26 10:00:50,140 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3 does not exist.
2019-09-26 10:00:50,141 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3
2019-09-26 10:00:50,141 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:50,142 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:50,142 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43948 (custom)
2019-09-26 10:00:50,142 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:50,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,143 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:50,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,144 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:50,145 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:50,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3] (custom)
2019-09-26 10:00:50,146 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] returns group-1F254936D1AB:java.util.concurrent.CompletableFuture@7fc59ffe[Not completed]
2019-09-26 10:00:50,146 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] with BaseStateMachine:uninitialized
2019-09-26 10:00:50,146 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], format? true
2019-09-26 10:00:50,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:50,147 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4
2019-09-26 10:00:50,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,148 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:50,148 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4 does not exist.
2019-09-26 10:00:50,148 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4
2019-09-26 10:00:50,148 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:50,148 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,149 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:50,149 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-1F254936D1AB: ConfigurationManager, init=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:50,149 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:50,149 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3] (custom)
2019-09-26 10:00:50,149 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42289 (custom)
2019-09-26 10:00:50,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:50,150 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:50,150 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab does not exist. Creating ...
2019-09-26 10:00:50,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,151 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:50,151 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:50,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4] (custom)
2019-09-26 10:00:50,152 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] returns group-1F254936D1AB:java.util.concurrent.CompletableFuture@66a402cc[Not completed]
2019-09-26 10:00:50,153 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-1F254936D1AB:[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] with BaseStateMachine:uninitialized
2019-09-26 10:00:50,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:50,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:50,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:50,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,154 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-1F254936D1AB: ConfigurationManager, init=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:50,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4] (custom)
2019-09-26 10:00:50,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:50,155 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab does not exist. Creating ...
2019-09-26 10:00:50,155 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:50,173 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:50,173 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:50,174 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab/current
2019-09-26 10:00:50,174 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab/current
2019-09-26 10:00:50,174 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab/sm
2019-09-26 10:00:50,174 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab/sm
2019-09-26 10:00:50,189 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab has been successfully formatted.
2019-09-26 10:00:50,189 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab has been successfully formatted.
2019-09-26 10:00:50,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:50,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:50,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:50,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:50,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:50,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:50,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:50,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:50,190 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-1F254936D1AB-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:50,191 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-1F254936D1AB-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab
2019-09-26 10:00:50,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:50,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:50,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:50,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:50,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:50,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:50,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:50,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:50,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:50,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:50,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:50,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:50,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:50,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:50,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:50,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:50,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:50,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:50,194 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-1F254936D1AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:50,194 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-1F254936D1AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:50,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:50,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:50,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:50,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:50,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:50,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:50,199 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-1F254936D1AB: start with initializing state, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:50,199 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-1F254936D1AB: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:50,200 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s3
2019-09-26 10:00:50,203 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:50,205 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:43948
2019-09-26 10:00:50,205 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-1F254936D1AB: start with initializing state, conf=-1: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null
2019-09-26 10:00:50,206 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-1F254936D1AB: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:50,206 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s4
2019-09-26 10:00:50,208 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:00:50,210 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:42289
2019-09-26 10:00:50,210 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024]
2019-09-26 10:00:50,215 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s3@group-1F254936D1AB: receive setConfiguration SetConfigurationRequest:client-8F55B2A03277->s3@group-1F254936D1AB, cid=25, seq=0, RW, null, peers:[s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024]
2019-09-26 10:00:50,330 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-1F254936D1AB: receive setConfiguration SetConfigurationRequest:client-8F55B2A03277->s0@group-1F254936D1AB, cid=25, seq=0, RW, null, peers:[s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024]
2019-09-26 10:00:50,330 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-1F254936D1AB-LeaderState: startSetConfiguration SetConfigurationRequest:client-8F55B2A03277->s0@group-1F254936D1AB, cid=25, seq=0, RW, null, peers:[s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024]
2019-09-26 10:00:50,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:50,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:50,332 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:50,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:50,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:50,334 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:50,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,353 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-1F254936D1AB: change Leader from null to s0 at term 1 for appendEntries, leader elected after 164ms
2019-09-26 10:00:50,353 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-1F254936D1AB: change Leader from null to s0 at term 1 for appendEntries, leader elected after 164ms
2019-09-26 10:00:50,354 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-1F254936D1AB: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:00:50,354 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-1F254936D1AB: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:00:50,354 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-1F254936D1AB: inconsistency entries. Reply:s0<-s4#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:00:50,354 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-1F254936D1AB: inconsistency entries. Reply:s0<-s3#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:00:50,355 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-1F254936D1AB->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:50,355 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-1F254936D1AB->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:50,356 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:50,356 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:50,356 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-1F254936D1AB: set configuration 0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 0
2019-09-26 10:00:50,356 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-1F254936D1AB: set configuration 0: [s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 0
2019-09-26 10:00:50,356 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-1F254936D1AB-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:50,357 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-1F254936D1AB-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:50,445 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-1F254936D1AB: set configuration 1: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] at 1
2019-09-26 10:00:50,446 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:50,446 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:50,446 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:50,447 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:50,446 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:50,447 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:50,447 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-1F254936D1AB: set configuration 1: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] at 1
2019-09-26 10:00:50,447 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-1F254936D1AB: set configuration 1: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] at 1
2019-09-26 10:00:50,448 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-1F254936D1AB: set configuration 1: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] at 1
2019-09-26 10:00:50,447 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-1F254936D1AB: set configuration 1: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=[s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024] at 1
2019-09-26 10:00:50,480 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:50,480 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s2#7:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:50,482 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-1F254936D1AB: set configuration 3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 3
2019-09-26 10:00:50,482 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:50,482 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:50,482 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:50,482 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:00:50,483 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:50,483 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:50,484 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-1F254936D1AB: set configuration 3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 3
2019-09-26 10:00:50,484 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:50,483 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:50,484 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-1F254936D1AB: set configuration 3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 3
2019-09-26 10:00:50,484 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-1F254936D1AB: set configuration 3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 3
2019-09-26 10:00:50,484 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-1F254936D1AB: set configuration 3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null at 3
2019-09-26 10:00:50,488 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-1F254936D1AB-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s4/60efd317-56bd-4c7d-a760-1f254936d1ab/current/log_inprogress_0
2019-09-26 10:00:50,488 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-1F254936D1AB-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc8113e18c/s3/60efd317-56bd-4c7d-a760-1f254936d1ab/current/log_inprogress_0
2019-09-26 10:00:50,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:50,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s3#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:50,489 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s1#8:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:50,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s2#8:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:50,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s3#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:50,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s3#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:50,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s4#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:00:50,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s4#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:00:50,493 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s3#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:50,493 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s4#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:50,494 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:50,494 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:50,494 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:50,494 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:50,495 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,496 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-1F254936D1AB:t1, leader=s0, voted=null, raftlog=s3@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-1F254936D1AB:t1, leader=s0, voted=null, raftlog=s4@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f2,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F254936D1AB:t1, leader=s0, voted=s2, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f2,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,497 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-1F254936D1AB:t1, leader=s0, voted=null, raftlog=s3@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,497 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s4@group-1F254936D1AB:t1, leader=s0, voted=null, raftlog=s4@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,497 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s0@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,497 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f2,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,498 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-1F254936D1AB:t1, leader=s0, voted=s2, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f2,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,498 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:50,498 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:50,498 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:50,498 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:50,498 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:50,499 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-1F254936D1AB:t1, leader=s0, voted=null, raftlog=s3@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-1F254936D1AB:t1, leader=s0, voted=null, raftlog=s4@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s0@group-1F254936D1AB-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F254936D1AB:t1, leader=s0, voted=s0, raftlog=s1@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f2,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F254936D1AB:t1, leader=s0, voted=s2, raftlog=s2@group-1F254936D1AB-SegmentedRaftLog:OPENED:c1,f2,i4, conf=3: [s3:0.0.0.0:43948, s4:0.0.0.0:42289, s0:0.0.0.0:36640, s1:0.0.0.0:41061, s2:0.0.0.0:44024], old=null RUNNING
2019-09-26 10:00:50,500 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:50,500 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:00:50,501 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-1F254936D1AB: shutdown
2019-09-26 10:00:50,501 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:50,502 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s3
2019-09-26 10:00:50,504 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:50,502 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:50,502 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:50,502 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-1F254936D1AB: shutdown
2019-09-26 10:00:50,505 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s3#6:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:00:50,505 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-1F254936D1AB: shutdown
2019-09-26 10:00:50,505 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-1F254936D1AB-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,505 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-1F254936D1AB-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:00:50,506 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-1F254936D1AB: closes. applyIndex: 1
2019-09-26 10:00:50,505 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s4#6:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:00:50,506 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-1F254936D1AB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:50,505 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-1F254936D1AB: shutdown
2019-09-26 10:00:50,505 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s2#9:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:50,504 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s1#9:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:00:50,504 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-1F254936D1AB: shutdown
2019-09-26 10:00:50,508 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s2
2019-09-26 10:00:50,506 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s1
2019-09-26 10:00:50,505 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s4
2019-09-26 10:00:50,511 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:50,511 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:50,511 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-1F254936D1AB-SegmentedRaftLogWorker close()
2019-09-26 10:00:50,509 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F254936D1AB,id=s0
2019-09-26 10:00:50,513 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 43948 now
2019-09-26 10:00:50,512 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-1F254936D1AB-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,512 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-1F254936D1AB-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:00:50,512 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-1F254936D1AB-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,512 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-1F254936D1AB-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:00:50,515 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-1F254936D1AB: closes. applyIndex: 1
2019-09-26 10:00:50,511 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:50,516 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-1F254936D1AB-StateMachineUpdater: set stopIndex = 3
2019-09-26 10:00:50,515 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 43948 successfully
2019-09-26 10:00:50,517 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-1F254936D1AB: succeeded to handle AppendEntries. Reply: s0<-s2#10:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:00:50,515 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s3: installSnapshot onError, lastRequest: s0->s3#6-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 10:00:50,515 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-1F254936D1AB: closes. applyIndex: 1
2019-09-26 10:00:50,514 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 10:00:50,517 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-1F254936D1AB-SegmentedRaftLogWorker close()
2019-09-26 10:00:50,517 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-1F254936D1AB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
Sep 26, 2019 10:00:50 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@66c0f628
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 10:00:50,517 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-1F254936D1AB->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2019-09-26 10:00:50,516 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-1F254936D1AB: closes. applyIndex: 3
2019-09-26 10:00:50,516 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-1F254936D1AB-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,523 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-1F254936D1AB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:50,521 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 41061 now
2019-09-26 10:00:50,520 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-1F254936D1AB->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,521 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-1F254936D1AB->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,520 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-1F254936D1AB->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,524 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s1: installSnapshot onError, lastRequest: s0->s1#10-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 10:00:50,520 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-1F254936D1AB->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,520 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-1F254936D1AB-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:50,524 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s0@group-1F254936D1AB->s1-GrpcLogAppender is stopped
Sep 26, 2019 10:00:50 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@ff483fc
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 10:00:50,524 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-1F254936D1AB->s3: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:50,524 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#10-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:50,524 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 41061 successfully
2019-09-26 10:00:50,523 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-1F254936D1AB-SegmentedRaftLogWorker close()
2019-09-26 10:00:50,527 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#6-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:50,527 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-1F254936D1AB-StateMachineUpdater: set stopIndex = 4
2019-09-26 10:00:50,525 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-1F254936D1AB-SegmentedRaftLogWorker close()
2019-09-26 10:00:50,530 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-1F254936D1AB->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:50,530 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-1F254936D1AB: closes. applyIndex: 4
2019-09-26 10:00:50,530 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 44024 now
2019-09-26 10:00:50,528 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-1F254936D1AB->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:50,531 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-1F254936D1AB->s4: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:50,531 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-1F254936D1AB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:50,530 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 42289 now
2019-09-26 10:00:50,532 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 44024 successfully
2019-09-26 10:00:50,532 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-1F254936D1AB->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:50,533 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 42289 successfully
2019-09-26 10:00:50,534 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-1F254936D1AB-SegmentedRaftLogWorker close()
2019-09-26 10:00:50,535 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 36640 now
2019-09-26 10:00:50,536 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 36640 successfully
2019-09-26 10:00:50,536 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:50,537 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:50,537 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:50,539 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:50,539 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549]
2019-09-26 10:00:50,539 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:50,540 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:50,540 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:50,540 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:50,540 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:50,540 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:50,540 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], format? true
2019-09-26 10:00:50,540 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3
2019-09-26 10:00:50,541 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3 does not exist.
2019-09-26 10:00:50,541 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3
2019-09-26 10:00:50,541 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:50,542 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:50,542 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37580 (custom)
2019-09-26 10:00:50,542 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:50,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,543 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:50,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3] (custom)
2019-09-26 10:00:50,545 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] returns group-BEACFBB675A1:java.util.concurrent.CompletableFuture@12b1d579[Not completed]
2019-09-26 10:00:50,545 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] with BaseStateMachine:uninitialized
2019-09-26 10:00:50,545 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], format? true
2019-09-26 10:00:50,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:50,546 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4
2019-09-26 10:00:50,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,546 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4 does not exist.
2019-09-26 10:00:50,546 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4
2019-09-26 10:00:50,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:50,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:50,547 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:50,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,547 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:50,547 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-BEACFBB675A1: ConfigurationManager, init=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:50,547 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40696 (custom)
2019-09-26 10:00:50,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3] (custom)
2019-09-26 10:00:50,547 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:50,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:50,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,548 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1 does not exist. Creating ...
2019-09-26 10:00:50,548 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:50,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,549 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4] (custom)
2019-09-26 10:00:50,549 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] returns group-BEACFBB675A1:java.util.concurrent.CompletableFuture@123ea9d6[Not completed]
2019-09-26 10:00:50,550 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] with BaseStateMachine:uninitialized
2019-09-26 10:00:50,550 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], format? true
2019-09-26 10:00:50,550 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:50,550 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0
2019-09-26 10:00:50,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:50,551 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0 does not exist.
2019-09-26 10:00:50,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:50,551 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0
2019-09-26 10:00:50,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,551 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-BEACFBB675A1: ConfigurationManager, init=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:50,551 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:50,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4] (custom)
2019-09-26 10:00:50,552 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:50,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:50,552 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 46561 (custom)
2019-09-26 10:00:50,552 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1 does not exist. Creating ...
2019-09-26 10:00:50,552 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:50,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,553 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,553 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:50,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0] (custom)
2019-09-26 10:00:50,554 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] returns group-BEACFBB675A1:java.util.concurrent.CompletableFuture@716730a2[Not completed]
2019-09-26 10:00:50,554 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] with BaseStateMachine:uninitialized
2019-09-26 10:00:50,554 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], format? true
2019-09-26 10:00:50,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:50,555 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1
2019-09-26 10:00:50,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,555 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1 does not exist.
2019-09-26 10:00:50,556 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1
2019-09-26 10:00:50,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:50,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:50,556 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:50,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,556 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:50,556 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-BEACFBB675A1: ConfigurationManager, init=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:50,557 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38942 (custom)
2019-09-26 10:00:50,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0] (custom)
2019-09-26 10:00:50,557 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:50,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:50,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,558 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1 does not exist. Creating ...
2019-09-26 10:00:50,558 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:50,558 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,558 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,558 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1] (custom)
2019-09-26 10:00:50,559 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] returns group-BEACFBB675A1:java.util.concurrent.CompletableFuture@2cdece7b[Not completed]
2019-09-26 10:00:50,559 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] with BaseStateMachine:uninitialized
2019-09-26 10:00:50,559 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], format? true
2019-09-26 10:00:50,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:50,560 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2
2019-09-26 10:00:50,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,560 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2 does not exist.
2019-09-26 10:00:50,560 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2
2019-09-26 10:00:50,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:50,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:50,561 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:50,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,561 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:50,561 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-BEACFBB675A1: ConfigurationManager, init=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:50,561 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 36549 (custom)
2019-09-26 10:00:50,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1] (custom)
2019-09-26 10:00:50,562 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:50,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:50,562 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:50,562 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1 does not exist. Creating ...
2019-09-26 10:00:50,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,563 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:50,563 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,563 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/current
2019-09-26 10:00:50,563 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:50,563 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:50,563 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/sm
2019-09-26 10:00:50,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2] (custom)
2019-09-26 10:00:50,564 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/current
2019-09-26 10:00:50,564 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] returns group-BEACFBB675A1:java.util.concurrent.CompletableFuture@9447777[Not completed]
2019-09-26 10:00:50,564 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1/current
2019-09-26 10:00:50,564 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] with BaseStateMachine:uninitialized
2019-09-26 10:00:50,564 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/sm
2019-09-26 10:00:50,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:50,565 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1/sm
2019-09-26 10:00:50,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:50,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:50,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,566 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-BEACFBB675A1: ConfigurationManager, init=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:50,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2] (custom)
2019-09-26 10:00:50,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:50,567 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1 does not exist. Creating ...
2019-09-26 10:00:50,567 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,577 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:50,577 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1 has been successfully formatted.
2019-09-26 10:00:50,577 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1 has been successfully formatted.
2019-09-26 10:00:50,577 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1 has been successfully formatted.
2019-09-26 10:00:50,577 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:50,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:50,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:50,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:50,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:50,577 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current
2019-09-26 10:00:50,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:50,578 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/sm
2019-09-26 10:00:50,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:50,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:50,578 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1/current
2019-09-26 10:00:50,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:50,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:50,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,579 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1/sm
2019-09-26 10:00:50,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:50,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,580 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-BEACFBB675A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:50,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:50,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:50,581 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-BEACFBB675A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:50,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:50,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:50,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:50,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:50,582 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-BEACFBB675A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:50,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:50,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:50,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:50,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:50,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:50,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:50,583 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:50,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:50,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:50,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:50,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:50,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:50,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:50,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:50,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:50,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:50,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:50,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:50,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:50,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:50,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:50,586 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:50,586 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:50,586 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:50,586 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:50,586 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:50,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:50,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:50,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:50,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:50,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:50,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:50,592 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-BEACFBB675A1: start as a follower, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,592 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1 has been successfully formatted.
2019-09-26 10:00:50,592 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1 has been successfully formatted.
2019-09-26 10:00:50,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:50,592 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:50,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:50,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:50,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:50,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,593 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:50,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:50,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:50,594 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s3
2019-09-26 10:00:50,594 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-BEACFBB675A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:50,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:50,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:50,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:50,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:50,595 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-BEACFBB675A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:50,595 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:50,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:50,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:50,597 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:50,597 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:50,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:50,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:50,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:50,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:50,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:50,598 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:37580
2019-09-26 10:00:50,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:50,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:50,599 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-BEACFBB675A1: start as a follower, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:50,599 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-BEACFBB675A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:50,600 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:50,600 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:50,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:50,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:50,600 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s4
2019-09-26 10:00:50,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:50,604 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:00:50,605 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:40696
2019-09-26 10:00:50,606 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-BEACFBB675A1: start as a follower, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,606 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-BEACFBB675A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:50,606 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:50,607 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s0
2019-09-26 10:00:50,609 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:50,610 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:46561
2019-09-26 10:00:50,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-BEACFBB675A1: start as a follower, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-BEACFBB675A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:50,611 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:50,612 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s1
2019-09-26 10:00:50,614 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:50,616 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:38942
2019-09-26 10:00:50,617 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-BEACFBB675A1: start as a follower, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,617 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-BEACFBB675A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:50,617 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:50,618 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s2
2019-09-26 10:00:50,620 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:50,621 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:36549
2019-09-26 10:00:50,621 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:50,622 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
2019-09-26 10:00:50,622 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:125)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testLeaderStepDown$3(RaftReconfigurationBaseTest.java:121)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderStepDown(RaftReconfigurationBaseTest.java:121)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:50,791 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-BEACFBB675A1-FollowerState: change to CANDIDATE, lastRpcTime:198ms, electionTimeout:197ms
2019-09-26 10:00:50,792 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:50,792 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:50,793 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 10:00:50,807 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-BEACFBB675A1-LeaderElection25: begin an election at term 1 for -1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,813 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 1, (t:0, i:0))
2019-09-26 10:00:50,813 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 1, (t:0, i:0))
2019-09-26 10:00:50,814 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:50,814 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:50,814 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:50,814 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:50,814 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,814 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:50,814 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 1, (t:0, i:0))
2019-09-26 10:00:50,814 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:50,815 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:50,815 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-BEACFBB675A1-FollowerState: change to CANDIDATE, lastRpcTime:197ms, electionTimeout:197ms
2019-09-26 10:00:50,815 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:50,815 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:50,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 1, (t:0, i:0))
2019-09-26 10:00:50,816 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-BEACFBB675A1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:50,816 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,816 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:50,816 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:00:50,817 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-BEACFBB675A1: changes role from CANDIDATE to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 10:00:50,817 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:00:50,817 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:50,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-BEACFBB675A1 replies to vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-BEACFBB675A1:t1, leader=null, voted=null, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-BEACFBB675A1 replies to vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-BEACFBB675A1:t1, leader=null, voted=s3, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-BEACFBB675A1 replies to vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-BEACFBB675A1:t1, leader=null, voted=s3, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-BEACFBB675A1 replies to vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-BEACFBB675A1:t1, leader=null, voted=s3, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,837 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-BEACFBB675A1-LeaderElection25: Election PASSED; received 2 response(s) [s3<-s0#0:OK-t1, s3<-s1#0:OK-t1] and 0 exception(s); s3@group-BEACFBB675A1:t1, leader=null, voted=s3, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,837 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 10:00:50,837 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:00:50,837 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-BEACFBB675A1: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 260ms
2019-09-26 10:00:50,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:50,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:50,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:50,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:50,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:50,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:50,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:50,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:50,842 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:50,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:50,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:50,844 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:50,844 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,844 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,844 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-BEACFBB675A1-LeaderElection26: begin an election at term 2 for -1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,844 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:50,845 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,845 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:50,845 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:50,845 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-BEACFBB675A1-LeaderElection26: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,845 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,846 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,846 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:50,846 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:50,846 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:50,847 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:50,847 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:50,847 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:50,848 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderState
2019-09-26 10:00:50,848 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:50,851 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:50,852 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-BEACFBB675A1: change Leader from null to s3 at term 1 for appendEntries, leader elected after 259ms
2019-09-26 10:00:50,853 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 2, (t:0, i:0))
2019-09-26 10:00:50,853 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 2, (t:0, i:0))
2019-09-26 10:00:50,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-26 10:00:50,854 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-BEACFBB675A1: change Leader from null to s3 at term 1 for appendEntries, leader elected after 276ms
2019-09-26 10:00:50,855 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:50,855 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-BEACFBB675A1: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:50,855 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,855 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:50,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:50,855 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-26 10:00:50,856 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:50,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-BEACFBB675A1: Not recognize s3 (term=1) as leader, state: s2@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null reply: s3<-s2#0:FAIL,NOT_LEADER,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:00:50,856 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:50,856 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 2, (t:0, i:0))
2019-09-26 10:00:50,856 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 2, (t:0, i:0))
2019-09-26 10:00:50,856 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:50,857 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-BEACFBB675A1: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:50,856 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-BEACFBB675A1: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-26 10:00:50,857 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-26 10:00:50,857 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,857 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:50,857 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s3: shutdown LeaderState
2019-09-26 10:00:50,857 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-26 10:00:50,860 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-BEACFBB675A1->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,860 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s3@group-BEACFBB675A1-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:50,860 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-BEACFBB675A1->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,859 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-BEACFBB675A1->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,860 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s3->s1#1-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:50,860 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:50,860 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-BEACFBB675A1->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:50,860 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:50,861 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-09-26 10:00:50,861 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:50,861 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:50,861 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-BEACFBB675A1->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:50,862 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-BEACFBB675A1->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:50,861 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s3->s2#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-09-26 10:00:50,862 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-BEACFBB675A1->s1: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:50,863 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-BEACFBB675A1->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:50,994 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:50,994 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-BEACFBB675A1 replies to vote request: s2<-s3#0:FAIL-t2. Peer's state: s3@group-BEACFBB675A1:t2, leader=null, voted=null, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,994 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-BEACFBB675A1 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-BEACFBB675A1:t2, leader=null, voted=null, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,994 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:50,994 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-BEACFBB675A1->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:50,994 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-BEACFBB675A1 replies to vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,994 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-BEACFBB675A1 replies to vote request: s2<-s4#0:OK-t2. Peer's state: s4@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:50,995 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-BEACFBB675A1: Not recognize s3 (term=1) as leader, state: s0@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null reply: s3<-s0#0:FAIL,NOT_LEADER,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:00:50,995 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s3->s0#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-09-26 10:00:50,995 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-BEACFBB675A1->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:50,996 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-BEACFBB675A1->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:50,997 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-BEACFBB675A1->s0: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:51,005 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s3<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:51,073 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t2, leader=null, voted=null, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t2, leader=null, voted=null, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t2, leader=null, voted=null, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t2, leader=null, voted=null, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEACFBB675A1:t2, leader=null, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:125)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testLeaderStepDown$3(RaftReconfigurationBaseTest.java:121)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderStepDown(RaftReconfigurationBaseTest.java:121)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:51,085 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-BEACFBB675A1-FollowerState: change to CANDIDATE, lastRpcTime:267ms, electionTimeout:267ms
2019-09-26 10:00:51,085 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:51,085 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-BEACFBB675A1: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 10:00:51,085 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:00:51,096 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-BEACFBB675A1-FollowerState: change to CANDIDATE, lastRpcTime:234ms, electionTimeout:234ms
2019-09-26 10:00:51,096 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:51,097 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-BEACFBB675A1: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 10:00:51,097 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:00:51,101 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-BEACFBB675A1-LeaderElection27: begin an election at term 3 for -1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 3, (t:0, i:0))
2019-09-26 10:00:51,103 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s2
2019-09-26 10:00:51,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 3, (t:0, i:0))
2019-09-26 10:00:51,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 3, (t:0, i:0))
2019-09-26 10:00:51,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-BEACFBB675A1: receive requestVote(s2, group-BEACFBB675A1, 3, (t:0, i:0))
2019-09-26 10:00:51,103 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s2
2019-09-26 10:00:51,103 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:51,104 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:51,103 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s2
2019-09-26 10:00:51,104 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:51,104 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:51,104 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:51,104 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:51,104 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:51,105 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:51,105 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:51,113 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-BEACFBB675A1 replies to vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-BEACFBB675A1:t3, leader=null, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,114 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-BEACFBB675A1 replies to vote request: s2<-s1#0:FAIL-t3. Peer's state: s1@group-BEACFBB675A1:t3, leader=null, voted=s1, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,114 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-BEACFBB675A1 replies to vote request: s2<-s3#0:FAIL-t3. Peer's state: s3@group-BEACFBB675A1:t3, leader=null, voted=null, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,114 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-BEACFBB675A1 replies to vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-BEACFBB675A1:t3, leader=null, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,113 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-BEACFBB675A1-LeaderElection28: begin an election at term 3 for 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,115 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-BEACFBB675A1-LeaderElection27: Election PASSED; received 4 response(s) [s2<-s3#0:FAIL-t3, s2<-s4#0:OK-t3, s2<-s0#0:OK-t3, s2<-s1#0:FAIL-t3] and 0 exception(s); s2@group-BEACFBB675A1:t3, leader=null, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,115 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:00:51,115 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-BEACFBB675A1: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-09-26 10:00:51,115 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-BEACFBB675A1: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 522ms
2019-09-26 10:00:51,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:51,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:51,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:51,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:51,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:51,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:51,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-BEACFBB675A1: receive requestVote(s1, group-BEACFBB675A1, 3, (t:1, i:0))
2019-09-26 10:00:51,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-BEACFBB675A1: receive requestVote(s1, group-BEACFBB675A1, 3, (t:1, i:0))
2019-09-26 10:00:51,120 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s1
2019-09-26 10:00:51,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-BEACFBB675A1: receive requestVote(s1, group-BEACFBB675A1, 3, (t:1, i:0))
2019-09-26 10:00:51,120 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:51,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-BEACFBB675A1 replies to vote request: s1<-s0#0:FAIL-t3. Peer's state: s0@group-BEACFBB675A1:t3, leader=null, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-BEACFBB675A1: receive requestVote(s1, group-BEACFBB675A1, 3, (t:1, i:0))
2019-09-26 10:00:51,120 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:51,121 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-BEACFBB675A1 replies to vote request: s1<-s4#0:FAIL-t3. Peer's state: s4@group-BEACFBB675A1:t3, leader=null, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,121 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:51,120 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,121 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:51,121 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:51,121 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:51,122 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:51,123 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:51,124 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:51,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,124 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-26 10:00:51,124 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:51,125 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:51,125 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s2@group-BEACFBB675A1-   LEADER: Withhold vote from candidate s1 with term 3. State: leader=s2, term=3, lastRpcElapsed=null
2019-09-26 10:00:51,126 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-BEACFBB675A1 replies to vote request: s1<-s2#0:FAIL-t3. Peer's state: s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,127 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-BEACFBB675A1: changes role from CANDIDATE to FOLLOWER at term 3 for appendEntries
2019-09-26 10:00:51,127 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-BEACFBB675A1: change Leader from null to s2 at term 3 for appendEntries, leader elected after 549ms
2019-09-26 10:00:51,127 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-BEACFBB675A1: change Leader from null to s2 at term 3 for appendEntries, leader elected after 271ms
2019-09-26 10:00:51,127 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:00:51,127 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-BEACFBB675A1-LeaderElection28: Election REJECTED; received 3 response(s) [s1<-s4#0:FAIL-t3, s1<-s0#0:FAIL-t3, s1<-s2#0:FAIL-t3] and 0 exception(s); s1@group-BEACFBB675A1:t3, leader=null, voted=s1, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,127 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:51,128 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-BEACFBB675A1: change Leader from null to s2 at term 3 for appendEntries, leader elected after 271ms
2019-09-26 10:00:51,129 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: receive appendEntries(s2, 3, null, -1, false, commits[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:51,129 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:51,129 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: receive appendEntries(s2, 3, null, -1, false, commits[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:51,129 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s2, 3, null, -1, false, commits[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:51,129 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:51,129 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:51,129 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:51,130 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: Truncating segments toTruncate: null
  toDelete: [(0, 0) isOpen? true, length=0, newEndIndex=-1], start index 0
2019-09-26 10:00:51,130 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:51,130 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:51,132 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,132 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(633)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: Deleted log file /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,133 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:51,311 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s2/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,312 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-BEACFBB675A1 replies to vote request: s1<-s3#0:OK-t3. Peer's state: s3@group-BEACFBB675A1:t3, leader=null, voted=s1, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,313 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,313 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,313 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,313 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-BEACFBB675A1: change Leader from null to s2 at term 3 for appendEntries, leader elected after 455ms
2019-09-26 10:00:51,316 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-BEACFBB675A1: receive appendEntries(s2, 3, null, -1, false, commits[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:51,316 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:51,316 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: Truncating segments toTruncate: null
  toDelete: [(0, 0) isOpen? true, length=0, newEndIndex=-1], start index 0
2019-09-26 10:00:51,317 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:51,318 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,319 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(633)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: Deleted log file /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,319 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:51,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:-1
2019-09-26 10:00:51,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s4#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:-1
2019-09-26 10:00:51,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:-1
2019-09-26 10:00:51,390 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s3/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,392 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s3#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:-1
2019-09-26 10:00:51,524 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
2019-09-26 10:00:51,525 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s5, s6]
2019-09-26 10:00:51,525 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s5, group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], format? true
2019-09-26 10:00:51,525 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5
2019-09-26 10:00:51,525 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5 does not exist.
2019-09-26 10:00:51,526 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5
2019-09-26 10:00:51,526 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:51,527 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:51,527 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44671 (custom)
2019-09-26 10:00:51,527 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:51,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,528 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:51,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5] (custom)
2019-09-26 10:00:51,529 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s5: addNew group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] returns group-BEACFBB675A1:java.util.concurrent.CompletableFuture@26da18ef[Not completed]
2019-09-26 10:00:51,529 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s5: new RaftServerImpl for group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] with BaseStateMachine:uninitialized
2019-09-26 10:00:51,530 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s6, group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], format? true
2019-09-26 10:00:51,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:51,532 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6
2019-09-26 10:00:51,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:51,532 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6 does not exist.
2019-09-26 10:00:51,532 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6
2019-09-26 10:00:51,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:51,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:51,533 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:51,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,533 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:51,533 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s5@group-BEACFBB675A1: ConfigurationManager, init=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:51,534 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41756 (custom)
2019-09-26 10:00:51,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5] (custom)
2019-09-26 10:00:51,534 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:51,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:51,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,535 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1 does not exist. Creating ...
2019-09-26 10:00:51,535 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:51,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,535 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:51,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6] (custom)
2019-09-26 10:00:51,536 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s6: addNew group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] returns group-BEACFBB675A1:java.util.concurrent.CompletableFuture@7995aa56[Not completed]
2019-09-26 10:00:51,536 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s6: new RaftServerImpl for group-BEACFBB675A1:[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] with BaseStateMachine:uninitialized
2019-09-26 10:00:51,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,538 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s6@group-BEACFBB675A1: ConfigurationManager, init=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6] (custom)
2019-09-26 10:00:51,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:51,539 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1 does not exist. Creating ...
2019-09-26 10:00:51,539 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:51,549 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:51,549 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:51,549 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/current
2019-09-26 10:00:51,549 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/current
2019-09-26 10:00:51,549 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/sm
2019-09-26 10:00:51,549 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/sm
2019-09-26 10:00:51,563 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1 has been successfully formatted.
2019-09-26 10:00:51,563 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1 has been successfully formatted.
2019-09-26 10:00:51,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:51,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:51,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:51,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:51,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:51,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:51,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:51,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:51,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:51,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:51,565 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s5@group-BEACFBB675A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:51,565 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s6@group-BEACFBB675A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1
2019-09-26 10:00:51,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:51,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:51,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:51,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:51,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:51,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:51,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:51,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:51,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:51,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:51,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:51,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:51,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:51,568 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:51,568 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:51,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:51,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:51,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:51,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:51,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:51,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:51,572 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s5@group-BEACFBB675A1: start with initializing state, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,572 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-BEACFBB675A1: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:51,573 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s5
2019-09-26 10:00:51,576 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s5: start RPC server
2019-09-26 10:00:51,577 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s5: GrpcService started, listening on 0.0.0.0/0.0.0.0:44671
2019-09-26 10:00:51,578 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s6@group-BEACFBB675A1: start with initializing state, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null
2019-09-26 10:00:51,578 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-BEACFBB675A1: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:51,579 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s6
2019-09-26 10:00:51,581 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s6: start RPC server
2019-09-26 10:00:51,582 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s6: GrpcService started, listening on 0.0.0.0/0.0.0.0:41756
2019-09-26 10:00:51,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:51,583 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null STARTING
  s6:  RUNNING  FOLLOWER s6@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null STARTING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
2019-09-26 10:00:51,583 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null STARTING
  s6:  RUNNING  FOLLOWER s6@group-BEACFBB675A1:t0, leader=null, voted=null, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null STARTING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null RUNNING
2019-09-26 10:00:51,584 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942]
2019-09-26 10:00:51,589 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s4@group-BEACFBB675A1: receive setConfiguration SetConfigurationRequest:client-2C28891B4614->s4@group-BEACFBB675A1, cid=26, seq=0, RW, null, peers:[s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942]
2019-09-26 10:00:51,696 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-BEACFBB675A1: receive setConfiguration SetConfigurationRequest:client-2C28891B4614->s2@group-BEACFBB675A1, cid=26, seq=0, RW, null, peers:[s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942]
2019-09-26 10:00:51,696 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-BEACFBB675A1-LeaderState: startSetConfiguration SetConfigurationRequest:client-2C28891B4614->s2@group-BEACFBB675A1, cid=26, seq=0, RW, null, peers:[s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942]
2019-09-26 10:00:51,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:51,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:51,697 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:51,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:51,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:51,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:51,698 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:51,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:51,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:51,740 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-BEACFBB675A1: change Leader from null to s2 at term 3 for appendEntries, leader elected after 176ms
2019-09-26 10:00:51,740 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-BEACFBB675A1: change Leader from null to s2 at term 3 for appendEntries, leader elected after 176ms
2019-09-26 10:00:51,740 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s5@group-BEACFBB675A1: Failed appendEntries as previous log entry ((t:3, i:0)) is not found
2019-09-26 10:00:51,740 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s6@group-BEACFBB675A1: Failed appendEntries as previous log entry ((t:3, i:0)) is not found
2019-09-26 10:00:51,740 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s5@group-BEACFBB675A1: inconsistency entries. Reply:s2<-s5#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:00:51,741 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s6@group-BEACFBB675A1: inconsistency entries. Reply:s2<-s6#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:00:51,741 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s5: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:51,742 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s6: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:51,742 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: receive appendEntries(s2, 3, null, 0, true, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c-1, s6:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:51,743 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: receive appendEntries(s2, 3, null, 0, true, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c-1, s6:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:51,743 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:51,743 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-BEACFBB675A1: set configuration 0: [s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549], old=null at 0
2019-09-26 10:00:51,743 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:51,743 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:51,844 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,844 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0
2019-09-26 10:00:51,845 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s5#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:0
2019-09-26 10:00:51,845 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s6#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:0
2019-09-26 10:00:51,925 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-BEACFBB675A1: set configuration 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] at 1
2019-09-26 10:00:51,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:0), 0, false, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:51,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:0), 0, false, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:51,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:0), 0, false, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:51,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:0), 0, false, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:51,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:0), 0, false, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:51,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:0), 0, false, commits[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:51,928 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-BEACFBB675A1: set configuration 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] at 1
2019-09-26 10:00:51,927 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s6: start FollowerState
2019-09-26 10:00:51,927 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-BEACFBB675A1: set configuration 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] at 1
2019-09-26 10:00:51,927 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-BEACFBB675A1: set configuration 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] at 1
2019-09-26 10:00:51,927 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-BEACFBB675A1: set configuration 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] at 1
2019-09-26 10:00:51,928 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-BEACFBB675A1: set configuration 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] at 1
2019-09-26 10:00:51,928 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s5: start FollowerState
2019-09-26 10:00:51,930 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-BEACFBB675A1: set configuration 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] at 1
2019-09-26 10:00:51,939 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s4#11:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 10:00:51,939 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s5#4:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 10:00:51,939 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s3#9:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 10:00:51,939 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s0#11:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 10:00:51,940 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s1#11:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 10:00:51,940 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s6#4:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 10:00:51,942 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-BEACFBB675A1->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:51,942 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-BEACFBB675A1: set configuration 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 3
2019-09-26 10:00:51,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:1), 1, false, commits[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 10:00:51,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:1), 1, false, commits[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 10:00:51,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:1), 1, false, commits[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 10:00:51,943 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:2), 1, false, commits[s2:c1, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:51,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:1), 1, false, commits[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 10:00:51,942 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s2->s3#9-t3, previous=(t:3, i:0), leaderCommit=0, initializing? false, entries: size=1, first=(t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:51,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:1), 1, false, commits[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 10:00:51,944 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:2), 1, false, commits[s2:c1, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:51,943 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-BEACFBB675A1: set configuration 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 3
2019-09-26 10:00:51,943 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:2), 1, false, commits[s2:c1, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:51,943 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:2), 1, false, commits[s2:c1, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:51,944 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-BEACFBB675A1: set configuration 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 3
2019-09-26 10:00:51,944 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-BEACFBB675A1: set configuration 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 3
2019-09-26 10:00:51,944 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:2), 1, false, commits[s2:c1, s4:c0, s0:c0, s1:c0, s5:c0, s6:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:51,944 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-BEACFBB675A1->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:51,945 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-BEACFBB675A1: set configuration 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 3
2019-09-26 10:00:51,945 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-BEACFBB675A1: set configuration 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 3
2019-09-26 10:00:51,946 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s3: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 10:00:51,949 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s4#12:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 10:00:51,949 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s1#12:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 10:00:51,949 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s0#12:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 10:00:51,949 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s6#5:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 10:00:51,949 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s5#5:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 10:00:51,950 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s4#13:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 10:00:51,951 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s0#13:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 10:00:51,951 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s1#13:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 10:00:51,951 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s5#6:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 10:00:51,951 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s6#6:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 10:00:51,952 INFO  impl.RaftServerImpl (LeaderState.java:checkAndUpdateConfiguration(652)) - s2@group-BEACFBB675A1-LeaderState is not included in the new configuration 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null. Will shutdown server...
2019-09-26 10:00:51,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:3), 3, false, commits[s2:c3, s4:c1, s0:c1, s1:c1, s5:c1, s6:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:51,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:3), 3, false, commits[s2:c3, s4:c1, s0:c1, s1:c1, s5:c1, s6:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:51,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:3), 3, false, commits[s2:c3, s4:c1, s0:c1, s1:c1, s5:c1, s6:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:51,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:3), 3, false, commits[s2:c3, s4:c1, s0:c1, s1:c1, s5:c1, s6:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:51,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: receive appendEntries(s2, 3, (t:3, i:3), 3, false, commits[s2:c3, s4:c1, s0:c1, s1:c1, s5:c1, s6:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:51,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:51,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s4#14:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-26 10:00:51,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s5#7:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-26 10:00:51,955 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] RUNNING
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-BEACFBB675A1:t3, leader=s2, voted=null, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-BEACFBB675A1:t3, leader=s2, voted=null, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
2019-09-26 10:00:51,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s1#14:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-26 10:00:51,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s6#7:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-26 10:00:51,956 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s2<-s0#14:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-26 10:00:51,956 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] RUNNING
2019-09-26 10:00:51,957 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:135)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testLeaderStepDown$3(RaftReconfigurationBaseTest.java:121)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderStepDown(RaftReconfigurationBaseTest.java:121)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:52,103 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-BEACFBB675A1: shutdown
2019-09-26 10:00:52,103 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s2
2019-09-26 10:00:52,103 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-26 10:00:52,105 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-BEACFBB675A1->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:52,107 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-BEACFBB675A1->s6-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:52,107 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-BEACFBB675A1->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:52,106 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-BEACFBB675A1->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:52,107 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s2->s4#15-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:00:52,106 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-BEACFBB675A1-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:52,106 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-BEACFBB675A1->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:52,107 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#15-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:00:52,107 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s6: Completed APPEND_ENTRIES, lastRequest: s2->s6#8-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:00:52,107 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s5: Completed APPEND_ENTRIES, lastRequest: s2->s5#8-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:00:52,108 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#15-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:00:52,108 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-BEACFBB675A1->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:52,108 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-BEACFBB675A1-StateMachineUpdater: set stopIndex = 3
2019-09-26 10:00:52,108 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-BEACFBB675A1->s6-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:52,108 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-BEACFBB675A1->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:52,108 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-BEACFBB675A1->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:52,109 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s4: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:52,109 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-BEACFBB675A1: closes. applyIndex: 3
2019-09-26 10:00:52,109 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-BEACFBB675A1->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:52,110 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-BEACFBB675A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:52,110 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:52,110 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s5: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:52,110 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s6: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:52,111 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-BEACFBB675A1->s0: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:52,112 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-BEACFBB675A1-SegmentedRaftLogWorker close()
2019-09-26 10:00:52,231 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-BEACFBB675A1-FollowerState: change to CANDIDATE, lastRpcTime:292ms, electionTimeout:246ms
2019-09-26 10:00:52,231 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:52,231 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-26 10:00:52,231 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 10:00:52,232 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-BEACFBB675A1: change Leader from s2 to null at term 3 for initElection
2019-09-26 10:00:52,246 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-BEACFBB675A1-LeaderElection29: begin an election at term 4 for 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549]
2019-09-26 10:00:52,252 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 4, (t:3, i:1))
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 4, (t:3, i:1))
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 4, (t:3, i:1))
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-BEACFBB675A1 replies to vote request: s3<-s0#0:FAIL-t3. Peer's state: s0@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 4, (t:3, i:1))
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 4, (t:3, i:1))
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-BEACFBB675A1 replies to vote request: s3<-s4#0:FAIL-t3. Peer's state: s4@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-BEACFBB675A1 replies to vote request: s3<-s6#0:FAIL-t3. Peer's state: s6@group-BEACFBB675A1:t3, leader=s2, voted=null, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,254 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-BEACFBB675A1 replies to vote request: s3<-s1#0:FAIL-t3. Peer's state: s1@group-BEACFBB675A1:t3, leader=s2, voted=s1, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,254 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-BEACFBB675A1 replies to vote request: s3<-s5#0:FAIL-t3. Peer's state: s5@group-BEACFBB675A1:t3, leader=s2, voted=null, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 4, (t:3, i:1))
2019-09-26 10:00:52,255 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s2: Failed requestVote s3->s2#0: org.apache.ratis.protocol.ServerNotReadyException: s2@group-BEACFBB675A1 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:00:52,259 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-BEACFBB675A1-FollowerState: change to CANDIDATE, lastRpcTime:224ms, electionTimeout:223ms
2019-09-26 10:00:52,259 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:52,259 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-BEACFBB675A1: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-26 10:00:52,259 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:52,260 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s3@group-BEACFBB675A1-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s2@group-BEACFBB675A1 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:00:52,260 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-BEACFBB675A1-LeaderElection29: Election REJECTED; received 5 response(s) [s3<-s4#0:FAIL-t3, s3<-s5#0:FAIL-t3, s3<-s6#0:FAIL-t3, s3<-s0#0:FAIL-t3, s3<-s1#0:FAIL-t3] and 1 exception(s); s3@group-BEACFBB675A1:t4, leader=null, voted=s3, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549]
2019-09-26 10:00:52,260 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-BEACFBB675A1: change Leader from s2 to null at term 3 for initElection
2019-09-26 10:00:52,260 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s2@group-BEACFBB675A1 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:00:52,261 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:52,261 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 10:00:52,262 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:52,273 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-BEACFBB675A1-LeaderElection30: begin an election at term 4 for 3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,278 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-BEACFBB675A1: receive requestVote(s0, group-BEACFBB675A1, 4, (t:3, i:4))
2019-09-26 10:00:52,278 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-BEACFBB675A1: change Leader from s2 to null at term 4 for updateCurrentTerm
2019-09-26 10:00:52,279 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-BEACFBB675A1: receive requestVote(s0, group-BEACFBB675A1, 4, (t:3, i:4))
2019-09-26 10:00:52,279 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-BEACFBB675A1: receive requestVote(s0, group-BEACFBB675A1, 4, (t:3, i:4))
2019-09-26 10:00:52,279 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 10:00:52,279 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-BEACFBB675A1: receive requestVote(s0, group-BEACFBB675A1, 4, (t:3, i:4))
2019-09-26 10:00:52,279 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-BEACFBB675A1: change Leader from s2 to null at term 4 for updateCurrentTerm
2019-09-26 10:00:52,279 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 10:00:52,279 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-BEACFBB675A1: change Leader from s2 to null at term 4 for updateCurrentTerm
2019-09-26 10:00:52,280 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:52,279 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-BEACFBB675A1: change Leader from s2 to null at term 4 for updateCurrentTerm
2019-09-26 10:00:52,280 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 10:00:52,279 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:52,280 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s6: shutdown FollowerState
2019-09-26 10:00:52,280 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:52,280 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:52,280 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-BEACFBB675A1: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 10:00:52,281 INFO  impl.FollowerState (FollowerState.java:run(117)) - s6@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:52,281 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s6: start FollowerState
2019-09-26 10:00:52,281 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:52,281 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:00:52,281 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown FollowerState
2019-09-26 10:00:52,282 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s5: start FollowerState
2019-09-26 10:00:52,282 INFO  impl.FollowerState (FollowerState.java:run(117)) - s5@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:52,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-BEACFBB675A1 replies to vote request: s0<-s1#0:OK-t4. Peer's state: s1@group-BEACFBB675A1:t4, leader=null, voted=s0, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-BEACFBB675A1 replies to vote request: s0<-s4#0:OK-t4. Peer's state: s4@group-BEACFBB675A1:t4, leader=null, voted=s0, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-BEACFBB675A1 replies to vote request: s0<-s5#0:OK-t4. Peer's state: s5@group-BEACFBB675A1:t4, leader=null, voted=s0, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-BEACFBB675A1 replies to vote request: s0<-s6#0:OK-t4. Peer's state: s6@group-BEACFBB675A1:t4, leader=null, voted=s0, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,296 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-BEACFBB675A1-LeaderElection30: Election PASSED; received 2 response(s) [s0<-s4#0:OK-t4, s0<-s1#0:OK-t4] and 0 exception(s); s0@group-BEACFBB675A1:t4, leader=null, voted=s0, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,296 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:52,296 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-BEACFBB675A1: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-26 10:00:52,296 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-BEACFBB675A1: change Leader from null to s0 at term 4 for becomeLeader, leader elected after 36ms
2019-09-26 10:00:52,296 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:52,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:52,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:52,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:52,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:52,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:52,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:52,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:52,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:52,300 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:52,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:52,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:52,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:52,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:52,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:52,301 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:52,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:52,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:52,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:52,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:52,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:52,302 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:52,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:52,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:52,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:52,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:52,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:52,303 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:52,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:52,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:52,304 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 10:00:52,304 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 10:00:52,306 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-BEACFBB675A1: set configuration 5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 5
2019-09-26 10:00:52,306 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-BEACFBB675A1: change Leader from null to s0 at term 4 for appendEntries, leader elected after 27ms
2019-09-26 10:00:52,306 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,307 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,306 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-BEACFBB675A1: change Leader from null to s0 at term 4 for appendEntries, leader elected after 27ms
2019-09-26 10:00:52,307 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-BEACFBB675A1: change Leader from null to s0 at term 4 for appendEntries, leader elected after 27ms
2019-09-26 10:00:52,307 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-BEACFBB675A1: change Leader from null to s0 at term 4 for appendEntries, leader elected after 28ms
2019-09-26 10:00:52,308 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:3, i:4), 3, false, commits[s0:c3, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:5), CONFIGURATIONENTRY
2019-09-26 10:00:52,308 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-BEACFBB675A1: set configuration 5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 5
2019-09-26 10:00:52,309 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:3, i:4), 3, false, commits[s0:c3, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:5), CONFIGURATIONENTRY
2019-09-26 10:00:52,309 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 10:00:52,309 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:3, i:4), 3, false, commits[s0:c3, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:5), CONFIGURATIONENTRY
2019-09-26 10:00:52,309 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:3, i:4), 3, false, commits[s0:c3, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:5), CONFIGURATIONENTRY
2019-09-26 10:00:52,309 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-BEACFBB675A1: set configuration 5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 5
2019-09-26 10:00:52,310 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-BEACFBB675A1: set configuration 5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 5
2019-09-26 10:00:52,309 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-BEACFBB675A1: set configuration 5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null at 5
2019-09-26 10:00:52,310 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 10:00:52,310 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 10:00:52,310 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 10:00:52,311 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,311 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,312 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,312 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,313 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,313 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,313 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,313 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/current/log_0-4
2019-09-26 10:00:52,546 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-BEACFBB675A1-FollowerState: change to CANDIDATE, lastRpcTime:284ms, electionTimeout:284ms
2019-09-26 10:00:52,546 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:52,546 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-BEACFBB675A1: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-26 10:00:52,546 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 10:00:52,561 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s6/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_5
2019-09-26 10:00:52,561 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s1/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_5
2019-09-26 10:00:52,561 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s0/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_5
2019-09-26 10:00:52,561 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s4/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_5
2019-09-26 10:00:52,561 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcf08d73f1/s5/199d3e20-5730-4781-a584-beacfbb675a1/current/log_inprogress_5
2019-09-26 10:00:52,564 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:6,term:4,followerCommit:3
2019-09-26 10:00:52,564 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s4#1:OK,SUCCESS,nextIndex:6,term:4,followerCommit:3
2019-09-26 10:00:52,564 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s6#1:OK,SUCCESS,nextIndex:6,term:4,followerCommit:3
2019-09-26 10:00:52,565 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s5#1:OK,SUCCESS,nextIndex:6,term:4,followerCommit:3
2019-09-26 10:00:52,567 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-BEACFBB675A1-LeaderElection31: begin an election at term 5 for 1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549]
2019-09-26 10:00:52,568 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:4, i:5), 5, false, commits[s0:c5, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:6), METADATAENTRY(c5)
2019-09-26 10:00:52,568 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:4, i:5), 5, false, commits[s0:c5, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:6), METADATAENTRY(c5)
2019-09-26 10:00:52,568 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:4, i:5), 5, false, commits[s0:c5, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:6), METADATAENTRY(c5)
2019-09-26 10:00:52,568 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: receive appendEntries(s0, 4, (t:4, i:5), 5, false, commits[s0:c5, s4:c3, s5:c3, s6:c3, s1:c3], entries: (t:4, i:6), METADATAENTRY(c5)
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 5, (t:3, i:1))
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 5, (t:3, i:1))
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-BEACFBB675A1 replies to vote request: s3<-s4#0:FAIL-t4. Peer's state: s4@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f5,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 5, (t:3, i:1))
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 5, (t:3, i:1))
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 5, (t:3, i:1))
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-BEACFBB675A1 replies to vote request: s3<-s6#0:FAIL-t4. Peer's state: s6@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f5,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-BEACFBB675A1: receive requestVote(s3, group-BEACFBB675A1, 5, (t:3, i:1))
2019-09-26 10:00:52,571 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-BEACFBB675A1 replies to vote request: s3<-s0#0:FAIL-t4. Peer's state: s0@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c5,f5,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,571 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-BEACFBB675A1 replies to vote request: s3<-s5#0:FAIL-t4. Peer's state: s5@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f5,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-BEACFBB675A1 replies to vote request: s3<-s1#0:FAIL-t4. Peer's state: s1@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c3,f5,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null
2019-09-26 10:00:52,571 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s2: Failed requestVote s3->s2#0: org.apache.ratis.protocol.ServerNotReadyException: s2@group-BEACFBB675A1 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:00:52,573 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-BEACFBB675A1-LeaderElection31: Election SHUTDOWN; received 4 response(s) [s3<-s4#0:FAIL-t4, s3<-s5#0:FAIL-t4, s3<-s6#0:FAIL-t4, s3<-s0#0:FAIL-t4] and 0 exception(s); s3@group-BEACFBB675A1:t5, leader=null, voted=s3, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549]
2019-09-26 10:00:52,573 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s3@group-BEACFBB675A1-LeaderElection31 received shutdown response when requesting votes.
2019-09-26 10:00:52,573 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:52,574 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-BEACFBB675A1: shutdown
2019-09-26 10:00:52,575 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s3
2019-09-26 10:00:52,575 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 10:00:52,575 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-BEACFBB675A1-StateMachineUpdater: set stopIndex = 0
2019-09-26 10:00:52,575 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-BEACFBB675A1: closes. applyIndex: 0
2019-09-26 10:00:52,576 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:52,578 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s4#5:OK,SUCCESS,nextIndex:7,term:4,followerCommit:5
2019-09-26 10:00:52,578 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s6#5:OK,SUCCESS,nextIndex:7,term:4,followerCommit:5
2019-09-26 10:00:52,578 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK,SUCCESS,nextIndex:7,term:4,followerCommit:5
2019-09-26 10:00:52,578 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-BEACFBB675A1: succeeded to handle AppendEntries. Reply: s0<-s5#5:OK,SUCCESS,nextIndex:7,term:4,followerCommit:5
2019-09-26 10:00:52,581 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-BEACFBB675A1-SegmentedRaftLogWorker close()
2019-09-26 10:00:52,582 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 37580 now
2019-09-26 10:00:52,585 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 37580 successfully
2019-09-26 10:00:53,159 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], deadPeers=null, printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-BEACFBB675A1:t5, leader=null, voted=s3, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:CLOSED:c0, conf=1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] CLOSED
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:CLOSED:c3, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null CLOSED
2019-09-26 10:00:53,160 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s3@group-BEACFBB675A1:t5, leader=null, voted=s3, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:CLOSED:c0, conf=1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] CLOSED
2019-09-26 10:00:53,160 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s4@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
2019-09-26 10:00:53,161 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s5@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
2019-09-26 10:00:53,161 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s6@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
2019-09-26 10:00:53,161 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s0@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
2019-09-26 10:00:53,161 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
2019-09-26 10:00:53,161 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:CLOSED:c3, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null CLOSED
2019-09-26 10:00:53,162 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:53,162 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:53,162 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:53,162 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:53,162 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:53,162 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-BEACFBB675A1:t5, leader=null, voted=s3, raftlog=s3@group-BEACFBB675A1-SegmentedRaftLog:CLOSED:c0, conf=1: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=[s3:0.0.0.0:37580, s4:0.0.0.0:40696, s0:0.0.0.0:46561, s1:0.0.0.0:38942, s2:0.0.0.0:36549] CLOSED
  s4:  RUNNING  FOLLOWER s4@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s4@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s5@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s6@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s0@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEACFBB675A1:t4, leader=s0, voted=s0, raftlog=s1@group-BEACFBB675A1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-BEACFBB675A1:t3, leader=s2, voted=s2, raftlog=s2@group-BEACFBB675A1-SegmentedRaftLog:CLOSED:c3, conf=3: [s4:0.0.0.0:40696, s5:0.0.0.0:44671, s6:0.0.0.0:41756, s0:0.0.0.0:46561, s1:0.0.0.0:38942], old=null CLOSED
2019-09-26 10:00:53,164 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s5: close
2019-09-26 10:00:53,165 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s6: close
2019-09-26 10:00:53,168 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:53,167 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s5@group-BEACFBB675A1: shutdown
2019-09-26 10:00:53,165 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:00:53,170 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s5
2019-09-26 10:00:53,169 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:53,169 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-BEACFBB675A1: shutdown
2019-09-26 10:00:53,172 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s0
2019-09-26 10:00:53,169 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:53,168 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s6@group-BEACFBB675A1: shutdown
2019-09-26 10:00:53,173 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-BEACFBB675A1: shutdown
2019-09-26 10:00:53,172 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 10:00:53,171 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 36549 now
2019-09-26 10:00:53,176 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-BEACFBB675A1-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:53,171 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown FollowerState
2019-09-26 10:00:53,170 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-BEACFBB675A1: shutdown
2019-09-26 10:00:53,177 INFO  impl.FollowerState (FollowerState.java:run(117)) - s5@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:53,177 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s5@group-BEACFBB675A1-StateMachineUpdater: set stopIndex = 6
2019-09-26 10:00:53,177 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-BEACFBB675A1-StateMachineUpdater: set stopIndex = 6
2019-09-26 10:00:53,176 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-BEACFBB675A1->s6-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:53,176 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-BEACFBB675A1->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:53,176 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-BEACFBB675A1->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:53,176 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-BEACFBB675A1->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:53,173 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s1
2019-09-26 10:00:53,179 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s5: Completed APPEND_ENTRIES, lastRequest: s0->s5#12-t4, previous=(t:4, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 10:00:53,173 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s6
2019-09-26 10:00:53,179 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#12-t4, previous=(t:4, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 10:00:53,179 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:53,179 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#12-t4, previous=(t:4, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 10:00:53,179 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s6: Completed APPEND_ENTRIES, lastRequest: s0->s6#12-t4, previous=(t:4, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 10:00:53,178 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-BEACFBB675A1: closes. applyIndex: 6
2019-09-26 10:00:53,178 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s5@group-BEACFBB675A1: closes. applyIndex: 6
2019-09-26 10:00:53,177 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEACFBB675A1,id=s4
2019-09-26 10:00:53,177 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 36549 successfully
2019-09-26 10:00:53,180 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:00:53,181 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-BEACFBB675A1-StateMachineUpdater: set stopIndex = 6
2019-09-26 10:00:53,180 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:53,180 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-BEACFBB675A1->s6-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:53,180 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:53,180 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-BEACFBB675A1->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:53,180 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-BEACFBB675A1->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:53,180 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:53,180 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-BEACFBB675A1-StateMachineUpdater: set stopIndex = 6
2019-09-26 10:00:53,182 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-BEACFBB675A1: closes. applyIndex: 6
2019-09-26 10:00:53,179 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-BEACFBB675A1->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:53,179 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s6: shutdown FollowerState
2019-09-26 10:00:53,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:53,182 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-BEACFBB675A1->s1: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 10:00:53,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s5@group-BEACFBB675A1-SegmentedRaftLogWorker close()
2019-09-26 10:00:53,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-BEACFBB675A1-SegmentedRaftLogWorker close()
2019-09-26 10:00:53,182 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-BEACFBB675A1->s6: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 10:00:53,181 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-BEACFBB675A1: closes. applyIndex: 6
2019-09-26 10:00:53,181 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:53,186 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:53,186 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 46561 now
2019-09-26 10:00:53,186 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-BEACFBB675A1-SegmentedRaftLogWorker close()
2019-09-26 10:00:53,185 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s5: shutdown server with port 44671 now
2019-09-26 10:00:53,184 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-BEACFBB675A1->s5: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 10:00:53,184 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-BEACFBB675A1->s4: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 10:00:53,184 INFO  impl.FollowerState (FollowerState.java:run(117)) - s6@group-BEACFBB675A1-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:53,184 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s6@group-BEACFBB675A1-StateMachineUpdater: set stopIndex = 6
2019-09-26 10:00:53,188 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-BEACFBB675A1-SegmentedRaftLogWorker close()
2019-09-26 10:00:53,188 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s5: shutdown server with port 44671 successfully
2019-09-26 10:00:53,188 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 46561 successfully
2019-09-26 10:00:53,188 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 38942 now
2019-09-26 10:00:53,190 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 40696 now
2019-09-26 10:00:53,189 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s6@group-BEACFBB675A1: closes. applyIndex: 6
2019-09-26 10:00:53,191 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 40696 successfully
2019-09-26 10:00:53,191 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:53,191 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 38942 successfully
2019-09-26 10:00:53,193 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s6@group-BEACFBB675A1-SegmentedRaftLogWorker close()
2019-09-26 10:00:53,194 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s6: shutdown server with port 41756 now
2019-09-26 10:00:53,195 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s6: shutdown server with port 41756 successfully
2019-09-26 10:00:53,195 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:53,196 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:53,196 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:53,197 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:00:53,198 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:53,198 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:53,198 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:53,199 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:53,199 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:53,199 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:53,199 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:53,199 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], format? true
2019-09-26 10:00:53,199 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0
2019-09-26 10:00:53,200 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0 does not exist.
2019-09-26 10:00:53,200 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0
2019-09-26 10:00:53,200 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:53,200 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:53,201 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33467 (custom)
2019-09-26 10:00:53,201 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:53,201 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,201 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:53,201 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:53,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0] (custom)
2019-09-26 10:00:53,203 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] returns group-7584806CF29F:java.util.concurrent.CompletableFuture@2c7a2a80[Not completed]
2019-09-26 10:00:53,203 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] with BaseStateMachine:uninitialized
2019-09-26 10:00:53,203 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], format? true
2019-09-26 10:00:53,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:53,204 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1
2019-09-26 10:00:53,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:53,204 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1 does not exist.
2019-09-26 10:00:53,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:53,204 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1
2019-09-26 10:00:53,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:53,205 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:53,205 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:53,205 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-7584806CF29F: ConfigurationManager, init=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:53,205 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:53,205 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0] (custom)
2019-09-26 10:00:53,205 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 46802 (custom)
2019-09-26 10:00:53,205 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:53,206 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:53,206 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f does not exist. Creating ...
2019-09-26 10:00:53,206 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,206 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:53,206 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:53,207 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,207 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1] (custom)
2019-09-26 10:00:53,207 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] returns group-7584806CF29F:java.util.concurrent.CompletableFuture@2f296770[Not completed]
2019-09-26 10:00:53,207 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] with BaseStateMachine:uninitialized
2019-09-26 10:00:53,207 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], format? true
2019-09-26 10:00:53,208 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:53,208 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2
2019-09-26 10:00:53,208 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:53,209 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:53,209 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2 does not exist.
2019-09-26 10:00:53,209 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:53,209 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2
2019-09-26 10:00:53,209 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:53,209 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-7584806CF29F: ConfigurationManager, init=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:53,209 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:53,210 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1] (custom)
2019-09-26 10:00:53,210 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:53,210 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:53,210 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37017 (custom)
2019-09-26 10:00:53,210 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f does not exist. Creating ...
2019-09-26 10:00:53,210 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:53,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,211 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,211 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:53,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:53,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2] (custom)
2019-09-26 10:00:53,212 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] returns group-7584806CF29F:java.util.concurrent.CompletableFuture@4f11d08d[Not completed]
2019-09-26 10:00:53,212 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] with BaseStateMachine:uninitialized
2019-09-26 10:00:53,213 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:53,213 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:53,213 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:53,213 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:53,213 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:53,213 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-7584806CF29F: ConfigurationManager, init=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:53,214 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2] (custom)
2019-09-26 10:00:53,214 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:53,214 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f does not exist. Creating ...
2019-09-26 10:00:53,214 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,222 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:53,222 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:53,223 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/current
2019-09-26 10:00:53,223 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/sm
2019-09-26 10:00:53,222 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f/current
2019-09-26 10:00:53,224 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f/sm
2019-09-26 10:00:53,224 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:53,225 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/current
2019-09-26 10:00:53,225 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/sm
2019-09-26 10:00:53,237 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f has been successfully formatted.
2019-09-26 10:00:53,237 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f has been successfully formatted.
2019-09-26 10:00:53,237 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f has been successfully formatted.
2019-09-26 10:00:53,237 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:53,237 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:53,237 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:53,239 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-7584806CF29F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:53,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:53,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:53,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:53,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:53,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:53,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:53,240 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-7584806CF29F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:53,240 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-7584806CF29F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:53,241 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-7584806CF29F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:53,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:53,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:53,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:53,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:53,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:53,243 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-7584806CF29F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:53,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:53,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:53,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:53,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:53,244 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:53,244 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-7584806CF29F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:53,244 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:53,244 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:53,244 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:53,246 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-7584806CF29F: start as a follower, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,246 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7584806CF29F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:53,247 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:53,247 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s0
2019-09-26 10:00:53,250 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:53,251 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:33467
2019-09-26 10:00:53,252 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-7584806CF29F: start as a follower, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,252 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7584806CF29F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:53,252 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:53,252 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s1
2019-09-26 10:00:53,254 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:00:53,255 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:46802
2019-09-26 10:00:53,255 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-7584806CF29F: start as a follower, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,256 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-7584806CF29F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:53,256 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:00:53,256 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s2
2019-09-26 10:00:53,258 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:00:53,258 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:37017
2019-09-26 10:00:53,259 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:53,259 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:53,259 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:311)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:53,487 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-7584806CF29F-FollowerState: change to CANDIDATE, lastRpcTime:231ms, electionTimeout:231ms
2019-09-26 10:00:53,487 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:00:53,488 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-7584806CF29F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:53,488 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:00:53,494 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s0@group-1F254936D1AB->s1-GrpcLogAppender: appendEntries Timeout, request=s0->s1#10-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:00:53,502 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-7584806CF29F-LeaderElection32: begin an election at term 1 for -1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,508 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-7584806CF29F: receive requestVote(s2, group-7584806CF29F, 1, (t:0, i:0))
2019-09-26 10:00:53,508 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-7584806CF29F: receive requestVote(s2, group-7584806CF29F, 1, (t:0, i:0))
2019-09-26 10:00:53,508 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7584806CF29F: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s2
2019-09-26 10:00:53,509 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7584806CF29F: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s2
2019-09-26 10:00:53,509 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:53,509 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:53,509 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-7584806CF29F-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:53,509 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:53,509 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-7584806CF29F-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:53,509 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:53,523 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-7584806CF29F replies to vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-7584806CF29F:t1, leader=null, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,523 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-7584806CF29F replies to vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-7584806CF29F:t1, leader=null, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,524 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-7584806CF29F-LeaderElection32: Election PASSED; received 1 response(s) [s2<-s1#0:OK-t1] and 0 exception(s); s2@group-7584806CF29F:t1, leader=null, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,525 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:00:53,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-7584806CF29F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:00:53,525 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-7584806CF29F: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 287ms
2019-09-26 10:00:53,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:53,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:53,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:53,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:53,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:53,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:53,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:53,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:53,529 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:53,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:53,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:53,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:53,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:53,530 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:53,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:53,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:53,531 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-26 10:00:53,531 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-7584806CF29F-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:53,532 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-7584806CF29F: set configuration 0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 0
2019-09-26 10:00:53,534 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-7584806CF29F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 296ms
2019-09-26 10:00:53,534 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-7584806CF29F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 296ms
2019-09-26 10:00:53,535 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7584806CF29F: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:53,536 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-7584806CF29F: set configuration 0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 0
2019-09-26 10:00:53,536 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:53,536 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-7584806CF29F-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:53,536 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-7584806CF29F: set configuration 0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 0
2019-09-26 10:00:53,537 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-7584806CF29F-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:53,710 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:53,710 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3]
2019-09-26 10:00:53,711 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], format? true
2019-09-26 10:00:53,711 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3
2019-09-26 10:00:53,711 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3 does not exist.
2019-09-26 10:00:53,712 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3
2019-09-26 10:00:53,712 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:53,712 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:53,713 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44235 (custom)
2019-09-26 10:00:53,713 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:53,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,714 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:53,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:53,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3] (custom)
2019-09-26 10:00:53,715 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] returns group-7584806CF29F:java.util.concurrent.CompletableFuture@1d6dcb4e[Not completed]
2019-09-26 10:00:53,716 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-7584806CF29F:[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] with BaseStateMachine:uninitialized
2019-09-26 10:00:53,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:53,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:53,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:53,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:53,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:53,718 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-7584806CF29F: ConfigurationManager, init=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:53,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3] (custom)
2019-09-26 10:00:53,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:53,718 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f does not exist. Creating ...
2019-09-26 10:00:53,723 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,724 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-7584806CF29F-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0
2019-09-26 10:00:53,724 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-7584806CF29F-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0
2019-09-26 10:00:53,724 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-7584806CF29F-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s2/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0
2019-09-26 10:00:53,725 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:53,726 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:00:53,727 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:53,727 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/current
2019-09-26 10:00:53,727 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/sm
2019-09-26 10:00:53,743 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f has been successfully formatted.
2019-09-26 10:00:53,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:53,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:53,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:53,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:53,744 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-7584806CF29F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:53,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:53,746 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:53,746 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:53,746 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-7584806CF29F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:53,746 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:53,747 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:53,747 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:53,750 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-7584806CF29F: start with initializing state, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:53,750 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-7584806CF29F: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:00:53,751 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s3
2019-09-26 10:00:53,754 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:53,755 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:44235
2019-09-26 10:00:53,756 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:53,756 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-7584806CF29F: shutdown
2019-09-26 10:00:53,756 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s3
2019-09-26 10:00:53,756 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-7584806CF29F-StateMachineUpdater: set stopIndex = -1
2019-09-26 10:00:53,757 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-7584806CF29F: closes. applyIndex: -1
2019-09-26 10:00:53,757 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-7584806CF29F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:53,757 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-7584806CF29F-SegmentedRaftLogWorker close()
2019-09-26 10:00:53,758 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 44235 now
2019-09-26 10:00:53,759 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 44235 successfully
2019-09-26 10:00:53,759 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(316)) - Start setConf: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:53,759 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(317)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:53,766 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s2@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:53,767 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-7584806CF29F-LeaderState: startSetConfiguration SetConfigurationRequest:client-C5957D88C011->s2@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:53,767 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:53,767 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:53,767 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:53,768 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:53,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:53,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:53,771 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:53,771 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:53,847 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:53,847 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:53,923 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:53,923 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:53,999 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:53,999 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,074 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,075 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,150 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,150 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,225 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,226 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,301 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,302 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,377 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,378 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,453 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,453 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,529 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,529 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,605 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:54,605 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:54,626 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s2@group-7584806CF29F-LeaderState detects a follower s2@group-7584806CF29F->s3(c-1,m0,n0, attendVote=false, lastRpcSendTime=23, lastRpcResponseTime=1159) timeout (20.38s) for bootstrapping
2019-09-26 10:00:54,627 DEBUG impl.RaftServerImpl (LeaderState.java:fail(769)) - s2@group-7584806CF29F-ConfigurationStagingState: Fail to set configuration [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017] due to NOPROGRESS
2019-09-26 10:00:54,629 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-7584806CF29F->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:54,742 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s1@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:54,762 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(345)) - (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:00:54,763 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:54,763 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:54,764 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:54,764 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(117)) - killing leader =    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:54,764 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s2
2019-09-26 10:00:54,765 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:00:54,765 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-7584806CF29F: shutdown
2019-09-26 10:00:54,765 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s2
2019-09-26 10:00:54,766 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-26 10:00:54,767 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-7584806CF29F->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:54,767 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-7584806CF29F-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:54,768 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-7584806CF29F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:54,768 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-7584806CF29F-StateMachineUpdater: set stopIndex = 0
2019-09-26 10:00:54,768 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#16-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 10:00:54,768 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#16-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 10:00:54,768 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-7584806CF29F: closes. applyIndex: 0
2019-09-26 10:00:54,769 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-7584806CF29F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:54,769 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-7584806CF29F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:54,769 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-7584806CF29F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:54,770 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s1: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:54,770 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-7584806CF29F->s0: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:54,772 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-7584806CF29F-SegmentedRaftLogWorker close()
2019-09-26 10:00:54,773 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 37017 now
2019-09-26 10:00:54,774 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 37017 successfully
2019-09-26 10:00:54,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:54,775 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
2019-09-26 10:00:54,776 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:353)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:54,952 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s1@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:55,147 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-7584806CF29F-FollowerState: change to CANDIDATE, lastRpcTime:423ms, electionTimeout:241ms
2019-09-26 10:00:55,147 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:55,147 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7584806CF29F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:55,147 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:00:55,148 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-7584806CF29F: change Leader from s2 to null at term 1 for initElection
2019-09-26 10:00:55,156 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-7584806CF29F-FollowerState: change to CANDIDATE, lastRpcTime:432ms, electionTimeout:276ms
2019-09-26 10:00:55,156 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:55,156 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7584806CF29F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:00:55,156 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:55,157 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-7584806CF29F: change Leader from s2 to null at term 1 for initElection
2019-09-26 10:00:55,162 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-7584806CF29F-LeaderElection34: begin an election at term 2 for 0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,162 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-7584806CF29F-LeaderElection33: begin an election at term 2 for 0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s1@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:55,168 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-7584806CF29F-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,168 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s1@group-7584806CF29F-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,170 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-7584806CF29F: receive requestVote(s0, group-7584806CF29F, 2, (t:1, i:0))
2019-09-26 10:00:55,170 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-7584806CF29F replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-7584806CF29F:t2, leader=null, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,170 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-7584806CF29F: receive requestVote(s1, group-7584806CF29F, 2, (t:1, i:0))
2019-09-26 10:00:55,171 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-7584806CF29F replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-7584806CF29F:t2, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,171 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-7584806CF29F-LeaderElection34: Election REJECTED; received 1 response(s) [s0<-s1#0:FAIL-t2] and 1 exception(s); s0@group-7584806CF29F:t2, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,171 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,171 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7584806CF29F: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:55,172 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:55,172 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-7584806CF29F-LeaderElection33: Election REJECTED; received 1 response(s) [s1<-s0#0:FAIL-t2] and 1 exception(s); s1@group-7584806CF29F:t2, leader=null, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,172 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:55,172 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,172 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7584806CF29F: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 10:00:55,172 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:00:55,173 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:00:55,228 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t2, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t2, leader=null, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t2, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7584806CF29F:t2, leader=null, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:353)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:55,273 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s0@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:55,412 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-7584806CF29F-FollowerState: change to CANDIDATE, lastRpcTime:239ms, electionTimeout:239ms
2019-09-26 10:00:55,412 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:00:55,413 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7584806CF29F: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 10:00:55,413 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:00:55,440 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-7584806CF29F-LeaderElection35: begin an election at term 3 for 0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,441 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s1@group-7584806CF29F-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,442 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-7584806CF29F: receive requestVote(s1, group-7584806CF29F, 3, (t:1, i:0))
2019-09-26 10:00:55,442 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7584806CF29F: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s1
2019-09-26 10:00:55,442 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:55,443 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:55,443 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-7584806CF29F-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:55,464 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-7584806CF29F replies to vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-7584806CF29F:t3, leader=null, voted=s1, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,465 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-7584806CF29F-LeaderElection35: Election PASSED; received 1 response(s) [s1<-s0#0:OK-t3] and 1 exception(s); s1@group-7584806CF29F:t3, leader=null, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,465 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,465 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:00:55,465 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7584806CF29F: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-09-26 10:00:55,466 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-7584806CF29F: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 317ms
2019-09-26 10:00:55,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:55,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:55,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:55,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:55,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:55,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:55,468 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:55,469 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:55,469 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:55,469 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:55,469 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:55,469 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:55,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:55,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:55,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:55,470 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:55,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:55,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:55,470 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-26 10:00:55,471 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-7584806CF29F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 10:00:55,471 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-7584806CF29F: set configuration 1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 1
2019-09-26 10:00:55,472 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,475 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_0-0
2019-09-26 10:00:55,475 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:55,475 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-7584806CF29F-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_0-0
2019-09-26 10:00:55,475 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-7584806CF29F: change Leader from null to s1 at term 3 for appendEntries, leader elected after 318ms
2019-09-26 10:00:55,477 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: receive appendEntries(s1, 3, (t:1, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 10:00:55,477 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-7584806CF29F: set configuration 1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 1
2019-09-26 10:00:55,478 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-7584806CF29F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 10:00:55,480 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_0-0
2019-09-26 10:00:55,480 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-7584806CF29F-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_0-0
2019-09-26 10:00:55,484 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s0@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:55,552 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,552 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:55,590 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s1@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:55,610 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-7584806CF29F-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s1/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_1
2019-09-26 10:00:55,610 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-7584806CF29F-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s0/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_1
2019-09-26 10:00:55,621 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 10:00:55,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: receive appendEntries(s1, 3, (t:3, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 10:00:55,630 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,630 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 3 -> 1
2019-09-26 10:00:55,634 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s0#3:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 10:00:55,638 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,638 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 3 -> 1
2019-09-26 10:00:55,679 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-7584806CF29F:t0, leader=null, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
2019-09-26 10:00:55,679 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(354)) - newLeaderId: s1
2019-09-26 10:00:55,679 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(356)) - start new peers: [s3:0.0.0.0:44235]
2019-09-26 10:00:55,679 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s3
2019-09-26 10:00:55,680 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-7584806CF29F:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], format? false
2019-09-26 10:00:55,680 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:55,680 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:55,681 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44235 (custom)
2019-09-26 10:00:55,681 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:55,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:55,681 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:55,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:55,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3] (custom)
2019-09-26 10:00:55,683 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s3: found a subdirectory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:55,684 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-7584806CF29F:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017] returns group-7584806CF29F:java.util.concurrent.CompletableFuture@39db1bbd[Not completed]
2019-09-26 10:00:55,684 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-7584806CF29F:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017] with BaseStateMachine:uninitialized
2019-09-26 10:00:55,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:55,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:55,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:55,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:55,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:55,686 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-7584806CF29F: ConfigurationManager, init=-1: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:55,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3] (custom)
2019-09-26 10:00:55,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:55,693 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-7584806CF29F: receive setConfiguration SetConfigurationRequest:client-C5957D88C011->s1@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:55,693 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s1@group-7584806CF29F-LeaderState: startSetConfiguration SetConfigurationRequest:client-C5957D88C011->s1@group-7584806CF29F, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:55,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:00:55,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:55,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:00:55,695 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:00:55,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:55,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:55,698 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,699 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s3: nextIndex: updateUnconditionally 3 -> 1
2019-09-26 10:00:55,700 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:55,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:55,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:55,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:55,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:55,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:55,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:55,702 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-7584806CF29F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f
2019-09-26 10:00:55,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:55,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:55,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:55,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:55,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:55,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:55,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:55,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:55,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:55,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:55,704 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-7584806CF29F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:55,705 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:55,705 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:55,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:55,707 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-7584806CF29F: start as a follower, conf=-1: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:55,707 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-7584806CF29F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:55,707 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:00:55,708 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s3
2019-09-26 10:00:55,709 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:00:55,710 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:44235
2019-09-26 10:00:55,714 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,714 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:55,788 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-7584806CF29F: change Leader from null to s1 at term 3 for appendEntries, leader elected after 86ms
2019-09-26 10:00:55,788 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-7584806CF29F: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:00:55,788 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-7584806CF29F: inconsistency entries. Reply:s1<-s3#1:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:00:55,789 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,789 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:55,790 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:55,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: receive appendEntries(s1, 3, null, 2, true, commits[s1:c2, s0:c2, s2:c0, s3:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:3, i:1), CONFIGURATIONENTRY, (t:3, i:2), METADATAENTRY(c1)]
2019-09-26 10:00:55,792 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-7584806CF29F: set configuration 0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 0
2019-09-26 10:00:55,792 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-7584806CF29F: set configuration 1: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 1
2019-09-26 10:00:55,792 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-7584806CF29F-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:55,793 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s3@group-7584806CF29F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 10:00:55,865 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,865 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:55,917 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-7584806CF29F-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0
2019-09-26 10:00:55,920 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_0-0
2019-09-26 10:00:55,920 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s3@group-7584806CF29F-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_0-0
2019-09-26 10:00:55,936 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-7584806CF29F: set configuration 3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] at 3
2019-09-26 10:00:55,937 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: receive appendEntries(s1, 3, (t:3, i:2), 2, false, commits[s1:c2, s0:c2, s2:c0, s3:c-1], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:55,937 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: receive appendEntries(s1, 3, (t:3, i:2), 2, false, commits[s1:c2, s0:c2, s2:c0, s3:c-1], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 10:00:55,937 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-7584806CF29F: set configuration 3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] at 3
2019-09-26 10:00:55,938 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-7584806CF29F: set configuration 3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] at 3
2019-09-26 10:00:55,938 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:55,939 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 4 -> 1
2019-09-26 10:00:56,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s0#7:OK,SUCCESS,nextIndex:4,term:3,followerCommit:2
2019-09-26 10:00:56,004 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-7584806CF29F-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpcb9b6606c/s3/9a3ce000-dffd-483e-bd01-7584806cf29f/current/log_inprogress_1
2019-09-26 10:00:56,014 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,015 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:56,015 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s3#2:OK,SUCCESS,nextIndex:3,term:3,followerCommit:2
2019-09-26 10:00:56,016 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s3#4:OK,SUCCESS,nextIndex:4,term:3,followerCommit:2
2019-09-26 10:00:56,018 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-7584806CF29F: set configuration 5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 5
2019-09-26 10:00:56,019 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits[s1:c3, s0:c2, s2:c0, s3:c2], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:56,019 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits[s1:c3, s0:c2, s2:c0, s3:c2], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:56,019 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#8-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3)
2019-09-26 10:00:56,020 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: receive appendEntries(s1, 3, (t:3, i:4), 3, false, commits[s1:c3, s2:c0, s3:c2], entries: (t:3, i:5), CONFIGURATIONENTRY
2019-09-26 10:00:56,020 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-7584806CF29F: set configuration 5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null at 5
2019-09-26 10:00:56,020 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,020 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-7584806CF29F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:00:56,021 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 5 -> 1
2019-09-26 10:00:56,021 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s0: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:00:56,028 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s0#8:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-26 10:00:56,028 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s3#6:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-26 10:00:56,029 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s3#7:OK,SUCCESS,nextIndex:6,term:3,followerCommit:3
2019-09-26 10:00:56,030 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: receive appendEntries(s1, 3, (t:3, i:5), 5, false, commits[s1:c5, s2:c0, s3:c3], entries: (t:3, i:6), METADATAENTRY(c5)
2019-09-26 10:00:56,031 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:56,035 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestKillLeaderDuringReconf$7(327)) - setConf attempt #0 failed, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7584806CF29F:t3, leader=s1, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:OPENED:c3,f5,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] RUNNING
  s1:  RUNNING    LEADER s1@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c5,f5,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
2019-09-26 10:00:56,031 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,035 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], deadPeers=[s2], printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7584806CF29F:t3, leader=s1, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:OPENED:c3,f5,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] RUNNING
  s1:  RUNNING    LEADER s1@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c5,f5,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
2019-09-26 10:00:56,035 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 6 -> 1
2019-09-26 10:00:56,035 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-7584806CF29F:t3, leader=s1, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:OPENED:c3,f5,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:56,036 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s0@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] RUNNING
2019-09-26 10:00:56,036 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:367)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:56,042 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-7584806CF29F: succeeded to handle AppendEntries. Reply: s1<-s3#8:OK,SUCCESS,nextIndex:7,term:3,followerCommit:5
2019-09-26 10:00:56,045 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,046 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 7 -> 1
2019-09-26 10:00:56,121 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,122 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:00:56,197 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,197 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,218 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-7584806CF29F-FollowerState: change to CANDIDATE, lastRpcTime:190ms, electionTimeout:188ms
2019-09-26 10:00:56,218 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:56,218 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7584806CF29F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-26 10:00:56,218 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:56,218 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-7584806CF29F: change Leader from s1 to null at term 3 for initElection
2019-09-26 10:00:56,232 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-7584806CF29F-LeaderElection36: begin an election at term 4 for 3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:56,233 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-7584806CF29F-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-7584806CF29F: receive requestVote(s0, group-7584806CF29F, 4, (t:3, i:4))
2019-09-26 10:00:56,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-7584806CF29F replies to vote request: s0<-s1#0:FAIL-t3. Peer's state: s1@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:56,237 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-7584806CF29F-LeaderElection36: Election SHUTDOWN; received 1 response(s) [s0<-s1#0:FAIL-t3] and 1 exception(s); s0@group-7584806CF29F:t4, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017]
2019-09-26 10:00:56,237 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,237 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s0@group-7584806CF29F-LeaderElection36 received shutdown response when requesting votes.
2019-09-26 10:00:56,238 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:00:56,238 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-7584806CF29F: shutdown
2019-09-26 10:00:56,238 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-7584806CF29F: receive requestVote(s0, group-7584806CF29F, 4, (t:3, i:4))
2019-09-26 10:00:56,238 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s0
2019-09-26 10:00:56,238 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-7584806CF29F replies to vote request: s0<-s3#0:FAIL-t3. Peer's state: s3@group-7584806CF29F:t3, leader=s1, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null
2019-09-26 10:00:56,238 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:56,239 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-7584806CF29F-StateMachineUpdater: set stopIndex = 3
2019-09-26 10:00:56,239 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-7584806CF29F: closes. applyIndex: 3
2019-09-26 10:00:56,239 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-7584806CF29F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:56,241 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-7584806CF29F-SegmentedRaftLogWorker close()
2019-09-26 10:00:56,242 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 33467 now
2019-09-26 10:00:56,243 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 33467 successfully
2019-09-26 10:00:56,273 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,273 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,349 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,350 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,424 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,425 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,500 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,501 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,576 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,576 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,652 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,652 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,732 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,732 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,804 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,804 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,879 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,879 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:56,955 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:56,956 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:57,030 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:57,031 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:57,106 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:57,106 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:57,181 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-7584806CF29F->s2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:00:57,182 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-7584806CF29F->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:00:57,238 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], deadPeers=[s2], printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7584806CF29F:t3, leader=s1, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-7584806CF29F:t4, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:CLOSED:c3, conf=3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] CLOSED
  s1:  RUNNING    LEADER s1@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
2019-09-26 10:00:57,238 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-7584806CF29F:t3, leader=s1, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:57,239 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s0@group-7584806CF29F:t4, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:CLOSED:c3, conf=3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] CLOSED
2019-09-26 10:00:57,239 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s1@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
2019-09-26 10:00:57,239 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
2019-09-26 10:00:57,240 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:00:57,240 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:00:57,240 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:00:57,240 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:00:57,240 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:00:57,241 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7584806CF29F:t3, leader=s1, voted=null, raftlog=s3@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-7584806CF29F:t4, leader=null, voted=s0, raftlog=s0@group-7584806CF29F-SegmentedRaftLog:CLOSED:c3, conf=3: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=[s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017] CLOSED
  s1:  RUNNING    LEADER s1@group-7584806CF29F:t3, leader=s1, voted=s1, raftlog=s1@group-7584806CF29F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s3:0.0.0.0:44235, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-7584806CF29F:t1, leader=s2, voted=s2, raftlog=s2@group-7584806CF29F-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:33467, s1:0.0.0.0:46802, s2:0.0.0.0:37017], old=null CLOSED
2019-09-26 10:00:57,242 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:00:57,242 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-7584806CF29F: shutdown
2019-09-26 10:00:57,243 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s3
2019-09-26 10:00:57,243 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:00:57,243 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-7584806CF29F-StateMachineUpdater: set stopIndex = 6
2019-09-26 10:00:57,243 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-7584806CF29F-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:00:57,244 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-7584806CF29F: closes. applyIndex: 6
2019-09-26 10:00:57,244 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:00:57,244 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-7584806CF29F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:57,244 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-7584806CF29F: shutdown
2019-09-26 10:00:57,245 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7584806CF29F,id=s1
2019-09-26 10:00:57,245 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-26 10:00:57,246 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-7584806CF29F-SegmentedRaftLogWorker close()
2019-09-26 10:00:57,249 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-7584806CF29F->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:57,249 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-7584806CF29F-PendingRequests: sendNotLeaderResponses
2019-09-26 10:00:57,249 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-7584806CF29F->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:00:57,252 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-7584806CF29F-StateMachineUpdater: set stopIndex = 6
2019-09-26 10:00:57,252 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-7584806CF29F: closes. applyIndex: 6
2019-09-26 10:00:57,250 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 44235 now
2019-09-26 10:00:57,252 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-7584806CF29F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:00:57,252 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s1->s3#23-t3, previous=(t:3, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 10:00:57,253 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 44235 successfully
2019-09-26 10:00:57,253 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-7584806CF29F->s3-GrpcLogAppender is stopped
2019-09-26 10:00:57,254 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-7584806CF29F-SegmentedRaftLogWorker close()
2019-09-26 10:00:57,255 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 46802 now
2019-09-26 10:00:57,255 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 46802 successfully
2019-09-26 10:00:57,255 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:00:57,257 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:00:57,257 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:00:57,257 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:testLeaderNotReadyException(564)) - Start testLeaderNotReadyException
2019-09-26 10:00:57,258 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-8C01F45C47AE:[s0:0.0.0.0:42306]
2019-09-26 10:00:57,258 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:00:57,258 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-8C01F45C47AE:[s0:0.0.0.0:42306], format? true
2019-09-26 10:00:57,259 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0
2019-09-26 10:00:57,259 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0 does not exist.
2019-09-26 10:00:57,259 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0
2019-09-26 10:00:57,259 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:00:57,260 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:00:57,260 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42306 (custom)
2019-09-26 10:00:57,260 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:00:57,260 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:57,261 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:00:57,261 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:00:57,261 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0] (custom)
2019-09-26 10:00:57,263 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-8C01F45C47AE:[s0:0.0.0.0:42306] returns group-8C01F45C47AE:java.util.concurrent.CompletableFuture@dac3be5[Not completed]
2019-09-26 10:00:57,263 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-8C01F45C47AE:[s0:0.0.0.0:42306] with BaseStateMachine:uninitialized
2019-09-26 10:00:57,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:00:57,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:57,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:00:57,264 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:00:57,264 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:00:57,264 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:00:57,264 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:00:57,264 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:00:57,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:00:57,265 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {s0=s0:      NEW group-8C01F45C47AE:java.util.concurrent.CompletableFuture@dac3be5[Not completed]}
2019-09-26 10:00:57,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:00:57,265 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-8C01F45C47AE: ConfigurationManager, init=-1: [s0:0.0.0.0:42306], old=null, confs=<EMPTY_MAP>
2019-09-26 10:00:57,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0] (custom)
2019-09-26 10:00:57,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:00:57,266 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae does not exist. Creating ...
2019-09-26 10:00:57,267 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae
2019-09-26 10:00:57,292 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:00:57,293 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae/current
2019-09-26 10:00:57,293 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae/sm
2019-09-26 10:00:57,307 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae has been successfully formatted.
2019-09-26 10:00:57,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:00:57,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:00:57,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:00:57,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:00:57,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:57,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:00:57,308 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-8C01F45C47AE-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae
2019-09-26 10:00:57,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:00:57,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:00:57,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:00:57,310 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-8C01F45C47AE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:00:57,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:00:57,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:00:57,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:00:57,313 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-8C01F45C47AE: start as a follower, conf=-1: [s0:0.0.0.0:42306], old=null
2019-09-26 10:00:57,314 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8C01F45C47AE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:00:57,314 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:00:57,314 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C01F45C47AE,id=s0
2019-09-26 10:00:57,316 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:00:57,317 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:42306
2019-09-26 10:00:57,319 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:00:57,320 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8C01F45C47AE:t0, leader=null, voted=null, raftlog=s0@group-8C01F45C47AE-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42306], old=null RUNNING
2019-09-26 10:00:57,320 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8C01F45C47AE:t0, leader=null, voted=null, raftlog=s0@group-8C01F45C47AE-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42306], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8C01F45C47AE:t0, leader=null, voted=null, raftlog=s0@group-8C01F45C47AE-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42306], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderNotReadyException(RaftReconfigurationBaseTest.java:599)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:00:57,324 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:57,325 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.NotLeaderException: Server s0@group-8C01F45C47AE is not the leader, logIndex=0, commits[s0:c-1]
2019-09-26 10:00:57,529 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:57,530 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.NotLeaderException: Server s0@group-8C01F45C47AE is not the leader, logIndex=0, commits[s0:c-1]
2019-09-26 10:00:57,571 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-8C01F45C47AE-FollowerState: change to CANDIDATE, lastRpcTime:256ms, electionTimeout:256ms
2019-09-26 10:00:57,571 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:00:57,571 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8C01F45C47AE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:00:57,571 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:00:57,585 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-8C01F45C47AE-LeaderElection37: begin an election at term 1 for -1: [s0:0.0.0.0:42306], old=null
2019-09-26 10:00:57,586 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:00:57,586 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8C01F45C47AE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:00:57,586 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-8C01F45C47AE: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 278ms
2019-09-26 10:00:57,586 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:00:57,586 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:00:57,586 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:00:57,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:00:57,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:00:57,587 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:00:57,589 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 10:00:57,589 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 2000 ms, args=[]
2019-09-26 10:00:57,733 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:57,734 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:57,771 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8C01F45C47AE:t1, leader=s0, voted=s0, raftlog=s0@group-8C01F45C47AE-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42306], old=null RUNNING
2019-09-26 10:00:57,938 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:57,938 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:58,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:58,143 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:58,345 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:58,346 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:58,554 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:58,554 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:58,758 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:58,759 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:58,963 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:58,964 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:59,168 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:59,169 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:59,372 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:59,373 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:59,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:59,577 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-8C01F45C47AE is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 10:00:59,590 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-8C01F45C47AE-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:00:59,591 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-8C01F45C47AE: set configuration 0: [s0:0.0.0.0:42306], old=null at 0
2019-09-26 10:00:59,669 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-8C01F45C47AE-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc77ad027/s0/239c27e7-2091-4a43-9cdb-8c01f45c47ae/current/log_inprogress_0
2019-09-26 10:00:59,780 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-8C01F45C47AE: receive client request(RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374)
2019-09-26 10:00:59,781 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-8C01F45C47AE-LeaderState: addPendingRequest at RaftClientRequest:client-0148A8D48D09->s0@group-8C01F45C47AE, cid=0, seq=0, RW, Message:74657374, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-0148A8D48D09, cid=0
2019-09-26 10:01:00,772 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:01:00,772 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:01:00,772 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:01:00,772 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:01:00,772 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:01:00,772 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8C01F45C47AE:t1, leader=s0, voted=s0, raftlog=s0@group-8C01F45C47AE-SegmentedRaftLog:OPENED:c2,f2,i2, conf=0: [s0:0.0.0.0:42306], old=null RUNNING
2019-09-26 10:01:00,773 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:01:00,774 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-8C01F45C47AE: shutdown
2019-09-26 10:01:00,775 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C01F45C47AE,id=s0
2019-09-26 10:01:00,775 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 10:01:00,775 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-8C01F45C47AE-PendingRequests: sendNotLeaderResponses
2019-09-26 10:01:00,778 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-8C01F45C47AE-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:01:00,778 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-8C01F45C47AE: closes. applyIndex: 2
2019-09-26 10:01:00,778 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-8C01F45C47AE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:00,780 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-8C01F45C47AE-SegmentedRaftLogWorker close()
2019-09-26 10:01:00,781 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 42306 now
2019-09-26 10:01:00,782 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 42306 successfully
2019-09-26 10:01:00,782 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:01:00,783 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:01:00,783 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:01:00,785 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:01:00,785 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148]
2019-09-26 10:01:00,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:01:00,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:01:00,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:01:00,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:01:00,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:01:00,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:01:00,786 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], format? true
2019-09-26 10:01:00,786 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0
2019-09-26 10:01:00,787 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0 does not exist.
2019-09-26 10:01:00,787 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0
2019-09-26 10:01:00,787 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:00,788 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:00,788 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40583 (custom)
2019-09-26 10:01:00,788 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:00,788 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:00,789 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:00,789 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:00,789 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0] (custom)
2019-09-26 10:01:00,790 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] returns group-70B5CBFDE80A:java.util.concurrent.CompletableFuture@34d34a00[Not completed]
2019-09-26 10:01:00,791 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] with BaseStateMachine:uninitialized
2019-09-26 10:01:00,791 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], format? true
2019-09-26 10:01:00,791 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:00,791 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1
2019-09-26 10:01:00,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:00,792 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1 does not exist.
2019-09-26 10:01:00,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:00,792 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1
2019-09-26 10:01:00,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:00,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:00,792 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:00,793 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-70B5CBFDE80A: ConfigurationManager, init=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:00,793 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:00,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0] (custom)
2019-09-26 10:01:00,793 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42895 (custom)
2019-09-26 10:01:00,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:00,793 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:00,794 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a does not exist. Creating ...
2019-09-26 10:01:00,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:00,794 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:00,794 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:00,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:00,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1] (custom)
2019-09-26 10:01:00,795 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] returns group-70B5CBFDE80A:java.util.concurrent.CompletableFuture@1dca715c[Not completed]
2019-09-26 10:01:00,795 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] with BaseStateMachine:uninitialized
2019-09-26 10:01:00,796 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], format? true
2019-09-26 10:01:00,798 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:00,798 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2
2019-09-26 10:01:00,798 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:00,798 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:00,798 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2 does not exist.
2019-09-26 10:01:00,798 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2
2019-09-26 10:01:00,798 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:00,799 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:00,799 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:00,799 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-70B5CBFDE80A: ConfigurationManager, init=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:00,799 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:00,799 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1] (custom)
2019-09-26 10:01:00,799 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 45148 (custom)
2019-09-26 10:01:00,799 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:00,800 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:00,800 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:00,800 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a does not exist. Creating ...
2019-09-26 10:01:00,800 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:00,800 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:00,801 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:00,801 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2] (custom)
2019-09-26 10:01:00,803 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] returns group-70B5CBFDE80A:java.util.concurrent.CompletableFuture@570a430b[Not completed]
2019-09-26 10:01:00,803 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] with BaseStateMachine:uninitialized
2019-09-26 10:01:00,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:00,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:00,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:00,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:00,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:00,805 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-70B5CBFDE80A: ConfigurationManager, init=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:00,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2] (custom)
2019-09-26 10:01:00,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:00,805 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a does not exist. Creating ...
2019-09-26 10:01:00,809 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:00,820 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:00,820 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:00,820 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current
2019-09-26 10:01:00,821 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a/sm
2019-09-26 10:01:00,821 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current
2019-09-26 10:01:00,822 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a/sm
2019-09-26 10:01:00,822 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:00,822 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current
2019-09-26 10:01:00,822 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a/sm
2019-09-26 10:01:00,824 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a has been successfully formatted.
2019-09-26 10:01:00,824 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a has been successfully formatted.
2019-09-26 10:01:00,824 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:00,824 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:00,824 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:00,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:00,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:00,826 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-70B5CBFDE80A-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:00,826 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-70B5CBFDE80A-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:00,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:00,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:00,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:00,826 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a has been successfully formatted.
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:00,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:00,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:00,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:00,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:00,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:00,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:00,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:00,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:00,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:00,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:00,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:00,829 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-70B5CBFDE80A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:00,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:00,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:00,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:00,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:00,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:00,830 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-70B5CBFDE80A-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:00,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:00,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:00,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:00,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:00,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:00,831 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-70B5CBFDE80A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:00,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:00,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:00,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:00,833 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-70B5CBFDE80A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:00,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:00,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:00,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:00,836 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-70B5CBFDE80A: start as a follower, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:00,836 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-70B5CBFDE80A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:00,836 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:00,837 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s0
2019-09-26 10:01:00,839 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:01:00,840 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:40583
2019-09-26 10:01:00,841 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-70B5CBFDE80A: start as a follower, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:00,841 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-70B5CBFDE80A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:00,841 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:01:00,842 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s1
2019-09-26 10:01:00,844 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:01:00,844 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:42895
2019-09-26 10:01:00,845 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-70B5CBFDE80A: start as a follower, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:00,845 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-70B5CBFDE80A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:00,845 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:01:00,846 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s2
2019-09-26 10:01:00,848 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:01:00,848 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:45148
2019-09-26 10:01:00,849 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:00,849 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
2019-09-26 10:01:00,849 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70B5CBFDE80A:t0, leader=null, voted=null, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:427)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:422)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:01:01,114 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-70B5CBFDE80A-FollowerState: change to CANDIDATE, lastRpcTime:272ms, electionTimeout:272ms
2019-09-26 10:01:01,114 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:01:01,114 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-70B5CBFDE80A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:01:01,114 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:01:01,129 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-70B5CBFDE80A-FollowerState: change to CANDIDATE, lastRpcTime:292ms, electionTimeout:292ms
2019-09-26 10:01:01,129 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:01,129 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-70B5CBFDE80A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:01:01,129 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:01:01,129 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-70B5CBFDE80A-LeaderElection38: begin an election at term 1 for -1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,132 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-70B5CBFDE80A-FollowerState: change to CANDIDATE, lastRpcTime:286ms, electionTimeout:286ms
2019-09-26 10:01:01,132 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:01:01,132 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-70B5CBFDE80A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:01:01,132 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:01:01,136 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-70B5CBFDE80A: receive requestVote(s1, group-70B5CBFDE80A, 1, (t:0, i:0))
2019-09-26 10:01:01,136 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-70B5CBFDE80A: receive requestVote(s1, group-70B5CBFDE80A, 1, (t:0, i:0))
2019-09-26 10:01:01,144 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-70B5CBFDE80A-LeaderElection40: begin an election at term 1 for -1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,144 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-70B5CBFDE80A replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-70B5CBFDE80A:t1, leader=null, voted=s0, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,144 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-70B5CBFDE80A replies to vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-70B5CBFDE80A:t1, leader=null, voted=s2, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,144 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-70B5CBFDE80A-LeaderElection39: begin an election at term 1 for -1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,145 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-70B5CBFDE80A-LeaderElection38: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-70B5CBFDE80A:t1, leader=null, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,145 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-70B5CBFDE80A: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:01:01,145 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:01:01,146 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-70B5CBFDE80A: receive requestVote(s2, group-70B5CBFDE80A, 1, (t:0, i:0))
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-70B5CBFDE80A: receive requestVote(s0, group-70B5CBFDE80A, 1, (t:0, i:0))
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-70B5CBFDE80A replies to vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-70B5CBFDE80A:t1, leader=null, voted=s0, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-70B5CBFDE80A replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-70B5CBFDE80A:t1, leader=null, voted=s2, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-70B5CBFDE80A: receive requestVote(s0, group-70B5CBFDE80A, 1, (t:0, i:0))
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-70B5CBFDE80A: receive requestVote(s2, group-70B5CBFDE80A, 1, (t:0, i:0))
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-70B5CBFDE80A replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-70B5CBFDE80A:t1, leader=null, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-70B5CBFDE80A replies to vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-70B5CBFDE80A:t1, leader=null, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,151 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-70B5CBFDE80A-LeaderElection39: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-70B5CBFDE80A:t1, leader=null, voted=s0, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,151 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-70B5CBFDE80A-LeaderElection40: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-70B5CBFDE80A:t1, leader=null, voted=s2, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,151 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-70B5CBFDE80A: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:01:01,151 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-70B5CBFDE80A: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 10:01:01,151 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:01:01,151 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:01:01,152 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:01,152 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:01:01,300 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70B5CBFDE80A:t1, leader=null, voted=s0, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70B5CBFDE80A:t1, leader=null, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70B5CBFDE80A:t1, leader=null, voted=s2, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70B5CBFDE80A:t1, leader=null, voted=s0, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70B5CBFDE80A:t1, leader=null, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70B5CBFDE80A:t1, leader=null, voted=s2, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:427)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:422)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:01:01,309 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-70B5CBFDE80A-FollowerState: change to CANDIDATE, lastRpcTime:163ms, electionTimeout:163ms
2019-09-26 10:01:01,309 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:01:01,310 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-70B5CBFDE80A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:01:01,310 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 10:01:01,324 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-70B5CBFDE80A-LeaderElection41: begin an election at term 2 for -1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,326 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-70B5CBFDE80A: receive requestVote(s1, group-70B5CBFDE80A, 2, (t:0, i:0))
2019-09-26 10:01:01,326 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-70B5CBFDE80A: receive requestVote(s1, group-70B5CBFDE80A, 2, (t:0, i:0))
2019-09-26 10:01:01,326 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-70B5CBFDE80A: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 10:01:01,326 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-70B5CBFDE80A: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 10:01:01,326 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:01:01,327 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:01,327 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-70B5CBFDE80A-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:01,327 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:01:01,327 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-70B5CBFDE80A-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:01,327 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:01,340 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-70B5CBFDE80A replies to vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-70B5CBFDE80A:t2, leader=null, voted=s1, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,340 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-70B5CBFDE80A replies to vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-70B5CBFDE80A:t2, leader=null, voted=s1, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,341 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-70B5CBFDE80A-LeaderElection41: Election PASSED; received 1 response(s) [s1<-s0#0:OK-t2] and 0 exception(s); s1@group-70B5CBFDE80A:t2, leader=null, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,341 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 10:01:01,342 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-70B5CBFDE80A: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 10:01:01,342 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-70B5CBFDE80A: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 517ms
2019-09-26 10:01:01,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:01:01,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:01:01,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:01:01,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:01:01,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:01:01,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:01:01,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:01,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:01,346 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:01,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:01,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:01,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:01,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:01,347 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:01,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:01,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:01,348 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-26 10:01:01,348 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-70B5CBFDE80A-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:01,348 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-70B5CBFDE80A: set configuration 0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 0
2019-09-26 10:01:01,350 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-70B5CBFDE80A: change Leader from null to s1 at term 2 for appendEntries, leader elected after 523ms
2019-09-26 10:01:01,351 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-70B5CBFDE80A: change Leader from null to s1 at term 2 for appendEntries, leader elected after 526ms
2019-09-26 10:01:01,352 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: receive appendEntries(s1, 2, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:01,353 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: receive appendEntries(s1, 2, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:01,353 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-70B5CBFDE80A: set configuration 0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 0
2019-09-26 10:01:01,353 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-70B5CBFDE80A: set configuration 0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 0
2019-09-26 10:01:01,353 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-70B5CBFDE80A-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:01,353 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-70B5CBFDE80A-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:01,524 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-70B5CBFDE80A-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s2/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current/log_inprogress_0
2019-09-26 10:01:01,524 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-70B5CBFDE80A-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s1/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current/log_inprogress_0
2019-09-26 10:01:01,524 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-70B5CBFDE80A-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s0/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current/log_inprogress_0
2019-09-26 10:01:01,525 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:01:01,527 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:-1
2019-09-26 10:01:01,753 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70B5CBFDE80A:t2, leader=s1, voted=s1, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-70B5CBFDE80A:t2, leader=s1, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70B5CBFDE80A:t2, leader=s1, voted=s1, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
2019-09-26 10:01:01,754 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 10:01:01,754 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], format? true
2019-09-26 10:01:01,754 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3
2019-09-26 10:01:01,754 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3 does not exist.
2019-09-26 10:01:01,755 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3
2019-09-26 10:01:01,755 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:01,755 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:01,756 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37223 (custom)
2019-09-26 10:01:01,756 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:01,756 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,757 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:01,757 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:01,758 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3] (custom)
2019-09-26 10:01:01,758 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] returns group-70B5CBFDE80A:java.util.concurrent.CompletableFuture@59cba55b[Not completed]
2019-09-26 10:01:01,758 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] with BaseStateMachine:uninitialized
2019-09-26 10:01:01,759 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], format? true
2019-09-26 10:01:01,759 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:01,759 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4
2019-09-26 10:01:01,759 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:01,760 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:01,760 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4 does not exist.
2019-09-26 10:01:01,760 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4
2019-09-26 10:01:01,760 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:01,760 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:01,760 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:01,760 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-70B5CBFDE80A: ConfigurationManager, init=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:01,761 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:01,761 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3] (custom)
2019-09-26 10:01:01,761 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44345 (custom)
2019-09-26 10:01:01,761 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:01,761 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:01,762 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,762 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:01,762 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a does not exist. Creating ...
2019-09-26 10:01:01,762 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:01,763 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:01,763 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4] (custom)
2019-09-26 10:01:01,764 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] returns group-70B5CBFDE80A:java.util.concurrent.CompletableFuture@288db292[Not completed]
2019-09-26 10:01:01,764 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-70B5CBFDE80A:[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] with BaseStateMachine:uninitialized
2019-09-26 10:01:01,764 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:01,764 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:01,764 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:01,765 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:01,765 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:01,765 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-70B5CBFDE80A: ConfigurationManager, init=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:01,765 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4] (custom)
2019-09-26 10:01:01,765 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:01,766 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a does not exist. Creating ...
2019-09-26 10:01:01,766 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:01,777 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:01,777 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:01,777 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current
2019-09-26 10:01:01,777 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current
2019-09-26 10:01:01,777 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a/sm
2019-09-26 10:01:01,777 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a/sm
2019-09-26 10:01:01,791 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a has been successfully formatted.
2019-09-26 10:01:01,791 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a has been successfully formatted.
2019-09-26 10:01:01,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:01,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:01,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:01,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:01,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:01,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:01,792 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:01,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:01,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:01,793 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:01,793 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-70B5CBFDE80A-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:01,793 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-70B5CBFDE80A-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a
2019-09-26 10:01:01,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:01,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:01,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:01,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:01,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:01,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:01,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:01,795 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:01,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:01,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:01,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:01,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:01,796 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:01,796 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-70B5CBFDE80A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:01,797 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-70B5CBFDE80A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:01,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:01,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:01,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:01,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:01,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:01,797 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:01,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-70B5CBFDE80A: start with initializing state, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-70B5CBFDE80A: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:01:01,805 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s3
2019-09-26 10:01:01,808 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:01:01,809 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:37223
2019-09-26 10:01:01,809 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-70B5CBFDE80A: start with initializing state, conf=-1: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null
2019-09-26 10:01:01,809 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-70B5CBFDE80A: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:01:01,811 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s4
2019-09-26 10:01:01,814 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:01:01,818 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:44345
2019-09-26 10:01:01,821 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestOverlappedSetConfRequests$10(457)) - client1 starts to change conf
2019-09-26 10:01:01,826 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-70B5CBFDE80A: receive setConfiguration SetConfigurationRequest:client-5F105C569E55->s1@group-70B5CBFDE80A, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148]
2019-09-26 10:01:01,826 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s1@group-70B5CBFDE80A-LeaderState: startSetConfiguration SetConfigurationRequest:client-5F105C569E55->s1@group-70B5CBFDE80A, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148]
2019-09-26 10:01:01,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:01,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:01,827 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:01,827 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:01,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:01,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:01,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:01,828 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:01,829 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:01,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:01,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:01,846 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-70B5CBFDE80A: change Leader from null to s1 at term 2 for appendEntries, leader elected after 54ms
2019-09-26 10:01:01,846 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-70B5CBFDE80A: change Leader from null to s1 at term 2 for appendEntries, leader elected after 54ms
2019-09-26 10:01:01,847 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-70B5CBFDE80A: Failed appendEntries as previous log entry ((t:2, i:0)) is not found
2019-09-26 10:01:01,847 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-70B5CBFDE80A: Failed appendEntries as previous log entry ((t:2, i:0)) is not found
2019-09-26 10:01:01,847 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-70B5CBFDE80A: inconsistency entries. Reply:s1<-s3#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:01:01,847 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-70B5CBFDE80A: inconsistency entries. Reply:s1<-s4#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:01:01,848 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-70B5CBFDE80A->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:01,848 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-70B5CBFDE80A->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:01,849 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: receive appendEntries(s1, 2, null, 0, true, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:01,849 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-70B5CBFDE80A: set configuration 0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 0
2019-09-26 10:01:01,849 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: receive appendEntries(s1, 2, null, 0, true, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:2, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:01,849 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-70B5CBFDE80A-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:01,849 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-70B5CBFDE80A: set configuration 0: [s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 0
2019-09-26 10:01:01,850 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 10:01:01,850 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-70B5CBFDE80A-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:01,850 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 10:01:01,921 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestOverlappedSetConfRequests$9(443)) - client2 starts to change conf
2019-09-26 10:01:01,925 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-70B5CBFDE80A: receive setConfiguration SetConfigurationRequest:client-BAF33545980F->s1@group-70B5CBFDE80A, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148]
2019-09-26 10:01:01,977 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-70B5CBFDE80A-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s4/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current/log_inprogress_0
2019-09-26 10:01:01,977 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-70B5CBFDE80A-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc509032b3/s3/8128dc20-94a3-4da4-96f0-70b5cbfde80a/current/log_inprogress_0
2019-09-26 10:01:02,130 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-70B5CBFDE80A: set configuration 1: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] at 1
2019-09-26 10:01:02,131 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:02,131 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:02,132 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-70B5CBFDE80A: set configuration 1: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] at 1
2019-09-26 10:01:02,132 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-70B5CBFDE80A: set configuration 1: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] at 1
2019-09-26 10:01:02,132 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 10:01:02,132 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 10:01:02,853 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s3#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:0
2019-09-26 10:01:02,853 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s4#1:OK,SUCCESS,nextIndex:1,term:2,followerCommit:0
2019-09-26 10:01:02,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:02,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:02,855 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:01:02,855 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:01:02,855 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-70B5CBFDE80A: set configuration 1: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] at 1
2019-09-26 10:01:02,856 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-70B5CBFDE80A: set configuration 1: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=[s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148] at 1
2019-09-26 10:01:02,856 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 10:01:02,856 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 10:01:03,133 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s0#11:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:01:03,133 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s2#11:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:01:03,136 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-70B5CBFDE80A: set configuration 3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 3
2019-09-26 10:01:03,138 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:01:03,139 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 10:01:03,139 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:01:03,139 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 10:01:03,857 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s4#5:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:01:03,857 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s3#5:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 10:01:03,862 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:01:03,862 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 10:01:03,862 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 10:01:03,862 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 10:01:04,139 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s0#25:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:01:04,140 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:04,140 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-70B5CBFDE80A: set configuration 3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 3
2019-09-26 10:01:04,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:04,141 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 10:01:04,140 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s2#25:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:01:04,141 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-70B5CBFDE80A: set configuration 3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 3
2019-09-26 10:01:04,142 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 10:01:04,863 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s4#18:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:01:04,863 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:04,863 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s3#18:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 10:01:04,864 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-70B5CBFDE80A: set configuration 3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 3
2019-09-26 10:01:04,863 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:2, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:04,864 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 10:01:04,865 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-70B5CBFDE80A: set configuration 3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null at 3
2019-09-26 10:01:04,865 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 10:01:04,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-70B5CBFDE80A: receive setConfiguration SetConfigurationRequest:client-5F105C569E55->s1@group-70B5CBFDE80A, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148]
2019-09-26 10:01:05,041 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s4@group-70B5CBFDE80A: receive setConfiguration SetConfigurationRequest:client-5F105C569E55->s4@group-70B5CBFDE80A, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148]
2019-09-26 10:01:05,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s0#26:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:01:05,143 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s2#26:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:01:05,148 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-70B5CBFDE80A: receive setConfiguration SetConfigurationRequest:client-5F105C569E55->s1@group-70B5CBFDE80A, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148]
2019-09-26 10:01:05,153 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:05,154 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:05,154 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 10:01:05,154 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 10:01:05,865 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s4#19:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:01:05,866 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: succeeded to handle AppendEntries. Reply: s1<-s3#19:OK,SUCCESS,nextIndex:4,term:2,followerCommit:1
2019-09-26 10:01:05,877 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:05,877 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-70B5CBFDE80A: receive appendEntries(s1, 2, (t:2, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:05,878 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 10:01:05,878 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 10:01:05,921 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:01:05,921 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:01:05,921 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:01:05,922 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:01:05,922 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:01:05,922 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-70B5CBFDE80A:t2, leader=s1, voted=null, raftlog=s3@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-70B5CBFDE80A:t2, leader=s1, voted=null, raftlog=s4@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-70B5CBFDE80A:t2, leader=s1, voted=s1, raftlog=s0@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-70B5CBFDE80A:t2, leader=s1, voted=s1, raftlog=s1@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70B5CBFDE80A:t2, leader=s1, voted=s1, raftlog=s2@group-70B5CBFDE80A-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37223, s4:0.0.0.0:44345, s0:0.0.0.0:40583, s1:0.0.0.0:42895, s2:0.0.0.0:45148], old=null RUNNING
2019-09-26 10:01:05,923 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:01:05,924 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-70B5CBFDE80A: shutdown
2019-09-26 10:01:05,925 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:01:05,925 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s3
2019-09-26 10:01:05,925 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:01:05,924 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:01:05,924 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:01:05,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-70B5CBFDE80A: shutdown
2019-09-26 10:01:05,927 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-70B5CBFDE80A: shutdown
2019-09-26 10:01:05,926 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:01:05,929 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-70B5CBFDE80A-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:01:05,926 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-70B5CBFDE80A: shutdown
2019-09-26 10:01:05,930 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-70B5CBFDE80A: closes. applyIndex: 2
2019-09-26 10:01:05,930 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-70B5CBFDE80A-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:05,929 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s2
2019-09-26 10:01:05,929 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s0
2019-09-26 10:01:05,929 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-70B5CBFDE80A: shutdown
2019-09-26 10:01:05,931 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:05,931 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:01:05,930 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-70B5CBFDE80A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:05,930 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s1
2019-09-26 10:01:05,932 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-26 10:01:05,932 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-70B5CBFDE80A-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:05,932 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-70B5CBFDE80A-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:01:05,933 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-70B5CBFDE80A: closes. applyIndex: 2
2019-09-26 10:01:05,932 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-70B5CBFDE80A-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:05,931 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-70B5CBFDE80A-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:01:05,931 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70B5CBFDE80A,id=s4
2019-09-26 10:01:05,934 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-70B5CBFDE80A-SegmentedRaftLogWorker close()
2019-09-26 10:01:05,934 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-70B5CBFDE80A: closes. applyIndex: 2
2019-09-26 10:01:05,933 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-70B5CBFDE80A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:05,933 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:05,933 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:05,933 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:05,933 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-70B5CBFDE80A-PendingRequests: sendNotLeaderResponses
2019-09-26 10:01:05,933 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:05,937 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-70B5CBFDE80A-SegmentedRaftLogWorker close()
2019-09-26 10:01:05,935 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-70B5CBFDE80A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:05,939 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 45148 now
2019-09-26 10:01:05,935 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 37223 now
2019-09-26 10:01:05,934 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:01:05,938 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-70B5CBFDE80A-StateMachineUpdater: set stopIndex = 3
2019-09-26 10:01:05,941 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-70B5CBFDE80A-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:05,941 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-70B5CBFDE80A-StateMachineUpdater: set stopIndex = 2
2019-09-26 10:01:05,941 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-70B5CBFDE80A-SegmentedRaftLogWorker close()
2019-09-26 10:01:05,942 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender is stopped
2019-09-26 10:01:05,943 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 45148 successfully
2019-09-26 10:01:05,942 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 37223 successfully
2019-09-26 10:01:05,941 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-70B5CBFDE80A: closes. applyIndex: 2
2019-09-26 10:01:05,941 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender is stopped
2019-09-26 10:01:05,941 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-70B5CBFDE80A: closes. applyIndex: 3
2019-09-26 10:01:05,943 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-70B5CBFDE80A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:05,942 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 40583 now
2019-09-26 10:01:05,944 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-70B5CBFDE80A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:05,945 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 40583 successfully
2019-09-26 10:01:05,945 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender is stopped
2019-09-26 10:01:05,946 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-70B5CBFDE80A-SegmentedRaftLogWorker close()
2019-09-26 10:01:05,946 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-70B5CBFDE80A-SegmentedRaftLogWorker close()
2019-09-26 10:01:05,947 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 44345 now
2019-09-26 10:01:05,947 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 42895 now
2019-09-26 10:01:05,948 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 44345 successfully
2019-09-26 10:01:05,949 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender is stopped
2019-09-26 10:01:05,949 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 42895 successfully
2019-09-26 10:01:05,949 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:01:05,950 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:01:05,950 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:01:05,953 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:01:05,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], format? true
2019-09-26 10:01:05,955 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0
2019-09-26 10:01:05,955 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0 does not exist.
2019-09-26 10:01:05,955 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0
2019-09-26 10:01:05,956 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:05,956 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:05,956 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33618 (custom)
2019-09-26 10:01:05,956 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:05,956 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:05,957 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:05,957 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:05,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0] (custom)
2019-09-26 10:01:05,959 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] returns group-16605CC00CE8:java.util.concurrent.CompletableFuture@5039129e[Not completed]
2019-09-26 10:01:05,959 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] with BaseStateMachine:uninitialized
2019-09-26 10:01:05,959 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], format? true
2019-09-26 10:01:05,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:05,959 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1
2019-09-26 10:01:05,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:05,960 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1 does not exist.
2019-09-26 10:01:05,960 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1
2019-09-26 10:01:05,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:05,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:05,960 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:05,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:05,961 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:05,961 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-16605CC00CE8: ConfigurationManager, init=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:05,961 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35705 (custom)
2019-09-26 10:01:05,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0] (custom)
2019-09-26 10:01:05,961 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:05,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:05,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:05,962 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8 does not exist. Creating ...
2019-09-26 10:01:05,962 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:05,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:05,962 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:05,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1] (custom)
2019-09-26 10:01:05,963 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] returns group-16605CC00CE8:java.util.concurrent.CompletableFuture@67f6f099[Not completed]
2019-09-26 10:01:05,963 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] with BaseStateMachine:uninitialized
2019-09-26 10:01:05,963 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], format? true
2019-09-26 10:01:05,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:05,963 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2
2019-09-26 10:01:05,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:05,964 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2 does not exist.
2019-09-26 10:01:05,964 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2
2019-09-26 10:01:05,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:05,964 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:05,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:05,964 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:05,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:05,965 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38884 (custom)
2019-09-26 10:01:05,965 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-16605CC00CE8: ConfigurationManager, init=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:05,965 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:05,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1] (custom)
2019-09-26 10:01:05,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:05,966 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:05,966 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:05,966 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8 does not exist. Creating ...
2019-09-26 10:01:05,966 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:05,966 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2] (custom)
2019-09-26 10:01:05,967 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:05,967 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] returns group-16605CC00CE8:java.util.concurrent.CompletableFuture@339a270c[Not completed]
2019-09-26 10:01:05,967 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] with BaseStateMachine:uninitialized
2019-09-26 10:01:05,967 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:05,967 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:05,967 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:05,968 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:05,968 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:05,968 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-16605CC00CE8: ConfigurationManager, init=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:05,968 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2] (custom)
2019-09-26 10:01:05,968 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:05,968 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8 does not exist. Creating ...
2019-09-26 10:01:05,969 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:05,978 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:05,978 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:05,979 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8/current
2019-09-26 10:01:05,978 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:05,979 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8/sm
2019-09-26 10:01:05,979 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8/current
2019-09-26 10:01:05,979 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/current
2019-09-26 10:01:05,980 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8/sm
2019-09-26 10:01:05,980 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/sm
2019-09-26 10:01:05,993 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8 has been successfully formatted.
2019-09-26 10:01:05,993 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8 has been successfully formatted.
2019-09-26 10:01:05,993 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8 has been successfully formatted.
2019-09-26 10:01:05,993 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:05,993 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:05,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:05,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:05,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:05,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:05,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:05,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:05,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:05,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:05,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:05,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:05,995 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-16605CC00CE8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:05,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:05,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:05,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:05,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:05,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:05,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:05,997 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-16605CC00CE8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:05,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:05,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:05,997 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-16605CC00CE8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:05,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:05,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:05,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:05,998 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:05,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:05,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:05,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:05,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:05,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:05,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:05,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:06,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:06,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:06,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:06,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:06,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:06,000 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-16605CC00CE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:06,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:06,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:06,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:06,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:06,001 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-16605CC00CE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:06,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:06,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:06,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:06,002 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:06,004 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-16605CC00CE8: start as a follower, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,004 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-16605CC00CE8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:06,005 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:06,005 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s0
2019-09-26 10:01:06,008 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:01:06,009 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:33618
2019-09-26 10:01:06,009 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-16605CC00CE8: start as a follower, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,010 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-16605CC00CE8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:06,010 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:01:06,010 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s1
2019-09-26 10:01:06,014 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:01:06,015 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:35705
2019-09-26 10:01:06,015 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-16605CC00CE8: start as a follower, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,015 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-16605CC00CE8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:06,015 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:01:06,016 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s2
2019-09-26 10:01:06,019 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:01:06,019 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:38884
2019-09-26 10:01:06,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:06,020 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
2019-09-26 10:01:06,021 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-16605CC00CE8:t0, leader=null, voted=null, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestReconfTwice(RaftReconfigurationBaseTest.java:144)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testReconfTwice(RaftReconfigurationBaseTest.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:01:06,155 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s0: installSnapshot onError, lastRequest: s1->s0#53-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 10:01:06,155 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s2: installSnapshot onError, lastRequest: s1->s2#53-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
Sep 26, 2019 10:01:06 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@1c8327a3
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Sep 26, 2019 10:01:06 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@a655c2b
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 10:01:06,180 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-16605CC00CE8-FollowerState: change to CANDIDATE, lastRpcTime:164ms, electionTimeout:164ms
2019-09-26 10:01:06,180 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:01:06,180 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-16605CC00CE8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:01:06,181 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 10:01:06,194 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-16605CC00CE8-LeaderElection42: begin an election at term 1 for -1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,199 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-16605CC00CE8: receive requestVote(s2, group-16605CC00CE8, 1, (t:0, i:0))
2019-09-26 10:01:06,200 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-16605CC00CE8: receive requestVote(s2, group-16605CC00CE8, 1, (t:0, i:0))
2019-09-26 10:01:06,200 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-16605CC00CE8: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s2
2019-09-26 10:01:06,200 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-16605CC00CE8: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s2
2019-09-26 10:01:06,200 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:06,200 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:01:06,200 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-16605CC00CE8-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:06,201 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-16605CC00CE8-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:06,200 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:06,200 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:01:06,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-16605CC00CE8 replies to vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-16605CC00CE8:t1, leader=null, voted=s2, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-16605CC00CE8 replies to vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-16605CC00CE8:t1, leader=null, voted=s2, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,216 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-16605CC00CE8-LeaderElection42: Election PASSED; received 1 response(s) [s2<-s0#0:OK-t1] and 0 exception(s); s2@group-16605CC00CE8:t1, leader=null, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,216 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 10:01:06,216 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-16605CC00CE8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:01:06,216 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-16605CC00CE8: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 222ms
2019-09-26 10:01:06,216 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:01:06,217 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:01:06,217 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:01:06,217 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:01:06,217 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:01:06,217 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:01:06,221 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:06,221 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,222 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:06,222 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:06,222 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:06,222 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:06,223 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:06,223 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,223 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:06,223 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:06,223 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:06,224 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:06,224 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-26 10:01:06,224 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-16605CC00CE8-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:06,225 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-16605CC00CE8: set configuration 0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 0
2019-09-26 10:01:06,227 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-16605CC00CE8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 233ms
2019-09-26 10:01:06,228 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-16605CC00CE8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 234ms
2019-09-26 10:01:06,229 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:06,230 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:06,230 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-16605CC00CE8: set configuration 0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 0
2019-09-26 10:01:06,230 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-16605CC00CE8: set configuration 0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 0
2019-09-26 10:01:06,230 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-16605CC00CE8-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:06,230 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:06,391 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0
2019-09-26 10:01:06,391 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s2/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0
2019-09-26 10:01:06,391 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s0/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0
2019-09-26 10:01:06,403 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:01:06,403 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:01:06,472 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
2019-09-26 10:01:06,477 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=29, seq=0, RW, Message:6d30)
2019-09-26 10:01:06,478 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=29, seq=0, RW, Message:6d30, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=29
2019-09-26 10:01:06,479 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c-1, s1:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=29
2019-09-26 10:01:06,479 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c-1, s1:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=29
2019-09-26 10:01:06,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:01:06,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:01:06,491 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:01:06,491 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:01:06,495 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=30, seq=0, RW, Message:6d31)
2019-09-26 10:01:06,496 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=30, seq=0, RW, Message:6d31, entry=(t:1, i:3), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=30
2019-09-26 10:01:06,497 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=30
2019-09-26 10:01:06,497 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=30
2019-09-26 10:01:06,503 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:01:06,503 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:01:06,504 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:01:06,504 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:01:06,505 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits[s2:c3, s0:c1, s1:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:06,506 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits[s2:c3, s0:c1, s1:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:06,508 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=31, seq=0, RW, Message:6d32)
2019-09-26 10:01:06,509 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=31, seq=0, RW, Message:6d32, entry=(t:1, i:5), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=31
2019-09-26 10:01:06,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits[s2:c3, s0:c1, s1:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=31
2019-09-26 10:01:06,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits[s2:c3, s0:c1, s1:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=31
2019-09-26 10:01:06,516 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#7:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:01:06,517 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#7:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:01:06,520 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#8:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 10:01:06,520 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#8:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 10:01:06,522 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits[s2:c5, s0:c3, s1:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 10:01:06,523 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits[s2:c5, s0:c3, s1:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 10:01:06,525 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=32, seq=0, RW, Message:6d33)
2019-09-26 10:01:06,525 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=32, seq=0, RW, Message:6d33, entry=(t:1, i:7), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=32
2019-09-26 10:01:06,526 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:6), 5, false, commits[s2:c5, s0:c3, s1:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=32
2019-09-26 10:01:06,526 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:6), 5, false, commits[s2:c5, s0:c3, s1:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=32
2019-09-26 10:01:06,533 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#9:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 10:01:06,533 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#9:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 10:01:06,535 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#10:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 10:01:06,535 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#10:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 10:01:06,536 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:7), 7, false, commits[s2:c7, s0:c5, s1:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 10:01:06,537 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:7), 7, false, commits[s2:c7, s0:c5, s1:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 10:01:06,538 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=33, seq=0, RW, Message:6d34)
2019-09-26 10:01:06,538 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=33, seq=0, RW, Message:6d34, entry=(t:1, i:9), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=33
2019-09-26 10:01:06,539 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:8), 7, false, commits[s2:c7, s0:c5, s1:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=33
2019-09-26 10:01:06,539 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:8), 7, false, commits[s2:c7, s0:c5, s1:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=33
2019-09-26 10:01:06,547 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#11:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 10:01:06,547 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#11:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 10:01:06,548 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#12:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 10:01:06,548 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#12:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 10:01:06,550 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:9), 9, false, commits[s2:c9, s0:c7, s1:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 10:01:06,550 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:9), 9, false, commits[s2:c9, s0:c7, s1:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 10:01:06,552 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=34, seq=0, RW, Message:6d35)
2019-09-26 10:01:06,552 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=34, seq=0, RW, Message:6d35, entry=(t:1, i:11), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=34
2019-09-26 10:01:06,553 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:10), 9, false, commits[s2:c9, s0:c7, s1:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=34
2019-09-26 10:01:06,553 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:10), 9, false, commits[s2:c9, s0:c7, s1:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=34
2019-09-26 10:01:06,561 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#13:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 10:01:06,561 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#13:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 10:01:06,563 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#14:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 10:01:06,563 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#14:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 10:01:06,567 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:11), 11, false, commits[s2:c11, s0:c9, s1:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 10:01:06,567 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:11), 11, false, commits[s2:c11, s0:c9, s1:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 10:01:06,569 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=35, seq=0, RW, Message:6d36)
2019-09-26 10:01:06,569 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=35, seq=0, RW, Message:6d36, entry=(t:1, i:13), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=35
2019-09-26 10:01:06,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:12), 11, false, commits[s2:c11, s0:c9, s1:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=35
2019-09-26 10:01:06,570 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:12), 11, false, commits[s2:c11, s0:c9, s1:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=35
2019-09-26 10:01:06,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#15:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 10:01:06,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#15:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 10:01:06,577 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#16:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 10:01:06,577 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#16:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 10:01:06,579 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:13), 13, false, commits[s2:c13, s0:c11, s1:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 10:01:06,579 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:13), 13, false, commits[s2:c13, s0:c11, s1:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 10:01:06,580 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=36, seq=0, RW, Message:6d37)
2019-09-26 10:01:06,580 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=36, seq=0, RW, Message:6d37, entry=(t:1, i:15), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=36
2019-09-26 10:01:06,581 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:14), 13, false, commits[s2:c13, s0:c11, s1:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=36
2019-09-26 10:01:06,581 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:14), 13, false, commits[s2:c13, s0:c11, s1:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=36
2019-09-26 10:01:06,598 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#17:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 10:01:06,598 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#17:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 10:01:06,600 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#18:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 10:01:06,601 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#18:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 10:01:06,602 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:15), 15, false, commits[s2:c15, s0:c13, s1:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 10:01:06,602 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:15), 15, false, commits[s2:c15, s0:c13, s1:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 10:01:06,603 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=37, seq=0, RW, Message:6d38)
2019-09-26 10:01:06,604 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=37, seq=0, RW, Message:6d38, entry=(t:1, i:17), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=37
2019-09-26 10:01:06,604 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:16), 15, false, commits[s2:c15, s0:c13, s1:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=37
2019-09-26 10:01:06,604 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:16), 15, false, commits[s2:c15, s0:c13, s1:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=37
2019-09-26 10:01:06,614 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#19:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 10:01:06,614 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#19:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 10:01:06,627 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#20:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 10:01:06,627 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#20:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 10:01:06,628 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:17), 17, false, commits[s2:c17, s0:c15, s1:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 10:01:06,628 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:17), 17, false, commits[s2:c17, s0:c15, s1:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 10:01:06,630 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=38, seq=0, RW, Message:6d39)
2019-09-26 10:01:06,630 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=38, seq=0, RW, Message:6d39, entry=(t:1, i:19), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=38
2019-09-26 10:01:06,631 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:18), 17, false, commits[s2:c17, s0:c15, s1:c15], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=38
2019-09-26 10:01:06,631 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:18), 17, false, commits[s2:c17, s0:c15, s1:c15], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=38
2019-09-26 10:01:06,639 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#21:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 10:01:06,639 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#21:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 10:01:06,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#22:OK,SUCCESS,nextIndex:20,term:1,followerCommit:17
2019-09-26 10:01:06,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#22:OK,SUCCESS,nextIndex:20,term:1,followerCommit:17
2019-09-26 10:01:06,643 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:19), 19, false, commits[s2:c19, s0:c17, s1:c17], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 10:01:06,643 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:19), 19, false, commits[s2:c19, s0:c17, s1:c17], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 10:01:06,644 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=39, seq=0, RW, Message:6d3130)
2019-09-26 10:01:06,645 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=39, seq=0, RW, Message:6d3130, entry=(t:1, i:21), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=39
2019-09-26 10:01:06,645 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:20), 19, false, commits[s2:c19, s0:c17, s1:c17], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=39
2019-09-26 10:01:06,645 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:20), 19, false, commits[s2:c19, s0:c17, s1:c17], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=39
2019-09-26 10:01:06,655 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#23:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 10:01:06,656 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#23:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 10:01:06,658 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#24:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 10:01:06,658 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#24:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 10:01:06,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:21), 21, false, commits[s2:c21, s0:c19, s1:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 10:01:06,660 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:21), 21, false, commits[s2:c21, s0:c19, s1:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 10:01:06,662 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#25:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 10:01:06,663 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#25:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 10:01:06,664 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=40, seq=0, RW, Message:6d3131)
2019-09-26 10:01:06,664 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=40, seq=0, RW, Message:6d3131, entry=(t:1, i:23), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=40
2019-09-26 10:01:06,665 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:22), 22, false, commits[s2:c22, s0:c21, s1:c21], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=40
2019-09-26 10:01:06,665 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:22), 22, false, commits[s2:c22, s0:c21, s1:c21], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=40
2019-09-26 10:01:06,666 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#26:OK,SUCCESS,nextIndex:24,term:1,followerCommit:22
2019-09-26 10:01:06,667 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#26:OK,SUCCESS,nextIndex:24,term:1,followerCommit:22
2019-09-26 10:01:06,668 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:23), 23, false, commits[s2:c23, s0:c22, s1:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 10:01:06,668 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:23), 23, false, commits[s2:c23, s0:c22, s1:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 10:01:06,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=41, seq=0, RW, Message:6d3132)
2019-09-26 10:01:06,670 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=41, seq=0, RW, Message:6d3132, entry=(t:1, i:25), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=41
2019-09-26 10:01:06,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#27:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 10:01:06,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:24), 23, false, commits[s2:c23, s0:c22, s1:c22], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=41
2019-09-26 10:01:06,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#27:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 10:01:06,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:24), 23, false, commits[s2:c23, s0:c22, s1:c22], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=41
2019-09-26 10:01:06,672 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#28:OK,SUCCESS,nextIndex:26,term:1,followerCommit:23
2019-09-26 10:01:06,673 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:25), 25, false, commits[s2:c25, s0:c23, s1:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 10:01:06,673 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:25), 25, false, commits[s2:c25, s0:c23, s1:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 10:01:06,674 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#28:OK,SUCCESS,nextIndex:26,term:1,followerCommit:23
2019-09-26 10:01:06,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=42, seq=0, RW, Message:6d3133)
2019-09-26 10:01:06,676 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=42, seq=0, RW, Message:6d3133, entry=(t:1, i:27), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=42
2019-09-26 10:01:06,676 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#29:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 10:01:06,676 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#29:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 10:01:06,676 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:26), 25, false, commits[s2:c25, s0:c23, s1:c23], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=42
2019-09-26 10:01:06,676 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:26), 25, false, commits[s2:c25, s0:c23, s1:c23], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=42
2019-09-26 10:01:06,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#30:OK,SUCCESS,nextIndex:28,term:1,followerCommit:25
2019-09-26 10:01:06,679 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:27), 27, false, commits[s2:c27, s0:c25, s1:c25], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 10:01:06,679 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:27), 27, false, commits[s2:c27, s0:c25, s1:c25], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 10:01:06,680 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#30:OK,SUCCESS,nextIndex:28,term:1,followerCommit:25
2019-09-26 10:01:06,680 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=43, seq=0, RW, Message:6d3134)
2019-09-26 10:01:06,681 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=43, seq=0, RW, Message:6d3134, entry=(t:1, i:29), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=43
2019-09-26 10:01:06,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:28), 27, false, commits[s2:c27, s0:c25, s1:c25], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=43
2019-09-26 10:01:06,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:28), 27, false, commits[s2:c27, s0:c25, s1:c25], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=43
2019-09-26 10:01:06,682 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#31:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 10:01:06,682 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#31:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 10:01:06,685 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#32:OK,SUCCESS,nextIndex:30,term:1,followerCommit:27
2019-09-26 10:01:06,685 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#32:OK,SUCCESS,nextIndex:30,term:1,followerCommit:27
2019-09-26 10:01:06,686 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:29), 29, false, commits[s2:c29, s0:c27, s1:c27], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 10:01:06,686 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:29), 29, false, commits[s2:c29, s0:c27, s1:c27], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 10:01:06,688 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=44, seq=0, RW, Message:6d3135)
2019-09-26 10:01:06,688 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=44, seq=0, RW, Message:6d3135, entry=(t:1, i:31), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=44
2019-09-26 10:01:06,689 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#33:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 10:01:06,689 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#33:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 10:01:06,689 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:30), 29, false, commits[s2:c29, s0:c27, s1:c27], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=44
2019-09-26 10:01:06,689 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:30), 29, false, commits[s2:c29, s0:c27, s1:c27], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=44
2019-09-26 10:01:06,690 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#34:OK,SUCCESS,nextIndex:32,term:1,followerCommit:29
2019-09-26 10:01:06,690 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#34:OK,SUCCESS,nextIndex:32,term:1,followerCommit:29
2019-09-26 10:01:06,691 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:31), 31, false, commits[s2:c31, s0:c29, s1:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 10:01:06,691 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:31), 31, false, commits[s2:c31, s0:c29, s1:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 10:01:06,693 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=45, seq=0, RW, Message:6d3136)
2019-09-26 10:01:06,693 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=45, seq=0, RW, Message:6d3136, entry=(t:1, i:33), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=45
2019-09-26 10:01:06,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:32), 31, false, commits[s2:c31, s0:c29, s1:c29], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=45
2019-09-26 10:01:06,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:32), 31, false, commits[s2:c31, s0:c29, s1:c29], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=45
2019-09-26 10:01:06,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#35:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 10:01:06,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#35:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 10:01:06,697 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#36:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 10:01:06,697 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#36:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 10:01:06,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:33), 33, false, commits[s2:c33, s0:c31, s1:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 10:01:06,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:33), 33, false, commits[s2:c33, s0:c31, s1:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 10:01:06,700 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=46, seq=0, RW, Message:6d3137)
2019-09-26 10:01:06,701 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=46, seq=0, RW, Message:6d3137, entry=(t:1, i:35), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=46
2019-09-26 10:01:06,701 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:34), 33, false, commits[s2:c33, s0:c31, s1:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=46
2019-09-26 10:01:06,701 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:34), 33, false, commits[s2:c33, s0:c31, s1:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=46
2019-09-26 10:01:06,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#37:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 10:01:06,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#37:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 10:01:06,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#38:OK,SUCCESS,nextIndex:36,term:1,followerCommit:33
2019-09-26 10:01:06,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#38:OK,SUCCESS,nextIndex:36,term:1,followerCommit:33
2019-09-26 10:01:06,706 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:35), 35, false, commits[s2:c35, s0:c33, s1:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 10:01:06,706 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:35), 35, false, commits[s2:c35, s0:c33, s1:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 10:01:06,708 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#39:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 10:01:06,708 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=47, seq=0, RW, Message:6d3138)
2019-09-26 10:01:06,708 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=47, seq=0, RW, Message:6d3138, entry=(t:1, i:37), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=47
2019-09-26 10:01:06,709 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:36), 35, false, commits[s2:c35, s0:c33, s1:c35], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=47
2019-09-26 10:01:06,709 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:36), 35, false, commits[s2:c35, s0:c33, s1:c35], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=47
2019-09-26 10:01:06,709 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#39:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 10:01:06,712 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#40:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 10:01:06,713 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#40:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 10:01:06,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:37), 37, false, commits[s2:c37, s0:c35, s1:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 10:01:06,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:37), 37, false, commits[s2:c37, s0:c35, s1:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 10:01:06,716 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-16605CC00CE8: receive client request(RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=48, seq=0, RW, Message:6d3139)
2019-09-26 10:01:06,716 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-16605CC00CE8-LeaderState: addPendingRequest at RaftClientRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=48, seq=0, RW, Message:6d3139, entry=(t:1, i:39), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=48
2019-09-26 10:01:06,717 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:38), 37, false, commits[s2:c37, s0:c35, s1:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=48
2019-09-26 10:01:06,717 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:38), 37, false, commits[s2:c37, s0:c35, s1:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=48
2019-09-26 10:01:06,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#41:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 10:01:06,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#41:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 10:01:06,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#42:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 10:01:06,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#42:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 10:01:06,747 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:39), 39, false, commits[s2:c39, s0:c37, s1:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 10:01:06,747 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:39), 39, false, commits[s2:c39, s0:c37, s1:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 10:01:06,749 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 10:01:06,749 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], format? true
2019-09-26 10:01:06,749 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3
2019-09-26 10:01:06,750 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3 does not exist.
2019-09-26 10:01:06,750 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3
2019-09-26 10:01:06,751 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:06,751 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:06,751 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33004 (custom)
2019-09-26 10:01:06,751 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:06,751 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,752 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:06,752 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:06,753 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3] (custom)
2019-09-26 10:01:06,753 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] returns group-16605CC00CE8:java.util.concurrent.CompletableFuture@7d0c9985[Not completed]
2019-09-26 10:01:06,753 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] with BaseStateMachine:uninitialized
2019-09-26 10:01:06,753 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], format? true
2019-09-26 10:01:06,754 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:06,754 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4
2019-09-26 10:01:06,754 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:06,754 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4 does not exist.
2019-09-26 10:01:06,754 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:06,754 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4
2019-09-26 10:01:06,754 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:06,755 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:06,755 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:06,755 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-16605CC00CE8: ConfigurationManager, init=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:06,755 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:06,755 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3] (custom)
2019-09-26 10:01:06,755 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 32867 (custom)
2019-09-26 10:01:06,755 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:06,755 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:06,756 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,756 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8 does not exist. Creating ...
2019-09-26 10:01:06,756 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:06,756 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:06,757 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4] (custom)
2019-09-26 10:01:06,757 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:06,757 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] returns group-16605CC00CE8:java.util.concurrent.CompletableFuture@97c4158[Not completed]
2019-09-26 10:01:06,757 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-16605CC00CE8:[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] with BaseStateMachine:uninitialized
2019-09-26 10:01:06,757 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:06,757 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:06,757 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:06,758 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:06,758 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:06,758 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-16605CC00CE8: ConfigurationManager, init=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:06,758 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4] (custom)
2019-09-26 10:01:06,758 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:06,758 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8 does not exist. Creating ...
2019-09-26 10:01:06,759 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:06,767 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#43:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 10:01:06,768 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#43:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 10:01:06,777 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:06,777 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:06,777 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/current
2019-09-26 10:01:06,778 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/current
2019-09-26 10:01:06,778 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/sm
2019-09-26 10:01:06,778 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/sm
2019-09-26 10:01:06,802 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8 has been successfully formatted.
2019-09-26 10:01:06,802 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8 has been successfully formatted.
2019-09-26 10:01:06,802 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:06,802 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:06,802 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:06,802 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:06,802 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:06,803 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:06,803 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,803 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,803 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:06,803 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:06,803 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:06,803 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:06,803 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-16605CC00CE8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:06,804 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-16605CC00CE8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8
2019-09-26 10:01:06,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:06,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:06,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:06,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:06,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:06,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:06,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:06,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:06,806 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:06,806 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:06,806 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:06,806 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:06,806 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:06,806 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:06,807 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:06,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:06,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:06,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:06,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:06,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:06,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:06,811 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-16605CC00CE8: start with initializing state, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,811 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-16605CC00CE8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:01:06,811 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s3
2019-09-26 10:01:06,813 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:01:06,815 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:33004
2019-09-26 10:01:06,815 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-16605CC00CE8: start with initializing state, conf=-1: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null
2019-09-26 10:01:06,815 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-16605CC00CE8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:01:06,815 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s4
2019-09-26 10:01:06,817 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:01:06,818 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:32867
2019-09-26 10:01:06,818 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestReconfTwice$4(161)) - Start changing the configuration: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:06,820 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-16605CC00CE8: receive setConfiguration SetConfigurationRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=49, seq=0, RW, null, peers:[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:06,820 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-16605CC00CE8-LeaderState: startSetConfiguration SetConfigurationRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=49, seq=0, RW, null, peers:[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:06,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:06,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:06,821 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:06,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:06,822 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:06,822 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:06,822 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:06,822 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:06,822 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:06,823 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:06,823 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:06,854 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-16605CC00CE8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 51ms
2019-09-26 10:01:06,854 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-16605CC00CE8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 51ms
2019-09-26 10:01:06,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-16605CC00CE8: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 10:01:06,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-16605CC00CE8: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 10:01:06,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-16605CC00CE8: inconsistency entries. Reply:s2<-s4#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 10:01:06,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-16605CC00CE8: inconsistency entries. Reply:s2<-s3#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 10:01:06,855 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s4: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 10:01:06,855 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s3: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 10:01:06,857 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:0), 40, true, commits[s2:c40, s0:c40, s1:c40, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:01:06,857 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:0), 40, true, commits[s2:c40, s0:c40, s1:c40, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:01:06,857 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-16605CC00CE8: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:01:06,858 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-16605CC00CE8: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:01:06,858 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-16605CC00CE8: inconsistency entries. Reply:s2<-s4#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 10:01:06,858 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-16605CC00CE8: inconsistency entries. Reply:s2<-s3#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 10:01:06,858 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s4: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 10:01:06,859 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s3: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 10:01:06,860 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, null, 40, true, commits[s2:c40, s0:c40, s1:c40, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:01:06,860 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, null, 40, true, commits[s2:c40, s0:c40, s1:c40, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-7C584D1A4827, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 10:01:06,860 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-16605CC00CE8: set configuration 0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 0
2019-09-26 10:01:06,860 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-16605CC00CE8: set configuration 0: [s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 0
2019-09-26 10:01:06,861 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:06,861 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:06,879 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s4: installSnapshot onError, lastRequest: s1->s4#45-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 10:01:06,879 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s3: installSnapshot onError, lastRequest: s1->s3#45-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
Sep 26, 2019 10:01:06 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@703283eb
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Sep 26, 2019 10:01:06 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@1f585b71
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 10:01:07,003 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0
2019-09-26 10:01:07,003 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0
2019-09-26 10:01:07,014 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 10:01:07,015 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 10:01:07,017 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-16605CC00CE8: set configuration 41: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 41
2019-09-26 10:01:07,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:40), 40, true, commits[s2:c40, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:01:07,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:40), 40, false, commits[s2:c40, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:01:07,017 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-16605CC00CE8: set configuration 41: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 41
2019-09-26 10:01:07,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:40), 40, false, commits[s2:c40, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:01:07,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:40), 40, false, commits[s2:c40, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 10:01:07,018 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-16605CC00CE8: set configuration 41: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 41
2019-09-26 10:01:07,018 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:01:07,019 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-16605CC00CE8: set configuration 41: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 41
2019-09-26 10:01:07,019 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-16605CC00CE8: set configuration 41: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=[s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 41
2019-09-26 10:01:07,025 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#47:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:01:07,025 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#5:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:01:07,026 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#47:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:01:07,026 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#5:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 10:01:07,027 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-16605CC00CE8: set configuration 43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 43
2019-09-26 10:01:07,027 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:41), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:01:07,027 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:41), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:01:07,027 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:41), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:01:07,027 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:41), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 10:01:07,028 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:42), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:01:07,028 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:42), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:01:07,028 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-16605CC00CE8: set configuration 43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 43
2019-09-26 10:01:07,028 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:01:07,028 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:42), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:01:07,029 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-16605CC00CE8: set configuration 43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 43
2019-09-26 10:01:07,029 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-16605CC00CE8: set configuration 43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 43
2019-09-26 10:01:07,029 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:42), 41, false, commits[s2:c41, s0:c40, s1:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 10:01:07,030 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-16605CC00CE8: set configuration 43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null at 43
2019-09-26 10:01:07,038 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#48:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:01:07,038 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#6:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:01:07,039 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#48:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:01:07,039 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#6:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 10:01:07,040 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#49:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:01:07,051 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#7:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:01:07,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#7:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:01:07,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#49:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 10:01:07,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:43), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:01:07,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:43), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:01:07,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:43), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:01:07,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:43), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 10:01:07,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:07,058 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c43,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
2019-09-26 10:01:07,058 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c43,f43,i44, conf=43: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884], old=null RUNNING
2019-09-26 10:01:07,059 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestReconfTwice$4(171)) - Start changing the configuration again: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705]
2019-09-26 10:01:07,060 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-16605CC00CE8: receive setConfiguration SetConfigurationRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=50, seq=0, RW, null, peers:[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705]
2019-09-26 10:01:07,061 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-16605CC00CE8-LeaderState: startSetConfiguration SetConfigurationRequest:client-7C584D1A4827->s2@group-16605CC00CE8, cid=50, seq=0, RW, null, peers:[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705]
2019-09-26 10:01:07,061 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-16605CC00CE8: set configuration 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 45
2019-09-26 10:01:07,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:44), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 10:01:07,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:44), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 10:01:07,062 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-16605CC00CE8: set configuration 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 45
2019-09-26 10:01:07,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:44), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 10:01:07,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:44), 43, false, commits[s2:c43, s0:c41, s1:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 10:01:07,063 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-16605CC00CE8: set configuration 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 45
2019-09-26 10:01:07,062 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-16605CC00CE8: set configuration 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 45
2019-09-26 10:01:07,063 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-16605CC00CE8: set configuration 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] at 45
2019-09-26 10:01:07,064 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#50:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:01:07,064 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#8:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:01:07,064 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#50:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:01:07,064 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#8:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 10:01:07,077 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#51:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 10:01:07,077 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#9:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 10:01:07,077 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#9:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 10:01:07,078 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s0#51:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 10:01:07,079 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:45), 45, false, commits[s2:c45, s0:c43, s1:c43, s3:c43, s4:c43], entries: (t:1, i:46), METADATAENTRY(c45)
2019-09-26 10:01:07,079 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:45), 45, false, commits[s2:c45, s0:c43, s1:c43, s3:c43, s4:c43], entries: (t:1, i:46), METADATAENTRY(c45)
2019-09-26 10:01:07,079 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-16605CC00CE8: set configuration 47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null at 47
2019-09-26 10:01:07,079 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:45), 45, false, commits[s2:c45, s0:c43, s1:c43, s3:c43, s4:c43], entries: (t:1, i:46), METADATAENTRY(c45)
2019-09-26 10:01:07,080 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:46), 45, false, commits[s2:c45, s1:c43, s3:c43, s4:c43], entries: (t:1, i:47), CONFIGURATIONENTRY
2019-09-26 10:01:07,079 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:46), 45, false, commits[s2:c45, s1:c43, s3:c43, s4:c43], entries: (t:1, i:47), CONFIGURATIONENTRY
2019-09-26 10:01:07,079 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#51-t1, previous=(t:1, i:44), leaderCommit=43, initializing? false, entries: size=1, first=(t:1, i:45), CONFIGURATIONENTRY
2019-09-26 10:01:07,080 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-16605CC00CE8: set configuration 47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null at 47
2019-09-26 10:01:07,080 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-16605CC00CE8: set configuration 47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null at 47
2019-09-26 10:01:07,080 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:46), 45, false, commits[s2:c45, s1:c43, s3:c43, s4:c43], entries: (t:1, i:47), CONFIGURATIONENTRY
2019-09-26 10:01:07,080 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-16605CC00CE8->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:07,081 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-16605CC00CE8: set configuration 47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null at 47
2019-09-26 10:01:07,081 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s0: nextIndex: updateUnconditionally 47 -> 46
2019-09-26 10:01:07,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#10:OK,SUCCESS,nextIndex:47,term:1,followerCommit:45
2019-09-26 10:01:07,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#10:OK,SUCCESS,nextIndex:47,term:1,followerCommit:45
2019-09-26 10:01:07,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#52:OK,SUCCESS,nextIndex:47,term:1,followerCommit:45
2019-09-26 10:01:07,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#11:OK,SUCCESS,nextIndex:48,term:1,followerCommit:45
2019-09-26 10:01:07,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#53:OK,SUCCESS,nextIndex:48,term:1,followerCommit:45
2019-09-26 10:01:07,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#11:OK,SUCCESS,nextIndex:48,term:1,followerCommit:45
2019-09-26 10:01:07,093 INFO  impl.RaftServerImpl (LeaderState.java:checkAndUpdateConfiguration(652)) - s2@group-16605CC00CE8-LeaderState is not included in the new configuration 47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null. Will shutdown server...
2019-09-26 10:01:07,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:47), 47, false, commits[s2:c47, s1:c45, s3:c45, s4:c45], entries: (t:1, i:48), METADATAENTRY(c47)
2019-09-26 10:01:07,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:47), 47, false, commits[s2:c47, s1:c45, s3:c45, s4:c45], entries: (t:1, i:48), METADATAENTRY(c47)
2019-09-26 10:01:07,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s2, 1, (t:1, i:47), 47, false, commits[s2:c47, s1:c45, s3:c45, s4:c45], entries: (t:1, i:48), METADATAENTRY(c47)
2019-09-26 10:01:07,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:07,094 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] RUNNING
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f47,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
2019-09-26 10:01:07,095 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
2019-09-26 10:01:07,095 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s4@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
2019-09-26 10:01:07,095 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s0@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] RUNNING
2019-09-26 10:01:07,095 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestReconfTwice(RaftReconfigurationBaseTest.java:187)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testReconfTwice(RaftReconfigurationBaseTest.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:01:07,104 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s4#12:OK,SUCCESS,nextIndex:49,term:1,followerCommit:47
2019-09-26 10:01:07,104 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s3#12:OK,SUCCESS,nextIndex:49,term:1,followerCommit:47
2019-09-26 10:01:07,105 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s2<-s1#54:OK,SUCCESS,nextIndex:49,term:1,followerCommit:47
2019-09-26 10:01:07,243 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-16605CC00CE8: shutdown
2019-09-26 10:01:07,244 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s2
2019-09-26 10:01:07,244 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-26 10:01:07,244 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-16605CC00CE8-PendingRequests: sendNotLeaderResponses
2019-09-26 10:01:07,244 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-16605CC00CE8->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:07,244 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-16605CC00CE8-StateMachineUpdater: set stopIndex = 47
2019-09-26 10:01:07,244 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-16605CC00CE8: closes. applyIndex: 47
2019-09-26 10:01:07,244 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-16605CC00CE8->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:07,245 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-16605CC00CE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:07,244 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-16605CC00CE8->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:07,245 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#55-t1, previous=(t:1, i:48), leaderCommit=47, initializing? false, entries: <empty>
2019-09-26 10:01:07,245 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s2->s3#13-t1, previous=(t:1, i:48), leaderCommit=47, initializing? false, entries: <empty>
2019-09-26 10:01:07,245 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s2->s4#13-t1, previous=(t:1, i:48), leaderCommit=47, initializing? false, entries: <empty>
2019-09-26 10:01:07,246 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-16605CC00CE8->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:07,246 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-16605CC00CE8->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:07,246 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-16605CC00CE8->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:07,246 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s1: nextIndex: updateUnconditionally 49 -> 48
2019-09-26 10:01:07,247 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s3: nextIndex: updateUnconditionally 49 -> 48
2019-09-26 10:01:07,247 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-16605CC00CE8-SegmentedRaftLogWorker close()
2019-09-26 10:01:07,248 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-16605CC00CE8->s4: nextIndex: updateUnconditionally 49 -> 48
2019-09-26 10:01:07,393 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-16605CC00CE8-FollowerState: change to CANDIDATE, lastRpcTime:315ms, electionTimeout:286ms
2019-09-26 10:01:07,393 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:07,393 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-16605CC00CE8: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:01:07,393 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:01:07,394 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-16605CC00CE8: change Leader from s2 to null at term 1 for initElection
2019-09-26 10:01:07,409 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-16605CC00CE8-LeaderElection43: begin an election at term 2 for 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:07,418 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 2, (t:1, i:45))
2019-09-26 10:01:07,418 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 2, (t:1, i:45))
2019-09-26 10:01:07,418 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-16605CC00CE8 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,419 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.ServerNotReadyException: s2@group-16605CC00CE8 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:01:07,419 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 2, (t:1, i:45))
2019-09-26 10:01:07,419 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-16605CC00CE8 replies to vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 2, (t:1, i:45))
2019-09-26 10:01:07,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-16605CC00CE8 replies to vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-16605CC00CE8:t1, leader=s2, voted=null, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,423 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-16605CC00CE8-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s2@group-16605CC00CE8 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:01:07,423 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-16605CC00CE8-LeaderElection43: Election REJECTED; received 3 response(s) [s0<-s3#0:FAIL-t1, s0<-s4#0:FAIL-t1, s0<-s1#0:FAIL-t1] and 1 exception(s); s0@group-16605CC00CE8:t2, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:07,423 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s2@group-16605CC00CE8 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:01:07,423 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-16605CC00CE8: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 10:01:07,423 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:01:07,424 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:07,480 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-16605CC00CE8-FollowerState: change to CANDIDATE, lastRpcTime:299ms, electionTimeout:173ms
2019-09-26 10:01:07,480 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:01:07,481 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-16605CC00CE8: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 10:01:07,481 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 10:01:07,481 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-16605CC00CE8: change Leader from s2 to null at term 1 for initElection
2019-09-26 10:01:07,496 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-16605CC00CE8-LeaderElection44: begin an election at term 2 for 47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,500 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-16605CC00CE8: receive requestVote(s4, group-16605CC00CE8, 2, (t:1, i:48))
2019-09-26 10:01:07,500 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-16605CC00CE8: receive requestVote(s4, group-16605CC00CE8, 2, (t:1, i:48))
2019-09-26 10:01:07,500 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-16605CC00CE8: change Leader from s2 to null at term 2 for updateCurrentTerm
2019-09-26 10:01:07,500 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-16605CC00CE8: change Leader from s2 to null at term 2 for updateCurrentTerm
2019-09-26 10:01:07,500 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-16605CC00CE8: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-26 10:01:07,501 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-16605CC00CE8: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-26 10:01:07,501 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:01:07,501 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:01:07,501 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-16605CC00CE8-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:07,501 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:01:07,501 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-16605CC00CE8-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:07,501 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:01:07,526 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-16605CC00CE8 replies to vote request: s4<-s3#0:OK-t2. Peer's state: s3@group-16605CC00CE8:t2, leader=null, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,526 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-16605CC00CE8 replies to vote request: s4<-s1#0:OK-t2. Peer's state: s1@group-16605CC00CE8:t2, leader=null, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,527 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-16605CC00CE8-LeaderElection44: Election PASSED; received 1 response(s) [s4<-s3#0:OK-t2] and 0 exception(s); s4@group-16605CC00CE8:t2, leader=null, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,527 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 10:01:07,527 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-16605CC00CE8: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 10:01:07,527 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-16605CC00CE8: change Leader from null to s4 at term 2 for becomeLeader, leader elected after 46ms
2019-09-26 10:01:07,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:01:07,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:01:07,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:01:07,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:01:07,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:01:07,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:01:07,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:07,531 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:07,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:07,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:07,532 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:07,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:07,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:07,532 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-26 10:01:07,533 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker: Rolling segment log-0_48 to index:48
2019-09-26 10:01:07,534 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-16605CC00CE8: set configuration 49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null at 49
2019-09-26 10:01:07,535 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-16605CC00CE8: change Leader from null to s4 at term 2 for appendEntries, leader elected after 34ms
2019-09-26 10:01:07,535 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-16605CC00CE8: change Leader from null to s4 at term 2 for appendEntries, leader elected after 34ms
2019-09-26 10:01:07,535 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_0-48
2019-09-26 10:01:07,536 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_0-48
2019-09-26 10:01:07,537 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s4, 2, (t:1, i:48), 47, false, commits[s4:c47, s3:c47, s1:c47], entries: (t:2, i:49), CONFIGURATIONENTRY
2019-09-26 10:01:07,538 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-16605CC00CE8: set configuration 49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null at 49
2019-09-26 10:01:07,538 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker: Rolling segment log-0_48 to index:48
2019-09-26 10:01:07,538 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s4, 2, (t:1, i:48), 47, false, commits[s4:c47, s3:c47, s1:c47], entries: (t:2, i:49), CONFIGURATIONENTRY
2019-09-26 10:01:07,538 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-16605CC00CE8: set configuration 49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null at 49
2019-09-26 10:01:07,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker: Rolling segment log-0_48 to index:48
2019-09-26 10:01:07,540 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_0-48
2019-09-26 10:01:07,540 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_0-48
2019-09-26 10:01:07,540 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_0-48
2019-09-26 10:01:07,541 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_0-48
2019-09-26 10:01:07,610 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-16605CC00CE8-FollowerState: change to CANDIDATE, lastRpcTime:186ms, electionTimeout:186ms
2019-09-26 10:01:07,610 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:07,610 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-16605CC00CE8: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 10:01:07,610 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:01:07,724 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s4/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_49
2019-09-26 10:01:07,724 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s3/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_49
2019-09-26 10:01:07,725 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-16605CC00CE8-LeaderElection45: begin an election at term 3 for 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:07,724 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpc1d9a08cd/s1/d69359d5-f540-4db0-9baf-16605cc00ce8/current/log_inprogress_49
2019-09-26 10:01:07,727 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 3, (t:1, i:45))
2019-09-26 10:01:07,728 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s4<-s3#1:OK,SUCCESS,nextIndex:50,term:2,followerCommit:47
2019-09-26 10:01:07,728 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 3, (t:1, i:45))
2019-09-26 10:01:07,728 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-16605CC00CE8 replies to vote request: s0<-s4#0:FAIL-t2. Peer's state: s4@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f49,i49, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,728 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.ServerNotReadyException: s2@group-16605CC00CE8 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:01:07,729 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 3, (t:1, i:45))
2019-09-26 10:01:07,729 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-16605CC00CE8 replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f48,i49, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,729 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 3, (t:1, i:45))
2019-09-26 10:01:07,730 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-16605CC00CE8 replies to vote request: s0<-s3#0:FAIL-t2. Peer's state: s3@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c47,f49,i49, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,731 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: receive appendEntries(s4, 2, (t:2, i:49), 49, false, commits[s4:c49, s3:c47, s1:c47], entries: (t:2, i:50), METADATAENTRY(c49)
2019-09-26 10:01:07,732 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: receive appendEntries(s4, 2, (t:2, i:49), 49, false, commits[s4:c49, s3:c47, s1:c47], entries: (t:2, i:50), METADATAENTRY(c49)
2019-09-26 10:01:07,732 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-16605CC00CE8-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s2@group-16605CC00CE8 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:01:07,733 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-16605CC00CE8-LeaderElection45: Election REJECTED; received 3 response(s) [s0<-s3#0:FAIL-t2, s0<-s4#0:FAIL-t2, s0<-s1#0:FAIL-t2] and 1 exception(s); s0@group-16605CC00CE8:t3, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:07,733 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s2@group-16605CC00CE8 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:01:07,733 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-16605CC00CE8: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 10:01:07,733 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:01:07,733 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:07,738 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s4<-s1#1:OK,SUCCESS,nextIndex:50,term:2,followerCommit:47
2019-09-26 10:01:07,739 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s4<-s3#4:OK,SUCCESS,nextIndex:51,term:2,followerCommit:49
2019-09-26 10:01:07,739 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-16605CC00CE8: succeeded to handle AppendEntries. Reply: s4<-s1#4:OK,SUCCESS,nextIndex:51,term:2,followerCommit:49
2019-09-26 10:01:07,984 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-16605CC00CE8-FollowerState: change to CANDIDATE, lastRpcTime:250ms, electionTimeout:250ms
2019-09-26 10:01:07,984 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:07,984 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-16605CC00CE8: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-26 10:01:07,984 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:01:07,995 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-16605CC00CE8-LeaderElection46: begin an election at term 4 for 45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:07,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 4, (t:1, i:45))
2019-09-26 10:01:07,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-16605CC00CE8 replies to vote request: s0<-s3#0:FAIL-t2. Peer's state: s3@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 4, (t:1, i:45))
2019-09-26 10:01:07,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 4, (t:1, i:45))
2019-09-26 10:01:07,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-16605CC00CE8: receive requestVote(s0, group-16605CC00CE8, 4, (t:1, i:45))
2019-09-26 10:01:07,998 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.ServerNotReadyException: s2@group-16605CC00CE8 is not in [RUNNING]: current state is CLOSED
2019-09-26 10:01:07,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-16605CC00CE8 replies to vote request: s0<-s4#0:FAIL-t2. Peer's state: s4@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-16605CC00CE8 replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null
2019-09-26 10:01:07,999 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-16605CC00CE8-LeaderElection46: Election SHUTDOWN; received 2 response(s) [s0<-s3#0:FAIL-t2, s0<-s4#0:FAIL-t2] and 0 exception(s); s0@group-16605CC00CE8:t4, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884]
2019-09-26 10:01:07,999 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s0@group-16605CC00CE8-LeaderElection46 received shutdown response when requesting votes.
2019-09-26 10:01:07,999 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:01:08,000 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-16605CC00CE8: shutdown
2019-09-26 10:01:08,000 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s0
2019-09-26 10:01:08,000 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:01:08,001 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-16605CC00CE8-StateMachineUpdater: set stopIndex = 43
2019-09-26 10:01:08,001 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-16605CC00CE8: closes. applyIndex: 43
2019-09-26 10:01:08,001 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-16605CC00CE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:08,003 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-16605CC00CE8-SegmentedRaftLogWorker close()
2019-09-26 10:01:08,006 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 33618 now
2019-09-26 10:01:08,008 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 33618 successfully
2019-09-26 10:01:08,147 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#45-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:08,147 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#53-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:08,147 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#45-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:08,147 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#53-t2, previous=(t:2, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:2, i:4), METADATAENTRY(c3)
2019-09-26 10:01:08,222 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#46-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,222 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#46-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,229 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#54-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,230 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#54-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,296 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-16605CC00CE8:t4, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null CLOSED
2019-09-26 10:01:08,297 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
2019-09-26 10:01:08,297 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s4@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
2019-09-26 10:01:08,297 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s0@group-16605CC00CE8:t4, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] CLOSED
2019-09-26 10:01:08,297 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#47-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,297 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#47-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,298 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
2019-09-26 10:01:08,298 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null CLOSED
2019-09-26 10:01:08,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:08,299 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-16605CC00CE8:t4, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null CLOSED
2019-09-26 10:01:08,299 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-16605CC00CE8:t4, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null CLOSED
2019-09-26 10:01:08,305 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#55-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,305 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#55-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,305 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:01:08,306 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:01:08,306 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:01:08,306 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:01:08,306 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:01:08,307 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s3@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s4@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-16605CC00CE8:t4, leader=null, voted=s0, raftlog=s0@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=[s3:0.0.0.0:33004, s4:0.0.0.0:32867, s0:0.0.0.0:33618, s1:0.0.0.0:35705, s2:0.0.0.0:38884] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-16605CC00CE8:t2, leader=s4, voted=s4, raftlog=s1@group-16605CC00CE8-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-16605CC00CE8:t1, leader=s2, voted=s2, raftlog=s2@group-16605CC00CE8-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:33004, s4:0.0.0.0:32867, s1:0.0.0.0:35705], old=null CLOSED
2019-09-26 10:01:08,308 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:01:08,308 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-16605CC00CE8: shutdown
2019-09-26 10:01:08,308 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:01:08,308 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:01:08,308 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:01:08,309 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-16605CC00CE8: shutdown
2019-09-26 10:01:08,309 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 38884 now
2019-09-26 10:01:08,309 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s3
2019-09-26 10:01:08,310 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 38884 successfully
2019-09-26 10:01:08,309 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s1
2019-09-26 10:01:08,310 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:01:08,309 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-16605CC00CE8: shutdown
2019-09-26 10:01:08,310 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-16605CC00CE8-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:08,310 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-16605CC00CE8-StateMachineUpdater: set stopIndex = 50
2019-09-26 10:01:08,311 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-16605CC00CE8: closes. applyIndex: 50
2019-09-26 10:01:08,310 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:01:08,311 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:08,311 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-16605CC00CE8,id=s4
2019-09-26 10:01:08,311 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-16605CC00CE8-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:08,311 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-16605CC00CE8-StateMachineUpdater: set stopIndex = 50
2019-09-26 10:01:08,312 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s4: shutdown LeaderState
2019-09-26 10:01:08,312 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-16605CC00CE8: closes. applyIndex: 50
2019-09-26 10:01:08,312 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-16605CC00CE8->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:08,312 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-16605CC00CE8->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:08,312 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s4@group-16605CC00CE8-PendingRequests: sendNotLeaderResponses
2019-09-26 10:01:08,313 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s4->s1#11-t2, previous=(t:2, i:50), leaderCommit=50, initializing? false, entries: <empty>
2019-09-26 10:01:08,312 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:08,314 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-16605CC00CE8-SegmentedRaftLogWorker close()
2019-09-26 10:01:08,314 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-16605CC00CE8-StateMachineUpdater: set stopIndex = 50
2019-09-26 10:01:08,315 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 35705 now
2019-09-26 10:01:08,314 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-16605CC00CE8->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:08,314 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#11-t2, previous=(t:2, i:50), leaderCommit=50, initializing? false, entries: <empty>
2019-09-26 10:01:08,315 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-16605CC00CE8: closes. applyIndex: 50
2019-09-26 10:01:08,315 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 35705 successfully
2019-09-26 10:01:08,316 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-16605CC00CE8-SegmentedRaftLogWorker close()
2019-09-26 10:01:08,316 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:08,316 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 33004 now
2019-09-26 10:01:08,316 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-16605CC00CE8->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:08,316 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-16605CC00CE8->s1: nextIndex: updateUnconditionally 51 -> 50
2019-09-26 10:01:08,316 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 33004 successfully
2019-09-26 10:01:08,317 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-16605CC00CE8->s3: nextIndex: updateUnconditionally 51 -> 50
2019-09-26 10:01:08,317 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-16605CC00CE8-SegmentedRaftLogWorker close()
2019-09-26 10:01:08,318 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 32867 now
2019-09-26 10:01:08,318 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 32867 successfully
2019-09-26 10:01:08,318 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 10:01:08,319 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 10:01:08,320 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 10:01:08,321 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 10:01:08,322 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:08,322 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 10:01:08,322 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 10:01:08,322 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 10:01:08,322 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 10:01:08,322 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 10:01:08,322 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 10:01:08,323 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], format? true
2019-09-26 10:01:08,323 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0
2019-09-26 10:01:08,323 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0 does not exist.
2019-09-26 10:01:08,323 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0
2019-09-26 10:01:08,323 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:08,324 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:08,324 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44839 (custom)
2019-09-26 10:01:08,324 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:08,324 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,325 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:08,325 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,325 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0] (custom)
2019-09-26 10:01:08,326 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] returns group-8445D93E6F99:java.util.concurrent.CompletableFuture@6fa81162[Not completed]
2019-09-26 10:01:08,327 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], format? true
2019-09-26 10:01:08,327 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] with BaseStateMachine:uninitialized
2019-09-26 10:01:08,327 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1
2019-09-26 10:01:08,327 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:08,327 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1 does not exist.
2019-09-26 10:01:08,327 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1
2019-09-26 10:01:08,327 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:08,328 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:08,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:08,328 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:08,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:08,328 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39851 (custom)
2019-09-26 10:01:08,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,329 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:08,329 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-8445D93E6F99: ConfigurationManager, init=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:08,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0] (custom)
2019-09-26 10:01:08,329 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:08,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:08,330 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,330 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99 does not exist. Creating ...
2019-09-26 10:01:08,330 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1] (custom)
2019-09-26 10:01:08,330 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,331 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] returns group-8445D93E6F99:java.util.concurrent.CompletableFuture@2d110545[Not completed]
2019-09-26 10:01:08,331 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] with BaseStateMachine:uninitialized
2019-09-26 10:01:08,331 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], format? true
2019-09-26 10:01:08,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:08,331 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2
2019-09-26 10:01:08,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:08,331 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2 does not exist.
2019-09-26 10:01:08,332 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2
2019-09-26 10:01:08,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:08,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:08,332 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:08,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,332 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:08,332 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-8445D93E6F99: ConfigurationManager, init=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:08,332 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39010 (custom)
2019-09-26 10:01:08,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1] (custom)
2019-09-26 10:01:08,333 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:08,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:08,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,333 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99 does not exist. Creating ...
2019-09-26 10:01:08,333 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:08,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,334 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2] (custom)
2019-09-26 10:01:08,334 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] returns group-8445D93E6F99:java.util.concurrent.CompletableFuture@c41cb0d[Not completed]
2019-09-26 10:01:08,335 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] with BaseStateMachine:uninitialized
2019-09-26 10:01:08,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:08,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:08,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:08,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:08,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,335 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-8445D93E6F99: ConfigurationManager, init=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:08,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2] (custom)
2019-09-26 10:01:08,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:08,336 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99 does not exist. Creating ...
2019-09-26 10:01:08,336 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,357 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:08,357 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:08,357 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:08,357 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99/current
2019-09-26 10:01:08,358 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99/current
2019-09-26 10:01:08,357 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99/current
2019-09-26 10:01:08,358 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99/sm
2019-09-26 10:01:08,358 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99/sm
2019-09-26 10:01:08,358 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99/sm
2019-09-26 10:01:08,373 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#48-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,373 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#48-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,380 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#56-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,380 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99 has been successfully formatted.
2019-09-26 10:01:08,380 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#56-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,380 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99 has been successfully formatted.
2019-09-26 10:01:08,380 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99 has been successfully formatted.
2019-09-26 10:01:08,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:08,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:08,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:08,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:08,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:08,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:08,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:08,382 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,382 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:08,382 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:08,382 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:08,382 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-8445D93E6F99-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,382 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:08,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:08,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:08,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:08,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:08,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:08,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:08,384 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-8445D93E6F99-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:08,384 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-8445D93E6F99-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:08,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:08,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:08,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:08,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:08,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:08,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:08,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,386 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-8445D93E6F99-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:08,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:08,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:08,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:08,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:08,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:08,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:08,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:08,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:08,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:08,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:08,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:08,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:08,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:08,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:08,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:08,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:08,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:08,389 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-8445D93E6F99-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:08,389 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-8445D93E6F99-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:08,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:08,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:08,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:08,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:08,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:08,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:08,392 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-8445D93E6F99: start as a follower, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,392 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8445D93E6F99: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:08,393 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 10:01:08,393 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s0
2019-09-26 10:01:08,394 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 10:01:08,395 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:44839
2019-09-26 10:01:08,396 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-8445D93E6F99: start as a follower, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,396 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-8445D93E6F99: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:08,396 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:01:08,396 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s1
2019-09-26 10:01:08,398 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 10:01:08,398 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:39851
2019-09-26 10:01:08,398 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-8445D93E6F99: start as a follower, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,398 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-8445D93E6F99: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:08,399 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:01:08,399 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s2
2019-09-26 10:01:08,401 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 10:01:08,401 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:39010
2019-09-26 10:01:08,402 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:08,402 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s0@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s1@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s2@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
2019-09-26 10:01:08,402 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s0@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s1@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s2@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s0@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s1@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s2@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestReconfTimeout(RaftReconfigurationBaseTest.java:211)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testReconfTimeout(RaftReconfigurationBaseTest.java:207)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 10:01:08,448 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#49-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,448 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#49-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,455 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#57-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,455 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#57-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,523 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#50-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,523 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#50-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,530 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#58-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,530 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#58-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,553 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-8445D93E6F99-FollowerState: change to CANDIDATE, lastRpcTime:160ms, electionTimeout:160ms
2019-09-26 10:01:08,553 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 10:01:08,553 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8445D93E6F99: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 10:01:08,554 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 10:01:08,568 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-8445D93E6F99-LeaderElection47: begin an election at term 1 for -1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,577 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-8445D93E6F99: receive requestVote(s0, group-8445D93E6F99, 1, (t:0, i:0))
2019-09-26 10:01:08,577 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-8445D93E6F99: receive requestVote(s0, group-8445D93E6F99, 1, (t:0, i:0))
2019-09-26 10:01:08,578 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-8445D93E6F99: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 10:01:08,578 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-8445D93E6F99: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 10:01:08,578 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:01:08,578 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:01:08,578 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 10:01:08,578 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 10:01:08,578 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-8445D93E6F99-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:08,578 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-8445D93E6F99-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:08,586 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-8445D93E6F99 replies to vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-8445D93E6F99:t1, leader=null, voted=s0, raftlog=s2@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,586 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-8445D93E6F99 replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-8445D93E6F99:t1, leader=null, voted=s0, raftlog=s1@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,587 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-8445D93E6F99-LeaderElection47: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t1] and 0 exception(s); s0@group-8445D93E6F99:t1, leader=null, voted=s0, raftlog=s0@group-8445D93E6F99-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,587 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 10:01:08,588 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8445D93E6F99: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 10:01:08,588 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-8445D93E6F99: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 206ms
2019-09-26 10:01:08,588 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 10:01:08,588 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 10:01:08,588 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 10:01:08,589 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 10:01:08,589 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 10:01:08,589 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 10:01:08,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:08,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:08,592 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:08,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,592 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:08,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:08,593 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:08,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,593 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 10:01:08,594 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-8445D93E6F99-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:08,594 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-8445D93E6F99: set configuration 0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 0
2019-09-26 10:01:08,597 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-8445D93E6F99: change Leader from null to s0 at term 1 for appendEntries, leader elected after 216ms
2019-09-26 10:01:08,597 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-8445D93E6F99: change Leader from null to s0 at term 1 for appendEntries, leader elected after 217ms
2019-09-26 10:01:08,598 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#51-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,598 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#51-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,600 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:08,600 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:08,600 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-8445D93E6F99: set configuration 0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 0
2019-09-26 10:01:08,600 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-8445D93E6F99: set configuration 0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 0
2019-09-26 10:01:08,600 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-8445D93E6F99-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:08,601 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-8445D93E6F99-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:08,605 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#59-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,606 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#59-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,673 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#52-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,674 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#52-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,681 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#60-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,681 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#60-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,749 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#53-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,749 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#53-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,756 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#61-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,756 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#61-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,758 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-8445D93E6F99-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s1/4a213366-dd8f-45a0-8288-8445d93e6f99/current/log_inprogress_0
2019-09-26 10:01:08,758 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-8445D93E6F99-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s0/4a213366-dd8f-45a0-8288-8445d93e6f99/current/log_inprogress_0
2019-09-26 10:01:08,758 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-8445D93E6F99-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s2/4a213366-dd8f-45a0-8288-8445d93e6f99/current/log_inprogress_0
2019-09-26 10:01:08,770 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:01:08,770 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 10:01:08,824 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#54-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,824 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#54-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,831 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#62-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,831 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#62-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,853 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s0@group-8445D93E6F99-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s1@group-8445D93E6F99-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s2@group-8445D93E6F99-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
2019-09-26 10:01:08,854 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 10:01:08,854 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], format? true
2019-09-26 10:01:08,855 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3
2019-09-26 10:01:08,855 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3 does not exist.
2019-09-26 10:01:08,855 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3
2019-09-26 10:01:08,856 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:08,856 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:08,856 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44267 (custom)
2019-09-26 10:01:08,857 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:08,857 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,857 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:08,858 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,858 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3] (custom)
2019-09-26 10:01:08,859 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] returns group-8445D93E6F99:java.util.concurrent.CompletableFuture@6b939dd5[Not completed]
2019-09-26 10:01:08,859 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] with BaseStateMachine:uninitialized
2019-09-26 10:01:08,859 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], format? true
2019-09-26 10:01:08,859 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:08,860 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4
2019-09-26 10:01:08,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:08,860 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4 does not exist.
2019-09-26 10:01:08,860 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4
2019-09-26 10:01:08,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:08,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:08,861 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:08,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,861 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:08,861 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-8445D93E6F99: ConfigurationManager, init=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:08,861 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40207 (custom)
2019-09-26 10:01:08,862 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3] (custom)
2019-09-26 10:01:08,862 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:08,862 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:08,862 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,863 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99 does not exist. Creating ...
2019-09-26 10:01:08,863 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:08,863 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,863 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,864 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4] (custom)
2019-09-26 10:01:08,864 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] returns group-8445D93E6F99:java.util.concurrent.CompletableFuture@6fbbdd2d[Not completed]
2019-09-26 10:01:08,864 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-8445D93E6F99:[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] with BaseStateMachine:uninitialized
2019-09-26 10:01:08,864 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:08,865 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:08,865 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:08,865 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:08,865 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,865 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-8445D93E6F99: ConfigurationManager, init=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:08,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4] (custom)
2019-09-26 10:01:08,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:08,866 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99 does not exist. Creating ...
2019-09-26 10:01:08,867 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,888 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:08,888 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:08,889 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99/current
2019-09-26 10:01:08,889 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99/current
2019-09-26 10:01:08,889 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99/sm
2019-09-26 10:01:08,889 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99/sm
2019-09-26 10:01:08,906 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#63-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,906 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-70B5CBFDE80A->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#63-t2, previous=(t:2, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 10:01:08,914 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99 has been successfully formatted.
2019-09-26 10:01:08,914 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99 has been successfully formatted.
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,916 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,916 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,916 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:08,916 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:08,916 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-8445D93E6F99-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,916 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-8445D93E6F99-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:08,916 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:08,917 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:08,917 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:08,917 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,917 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:08,917 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:08,917 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:08,917 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:08,918 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:08,918 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:08,918 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:08,918 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:08,918 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:08,918 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:08,918 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:08,919 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:08,919 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:08,919 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:08,919 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:08,919 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:08,919 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:08,920 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-8445D93E6F99-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:08,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:08,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:08,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:08,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:08,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:08,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:08,924 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-8445D93E6F99: start with initializing state, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,924 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-8445D93E6F99: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:01:08,925 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s3
2019-09-26 10:01:08,927 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:01:08,928 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:44267
2019-09-26 10:01:08,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-8445D93E6F99: start with initializing state, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:08,929 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-8445D93E6F99: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 10:01:08,929 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s4
2019-09-26 10:01:08,932 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:01:08,933 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:40207
2019-09-26 10:01:08,933 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:01:08,933 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-8445D93E6F99: shutdown
2019-09-26 10:01:08,934 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s3
2019-09-26 10:01:08,934 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-8445D93E6F99-StateMachineUpdater: set stopIndex = -1
2019-09-26 10:01:08,934 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-8445D93E6F99: closes. applyIndex: -1
2019-09-26 10:01:08,935 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-8445D93E6F99-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:08,935 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-8445D93E6F99-SegmentedRaftLogWorker close()
2019-09-26 10:01:08,935 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 44267 now
2019-09-26 10:01:08,936 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 44267 successfully
2019-09-26 10:01:08,936 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:01:08,936 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-8445D93E6F99: shutdown
2019-09-26 10:01:08,936 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s4
2019-09-26 10:01:08,937 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-8445D93E6F99-StateMachineUpdater: set stopIndex = -1
2019-09-26 10:01:08,937 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-8445D93E6F99: closes. applyIndex: -1
2019-09-26 10:01:08,937 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:08,938 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker close()
2019-09-26 10:01:08,938 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 40207 now
2019-09-26 10:01:08,938 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 40207 successfully
2019-09-26 10:01:08,939 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestReconfTimeout(215)) - Start changing the configuration: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:08,943 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-8445D93E6F99: receive setConfiguration SetConfigurationRequest:client-7A19A7FB753B->s0@group-8445D93E6F99, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:08,944 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-8445D93E6F99-LeaderState: startSetConfiguration SetConfigurationRequest:client-7A19A7FB753B->s0@group-8445D93E6F99, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:08,944 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:08,944 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:08,945 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:08,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,946 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:08,946 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:08,946 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:08,946 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:08,947 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:08,947 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:08,951 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:08,951 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:08,951 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:08,951 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:09,027 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,027 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,027 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,027 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,103 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,103 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,103 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,103 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,178 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,178 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,178 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,179 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,254 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,254 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,254 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,255 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,329 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,329 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,330 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,330 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,405 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,405 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,405 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,406 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,480 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,481 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,481 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,481 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,556 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,556 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,557 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,557 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,632 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,632 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,632 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,632 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,671 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s0@group-8445D93E6F99-LeaderState detects a follower s0@group-8445D93E6F99->s3(c-1,m0,n0, attendVote=false, lastRpcSendTime=40, lastRpcResponseTime=1027) timeout (35.83s) for bootstrapping
2019-09-26 10:01:09,671 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s0@group-8445D93E6F99-LeaderState detects a follower s0@group-8445D93E6F99->s4(c-1,m0,n0, attendVote=false, lastRpcSendTime=41, lastRpcResponseTime=1027) timeout (35.84s) for bootstrapping
2019-09-26 10:01:09,671 DEBUG impl.RaftServerImpl (LeaderState.java:fail(769)) - s0@group-8445D93E6F99-ConfigurationStagingState: Fail to set configuration [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] due to NOPROGRESS
2019-09-26 10:01:09,672 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:09,672 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:09,679 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestReconfTimeout(231)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s3@group-8445D93E6F99-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null CLOSED
  s4:   CLOSED  FOLLOWER s4@group-8445D93E6F99:t0, leader=null, voted=null, raftlog=s4@group-8445D93E6F99-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null CLOSED
  s0:  RUNNING    LEADER s0@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s0@group-8445D93E6F99-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s1@group-8445D93E6F99-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s2@group-8445D93E6F99-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
2019-09-26 10:01:09,680 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-8445D93E6F99: receive setConfiguration SetConfigurationRequest:client-7A19A7FB753B->s0@group-8445D93E6F99, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:09,680 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-8445D93E6F99-LeaderState: startSetConfiguration SetConfigurationRequest:client-7A19A7FB753B->s0@group-8445D93E6F99, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:09,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:09,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:09,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:09,681 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:09,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:09,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:09,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:09,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:09,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:09,683 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:09,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:09,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:09,686 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,686 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:09,687 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,687 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:09,762 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,762 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,762 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,763 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,838 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,838 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,838 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,838 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,913 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,913 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,914 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,914 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,989 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,989 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:09,989 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:09,989 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,064 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,064 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,064 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,065 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,139 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,140 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,140 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,140 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,215 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,216 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,216 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,216 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,291 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,291 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,291 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,292 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,367 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,367 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,367 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,367 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,443 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,443 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,443 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,443 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,519 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,519 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 10:01:10,519 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,520 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 10:01:10,572 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s0@group-8445D93E6F99-LeaderState detects a follower s0@group-8445D93E6F99->s3(c-1,m0,n0, attendVote=false, lastRpcSendTime=55, lastRpcResponseTime=1191) timeout (35.985s) for bootstrapping
2019-09-26 10:01:10,573 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s0@group-8445D93E6F99-LeaderState detects a follower s0@group-8445D93E6F99->s4(c-1,m0,n0, attendVote=false, lastRpcSendTime=55, lastRpcResponseTime=1192) timeout (35.985s) for bootstrapping
2019-09-26 10:01:10,573 DEBUG impl.RaftServerImpl (LeaderState.java:fail(769)) - s0@group-8445D93E6F99-ConfigurationStagingState: Fail to set configuration [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] due to NOPROGRESS
2019-09-26 10:01:10,573 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:10,573 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:10,578 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestReconfTimeout(244)) - Start new peers
2019-09-26 10:01:10,579 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s3
2019-09-26 10:01:10,579 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-8445D93E6F99:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], format? false
2019-09-26 10:01:10,579 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:10,580 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:10,580 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44267 (custom)
2019-09-26 10:01:10,580 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:10,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:10,580 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:10,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:10,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3] (custom)
2019-09-26 10:01:10,582 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s3: found a subdirectory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:10,582 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-8445D93E6F99:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] returns group-8445D93E6F99:java.util.concurrent.CompletableFuture@7fc4dee5[Not completed]
2019-09-26 10:01:10,582 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-8445D93E6F99:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] with BaseStateMachine:uninitialized
2019-09-26 10:01:10,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:10,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:10,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:10,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:10,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:10,583 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-8445D93E6F99: ConfigurationManager, init=-1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:10,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3] (custom)
2019-09-26 10:01:10,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:10,599 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:10,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:10,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:10,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:10,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:10,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:10,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:10,600 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-8445D93E6F99-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:10,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:10,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:10,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:10,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:10,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:10,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:10,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:10,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:10,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:10,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:10,602 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-8445D93E6F99-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:10,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:10,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:10,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:10,603 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-8445D93E6F99: start as a follower, conf=-1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:10,603 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-8445D93E6F99: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:10,604 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 10:01:10,604 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s3
2019-09-26 10:01:10,605 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 10:01:10,606 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:44267
2019-09-26 10:01:10,606 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s4
2019-09-26 10:01:10,606 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-8445D93E6F99:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], format? false
2019-09-26 10:01:10,607 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 10:01:10,607 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 10:01:10,607 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40207 (custom)
2019-09-26 10:01:10,608 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 10:01:10,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:10,608 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 10:01:10,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:10,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4] (custom)
2019-09-26 10:01:10,610 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s4: found a subdirectory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:10,610 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-8445D93E6F99:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] returns group-8445D93E6F99:java.util.concurrent.CompletableFuture@3670ebcc[Not completed]
2019-09-26 10:01:10,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-8445D93E6F99:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] with BaseStateMachine:uninitialized
2019-09-26 10:01:10,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 10:01:10,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 10:01:10,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 10:01:10,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 10:01:10,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:10,611 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-8445D93E6F99: ConfigurationManager, init=-1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null, confs=<EMPTY_MAP>
2019-09-26 10:01:10,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4] (custom)
2019-09-26 10:01:10,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 10:01:10,624 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99/in_use.lock acquired by nodename 13417@ratis-test-kn96w-682825239
2019-09-26 10:01:10,625 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 10:01:10,625 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 10:01:10,625 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 10:01:10,625 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:10,625 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:10,625 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 10:01:10,626 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-8445D93E6F99-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99
2019-09-26 10:01:10,626 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 10:01:10,626 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 10:01:10,626 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 10:01:10,626 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 10:01:10,626 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 10:01:10,626 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 10:01:10,627 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 10:01:10,627 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 10:01:10,627 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 10:01:10,627 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 10:01:10,627 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 10:01:10,628 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 10:01:10,628 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 10:01:10,628 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 10:01:10,628 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-8445D93E6F99: start as a follower, conf=-1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null
2019-09-26 10:01:10,628 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-8445D93E6F99: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 10:01:10,629 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 10:01:10,629 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s4
2019-09-26 10:01:10,630 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 10:01:10,630 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:40207
2019-09-26 10:01:10,632 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-8445D93E6F99: receive setConfiguration SetConfigurationRequest:client-7A19A7FB753B->s0@group-8445D93E6F99, cid=51, seq=0, RW, null, peers:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:10,632 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-8445D93E6F99-LeaderState: startSetConfiguration SetConfigurationRequest:client-7A19A7FB753B->s0@group-8445D93E6F99, cid=51, seq=0, RW, null, peers:[s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010]
2019-09-26 10:01:10,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:10,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:10,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:10,633 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:10,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:10,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:10,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 10:01:10,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 10:01:10,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 10:01:10,634 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 10:01:10,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 10:01:10,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 10:01:10,663 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-8445D93E6F99: change Leader from null to s0 at term 1 for appendEntries, leader elected after 38ms
2019-09-26 10:01:10,663 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-8445D93E6F99: change Leader from null to s0 at term 1 for appendEntries, leader elected after 63ms
2019-09-26 10:01:10,663 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-8445D93E6F99: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:01:10,663 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-8445D93E6F99: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 10:01:10,663 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-8445D93E6F99: inconsistency entries. Reply:s0<-s4#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:01:10,664 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-8445D93E6F99: inconsistency entries. Reply:s0<-s3#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 10:01:10,664 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:10,665 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 10:01:10,666 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:10,666 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 10:01:10,666 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-8445D93E6F99: set configuration 0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 0
2019-09-26 10:01:10,666 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-8445D93E6F99: set configuration 0: [s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 0
2019-09-26 10:01:10,666 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:10,667 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-8445D93E6F99-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 10:01:10,811 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-8445D93E6F99-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s3/4a213366-dd8f-45a0-8288-8445d93e6f99/current/log_inprogress_0
2019-09-26 10:01:10,811 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/fe4d9539/MiniRaftClusterWithGrpca203f8f5/s4/4a213366-dd8f-45a0-8288-8445d93e6f99/current/log_inprogress_0
2019-09-26 10:01:10,812 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s3#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 10:01:10,813 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 10:01:10,874 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-8445D93E6F99: set configuration 1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] at 1
2019-09-26 10:01:10,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:10,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:10,875 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-8445D93E6F99: set configuration 1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] at 1
2019-09-26 10:01:10,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:10,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 10:01:10,875 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-8445D93E6F99: set configuration 1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] at 1
2019-09-26 10:01:10,876 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-8445D93E6F99: set configuration 1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] at 1
2019-09-26 10:01:10,876 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-8445D93E6F99: set configuration 1: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=[s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010] at 1
2019-09-26 10:01:10,885 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s2#31:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:01:10,885 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s4#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:01:10,885 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s3#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:01:10,885 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s1#31:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 10:01:10,886 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-8445D93E6F99: set configuration 3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 3
2019-09-26 10:01:10,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:01:10,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:01:10,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:01:10,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 10:01:10,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:10,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:10,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:10,888 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-8445D93E6F99: set configuration 3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 3
2019-09-26 10:01:10,888 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-8445D93E6F99: set configuration 3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 3
2019-09-26 10:01:10,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 10:01:10,888 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-8445D93E6F99: set configuration 3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 3
2019-09-26 10:01:10,889 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-8445D93E6F99: set configuration 3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null at 3
2019-09-26 10:01:10,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s1#32:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:01:10,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s3#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:01:10,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s2#32:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:01:10,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s4#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 10:01:10,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s2#33:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:01:10,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s1#33:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:01:10,894 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s4#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:01:10,894 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s3#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 10:01:10,895 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,895 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,895 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,895 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,897 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 10:01:10,897 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 10:01:10,897 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 10:01:10,897 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 10:01:10,897 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 10:01:10,897 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8445D93E6F99:t1, leader=s0, voted=null, raftlog=s3@group-8445D93E6F99-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8445D93E6F99:t1, leader=s0, voted=null, raftlog=s4@group-8445D93E6F99-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s0@group-8445D93E6F99-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s1@group-8445D93E6F99-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8445D93E6F99:t1, leader=s0, voted=s0, raftlog=s2@group-8445D93E6F99-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44267, s4:0.0.0.0:40207, s0:0.0.0.0:44839, s1:0.0.0.0:39851, s2:0.0.0.0:39010], old=null RUNNING
2019-09-26 10:01:10,898 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 10:01:10,898 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-8445D93E6F99: shutdown
2019-09-26 10:01:10,898 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 10:01:10,898 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s3
2019-09-26 10:01:10,898 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 10:01:10,899 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 10:01:10,898 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 10:01:10,898 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-8445D93E6F99: shutdown
2019-09-26 10:01:10,898 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 10:01:10,899 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s0
2019-09-26 10:01:10,899 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 10:01:10,899 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-8445D93E6F99: shutdown
2019-09-26 10:01:10,899 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-8445D93E6F99-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:10,899 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-8445D93E6F99-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:01:10,899 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-8445D93E6F99: shutdown
2019-09-26 10:01:10,900 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-8445D93E6F99: closes. applyIndex: 1
2019-09-26 10:01:10,900 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s2
2019-09-26 10:01:10,899 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:10,899 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:10,899 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:10,899 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-8445D93E6F99->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 10:01:10,899 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-8445D93E6F99-PendingRequests: sendNotLeaderResponses
2019-09-26 10:01:10,899 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-8445D93E6F99: shutdown
2019-09-26 10:01:10,903 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-8445D93E6F99-StateMachineUpdater: set stopIndex = 3
2019-09-26 10:01:10,903 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-8445D93E6F99: closes. applyIndex: 3
2019-09-26 10:01:10,901 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#6-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,901 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#6-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,900 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 10:01:10,900 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s1
2019-09-26 10:01:10,904 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-8445D93E6F99-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:10,904 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-8445D93E6F99->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:10,904 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-8445D93E6F99-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:01:10,905 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-8445D93E6F99: closes. applyIndex: 1
2019-09-26 10:01:10,904 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-8445D93E6F99->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:10,903 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8445D93E6F99,id=s4
2019-09-26 10:01:10,901 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#34-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,901 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#34-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 10:01:10,905 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s4: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:01:10,905 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 10:01:10,905 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s3: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:01:10,904 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 10:01:10,906 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-8445D93E6F99-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:10,906 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-8445D93E6F99-StateMachineUpdater: set stopIndex = 1
2019-09-26 10:01:10,906 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s1#34:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:01:10,906 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-8445D93E6F99->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:10,905 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-8445D93E6F99->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 10:01:10,907 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8445D93E6F99: succeeded to handle AppendEntries. Reply: s0<-s4#6:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 10:01:10,907 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-8445D93E6F99-SegmentedRaftLogWorker close()
2019-09-26 10:01:10,907 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-8445D93E6F99-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 10:01:10,906 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-8445D93E6F99-StateMachineUpdater: set stopIndex = 3
2019-09-26 10:01:10,906 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-8445D93E6F99: closes. applyIndex: 1
2019-09-26 10:01:10,906 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-8445D93E6F99-SegmentedRaftLogWorker close()
2019-09-26 10:01:10,906 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-8445D93E6F99-SegmentedRaftLogWorker close()
2019-09-26 10:01:10,908 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 44267 now
2019-09-26 10:01:10,908 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:01:10,908 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:10,908 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-8445D93E6F99: closes. applyIndex: 3
2019-09-26 10:01:10,908 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-8445D93E6F99->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 10:01:10,908 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 39010 now
2019-09-26 10:01:10,909 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-8445D93E6F99-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 10:01:10,909 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 39010 successfully
2019-09-26 10:01:10,909 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 44267 successfully
2019-09-26 10:01:10,909 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 44839 now
2019-09-26 10:01:10,910 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 44839 successfully
2019-09-26 10:01:10,910 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-8445D93E6F99-SegmentedRaftLogWorker close()
2019-09-26 10:01:10,911 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 40207 now
2019-09-26 10:01:10,911 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 40207 successfully
2019-09-26 10:01:10,911 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-8445D93E6F99-SegmentedRaftLogWorker close()
2019-09-26 10:01:10,912 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 39851 now
2019-09-26 10:01:10,912 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 39851 successfully
2019-09-26 10:01:10,912 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
