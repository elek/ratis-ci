2019-09-26 13:59:46,920 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-26 13:59:46,927 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:59:46,928 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:59:46,948 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 13:59:47,028 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235]
2019-09-26 13:59:47,028 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:59:47,029 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:59:47,029 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 13:59:47,029 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:59:47,029 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:59:47,030 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:59:47,040 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], format? true
2019-09-26 13:59:47,042 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0
2019-09-26 13:59:47,052 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0 does not exist.
2019-09-26 13:59:47,053 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0
2019-09-26 13:59:47,068 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:47,156 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:47,161 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38461 (custom)
2019-09-26 13:59:47,164 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:47,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:47,168 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:47,173 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:47,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0] (custom)
2019-09-26 13:59:47,362 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235] returns group-99FEDD153C73:java.util.concurrent.CompletableFuture@6264f1df[Not completed]
2019-09-26 13:59:47,362 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], format? true
2019-09-26 13:59:47,363 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1
2019-09-26 13:59:47,363 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1 does not exist.
2019-09-26 13:59:47,363 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1
2019-09-26 13:59:47,364 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:47,364 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:47,364 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35529 (custom)
2019-09-26 13:59:47,365 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:47,365 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:47,365 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:47,366 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:47,366 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1] (custom)
2019-09-26 13:59:47,367 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235] returns group-99FEDD153C73:java.util.concurrent.CompletableFuture@7922bb3b[Not completed]
2019-09-26 13:59:47,367 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], format? true
2019-09-26 13:59:47,368 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2
2019-09-26 13:59:47,368 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235] with BaseStateMachine:uninitialized
2019-09-26 13:59:47,368 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235] with BaseStateMachine:uninitialized
2019-09-26 13:59:47,368 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2 does not exist.
2019-09-26 13:59:47,368 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2
2019-09-26 13:59:47,369 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:47,369 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:47,369 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:47,369 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:47,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:47,369 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 46235 (custom)
2019-09-26 13:59:47,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:47,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:47,370 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:47,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:47,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:47,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:47,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:47,371 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:47,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:47,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:47,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:47,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2] (custom)
2019-09-26 13:59:47,373 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235] returns group-99FEDD153C73:java.util.concurrent.CompletableFuture@45461c96[Not completed]
2019-09-26 13:59:47,373 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-99FEDD153C73:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235] with BaseStateMachine:uninitialized
2019-09-26 13:59:47,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:47,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:47,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:47,374 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:47,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:47,379 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-99FEDD153C73: ConfigurationManager, init=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:47,379 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-99FEDD153C73: ConfigurationManager, init=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:47,379 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-99FEDD153C73: ConfigurationManager, init=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:47,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0] (custom)
2019-09-26 13:59:47,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2] (custom)
2019-09-26 13:59:47,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1] (custom)
2019-09-26 13:59:47,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:47,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:47,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:47,392 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73 does not exist. Creating ...
2019-09-26 13:59:47,392 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73 does not exist. Creating ...
2019-09-26 13:59:47,392 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73 does not exist. Creating ...
2019-09-26 13:59:47,394 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73
2019-09-26 13:59:47,395 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73
2019-09-26 13:59:47,395 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73
2019-09-26 13:59:47,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:47,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:47,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:47,429 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73/current
2019-09-26 13:59:47,429 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73/current
2019-09-26 13:59:47,429 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73/current
2019-09-26 13:59:47,430 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73/sm
2019-09-26 13:59:47,430 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73/sm
2019-09-26 13:59:47,430 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73/sm
2019-09-26 13:59:47,458 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73 has been successfully formatted.
2019-09-26 13:59:47,458 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73 has been successfully formatted.
2019-09-26 13:59:47,458 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73 has been successfully formatted.
2019-09-26 13:59:47,460 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:47,460 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:47,460 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:47,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:47,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:47,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:47,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:47,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:47,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:47,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:47,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:47,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:47,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:47,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:47,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:47,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:47,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:47,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:47,488 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-99FEDD153C73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73
2019-09-26 13:59:47,488 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-99FEDD153C73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73
2019-09-26 13:59:47,488 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-99FEDD153C73-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73
2019-09-26 13:59:47,564 WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(124)) - Cannot locate configuration: tried hadoop-metrics2-ratis.properties,hadoop-metrics2.properties
2019-09-26 13:59:47,657 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(376)) - Scheduled snapshot period at 10 second(s).
2019-09-26 13:59:47,657 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - ratis metrics system started
2019-09-26 13:59:47,664 INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-09-26 13:59:47,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:47,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:47,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:47,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:47,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:47,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:47,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:47,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:47,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:47,705 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:47,705 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:47,705 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:47,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:47,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:47,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:47,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:47,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:47,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:47,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:47,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:47,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:47,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:47,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:47,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:47,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:47,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:47,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:47,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:47,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:47,719 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:47,726 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-99FEDD153C73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:47,726 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-99FEDD153C73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:47,726 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-99FEDD153C73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:47,731 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:47,731 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:47,731 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:47,732 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:47,732 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:47,732 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:47,733 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:47,733 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:47,733 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:47,768 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-99FEDD153C73: start as a follower, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:47,770 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-99FEDD153C73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:47,772 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:47,776 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99FEDD153C73,id=s0
2019-09-26 13:59:47,788 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:59:47,914 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:38461
2019-09-26 13:59:47,915 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-99FEDD153C73: start as a follower, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:47,915 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-99FEDD153C73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:47,915 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:47,916 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99FEDD153C73,id=s1
2019-09-26 13:59:47,921 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:59:47,922 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:35529
2019-09-26 13:59:47,922 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-99FEDD153C73: start as a follower, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:47,922 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-99FEDD153C73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:47,923 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:47,923 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99FEDD153C73,id=s2
2019-09-26 13:59:47,928 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:59:47,929 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:46235
2019-09-26 13:59:47,932 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:47,936 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
2019-09-26 13:59:47,941 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99FEDD153C73:t0, leader=null, voted=null, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestNoChangeRequest(RaftReconfigurationBaseTest.java:394)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testNoChangeRequest(RaftReconfigurationBaseTest.java:390)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:47,986 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-99FEDD153C73-FollowerState: change to CANDIDATE, lastRpcTime:214ms, electionTimeout:213ms
2019-09-26 13:59:47,989 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:47,989 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-99FEDD153C73: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:47,994 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:59:48,009 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-99FEDD153C73-LeaderElection1: begin an election at term 1 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,197 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-99FEDD153C73-FollowerState: change to CANDIDATE, lastRpcTime:274ms, electionTimeout:274ms
2019-09-26 13:59:48,198 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:48,198 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-99FEDD153C73: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:48,199 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:59:48,208 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-99FEDD153C73-FollowerState: change to CANDIDATE, lastRpcTime:292ms, electionTimeout:292ms
2019-09-26 13:59:48,208 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:48,208 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-99FEDD153C73: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:48,208 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 13:59:48,214 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-99FEDD153C73-LeaderElection2: begin an election at term 1 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,214 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-99FEDD153C73-LeaderElection3: begin an election at term 1 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,342 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-99FEDD153C73-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-99FEDD153C73:t1, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,356 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-99FEDD153C73-LeaderElection1: begin an election at term 2 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,395 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-99FEDD153C73:t2, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-99FEDD153C73:t1, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-99FEDD153C73:t1, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-99FEDD153C73:t2, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-99FEDD153C73:t1, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-99FEDD153C73:t1, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestNoChangeRequest(RaftReconfigurationBaseTest.java:394)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testNoChangeRequest(RaftReconfigurationBaseTest.java:390)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:48,450 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-99FEDD153C73-LeaderElection3: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-99FEDD153C73:t1, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,464 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-99FEDD153C73-LeaderElection3: begin an election at term 2 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,478 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-99FEDD153C73-LeaderElection2: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s2@group-99FEDD153C73:t1, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,492 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-99FEDD153C73-LeaderElection2: begin an election at term 2 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-99FEDD153C73: receive requestVote(s2, group-99FEDD153C73, 2, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 1, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-99FEDD153C73: receive requestVote(s1, group-99FEDD153C73, 1, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-99FEDD153C73: receive requestVote(s2, group-99FEDD153C73, 1, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-99FEDD153C73: receive requestVote(s1, group-99FEDD153C73, 1, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 1, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 2, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-99FEDD153C73: receive requestVote(s2, group-99FEDD153C73, 2, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 2, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-99FEDD153C73: receive requestVote(s1, group-99FEDD153C73, 2, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-99FEDD153C73: receive requestVote(s1, group-99FEDD153C73, 2, (t:0, i:0))
2019-09-26 13:59:48,576 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-99FEDD153C73: receive requestVote(s2, group-99FEDD153C73, 1, (t:0, i:0))
2019-09-26 13:59:48,583 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-99FEDD153C73 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-99FEDD153C73:t2, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,583 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-99FEDD153C73 replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-99FEDD153C73:t2, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,583 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-99FEDD153C73 replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-99FEDD153C73:t2, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,583 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-99FEDD153C73 replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-99FEDD153C73:t2, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,583 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-99FEDD153C73 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-99FEDD153C73:t2, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-99FEDD153C73 replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-99FEDD153C73:t2, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-99FEDD153C73 replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-99FEDD153C73:t2, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-99FEDD153C73 replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-99FEDD153C73:t2, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-99FEDD153C73 replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-99FEDD153C73:t2, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-99FEDD153C73 replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-99FEDD153C73:t2, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-99FEDD153C73 replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-99FEDD153C73:t2, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,585 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-99FEDD153C73 replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-99FEDD153C73:t2, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,597 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-99FEDD153C73-LeaderElection2: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t2, s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-99FEDD153C73:t2, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,597 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-99FEDD153C73-LeaderElection3: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t2, s1<-s2#0:FAIL-t2] and 0 exception(s); s1@group-99FEDD153C73:t2, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,598 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-99FEDD153C73-LeaderElection1: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t2, s0<-s2#0:FAIL-t2] and 0 exception(s); s0@group-99FEDD153C73:t2, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,599 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-99FEDD153C73: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:48,599 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-99FEDD153C73: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:48,599 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-99FEDD153C73: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:48,599 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:59:48,599 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 13:59:48,599 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:59:48,600 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:48,600 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:48,600 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:48,813 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-99FEDD153C73-FollowerState: change to CANDIDATE, lastRpcTime:212ms, electionTimeout:212ms
2019-09-26 13:59:48,813 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:48,813 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-99FEDD153C73: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 13:59:48,814 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 13:59:48,814 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-99FEDD153C73-FollowerState: change to CANDIDATE, lastRpcTime:213ms, electionTimeout:213ms
2019-09-26 13:59:48,814 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:48,814 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-99FEDD153C73: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 13:59:48,814 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:59:48,821 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-99FEDD153C73-FollowerState: change to CANDIDATE, lastRpcTime:220ms, electionTimeout:220ms
2019-09-26 13:59:48,821 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:48,821 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-99FEDD153C73: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 13:59:48,821 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 13:59:48,829 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-99FEDD153C73-LeaderElection5: begin an election at term 3 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,829 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-99FEDD153C73-LeaderElection4: begin an election at term 3 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,829 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-99FEDD153C73-LeaderElection6: begin an election at term 3 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 3, (t:0, i:0))
2019-09-26 13:59:48,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-99FEDD153C73 replies to vote request: s0<-s1#0:FAIL-t3. Peer's state: s1@group-99FEDD153C73:t3, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,836 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-99FEDD153C73: receive requestVote(s1, group-99FEDD153C73, 3, (t:0, i:0))
2019-09-26 13:59:48,837 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-99FEDD153C73 replies to vote request: s1<-s0#0:FAIL-t3. Peer's state: s0@group-99FEDD153C73:t3, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,837 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-99FEDD153C73: receive requestVote(s1, group-99FEDD153C73, 3, (t:0, i:0))
2019-09-26 13:59:48,837 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-99FEDD153C73: receive requestVote(s2, group-99FEDD153C73, 3, (t:0, i:0))
2019-09-26 13:59:48,837 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-99FEDD153C73: receive requestVote(s2, group-99FEDD153C73, 3, (t:0, i:0))
2019-09-26 13:59:48,837 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 3, (t:0, i:0))
2019-09-26 13:59:48,837 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-99FEDD153C73 replies to vote request: s1<-s2#0:FAIL-t3. Peer's state: s2@group-99FEDD153C73:t3, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,838 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-99FEDD153C73 replies to vote request: s2<-s1#0:FAIL-t3. Peer's state: s1@group-99FEDD153C73:t3, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,837 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-99FEDD153C73 replies to vote request: s2<-s0#0:FAIL-t3. Peer's state: s0@group-99FEDD153C73:t3, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,838 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-99FEDD153C73 replies to vote request: s0<-s2#0:FAIL-t3. Peer's state: s2@group-99FEDD153C73:t3, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,842 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-99FEDD153C73-LeaderElection4: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t3, s1<-s2#0:FAIL-t3] and 0 exception(s); s1@group-99FEDD153C73:t3, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,842 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-99FEDD153C73: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:48,843 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 13:59:48,843 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:48,845 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-99FEDD153C73-LeaderElection5: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t3, s0<-s2#0:FAIL-t3] and 0 exception(s); s0@group-99FEDD153C73:t3, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,846 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-99FEDD153C73: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:48,846 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:59:48,846 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:48,846 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-99FEDD153C73-LeaderElection6: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t3, s2<-s1#0:FAIL-t3] and 0 exception(s); s2@group-99FEDD153C73:t3, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:48,847 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-99FEDD153C73: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:48,847 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 13:59:48,847 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:48,848 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99FEDD153C73:t3, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99FEDD153C73:t3, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99FEDD153C73:t3, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99FEDD153C73:t3, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99FEDD153C73:t3, leader=null, voted=s1, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99FEDD153C73:t3, leader=null, voted=s2, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestNoChangeRequest(RaftReconfigurationBaseTest.java:394)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testNoChangeRequest(RaftReconfigurationBaseTest.java:390)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:49,042 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-99FEDD153C73-FollowerState: change to CANDIDATE, lastRpcTime:195ms, electionTimeout:195ms
2019-09-26 13:59:49,043 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:49,043 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-99FEDD153C73: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-26 13:59:49,043 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:59:49,058 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-99FEDD153C73-LeaderElection7: begin an election at term 4 for -1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:49,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 4, (t:0, i:0))
2019-09-26 13:59:49,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-99FEDD153C73: receive requestVote(s0, group-99FEDD153C73, 4, (t:0, i:0))
2019-09-26 13:59:49,063 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-99FEDD153C73: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 13:59:49,063 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-99FEDD153C73: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-26 13:59:49,063 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:49,063 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:49,063 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-99FEDD153C73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,063 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:49,064 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-99FEDD153C73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,063 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:49,080 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-99FEDD153C73 replies to vote request: s0<-s2#0:OK-t4. Peer's state: s2@group-99FEDD153C73:t4, leader=null, voted=s0, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:49,080 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-99FEDD153C73 replies to vote request: s0<-s1#0:OK-t4. Peer's state: s1@group-99FEDD153C73:t4, leader=null, voted=s0, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:49,083 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-99FEDD153C73-LeaderElection7: Election PASSED; received 1 response(s) [s0<-s2#0:OK-t4] and 0 exception(s); s0@group-99FEDD153C73:t4, leader=null, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null
2019-09-26 13:59:49,083 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:59:49,083 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-99FEDD153C73: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-26 13:59:49,084 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-99FEDD153C73: change Leader from null to s0 at term 4 for becomeLeader, leader elected after 1624ms
2019-09-26 13:59:49,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 13:59:49,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:59:49,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:59:49,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:59:49,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:59:49,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:59:49,110 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:49,110 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,111 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:49,114 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:49,115 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,115 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,117 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:49,118 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,118 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:49,118 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:49,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,122 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 13:59:49,143 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-99FEDD153C73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:49,153 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-99FEDD153C73: set configuration 0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null at 0
2019-09-26 13:59:49,178 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-99FEDD153C73: change Leader from null to s0 at term 4 for appendEntries, leader elected after 1718ms
2019-09-26 13:59:49,178 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-99FEDD153C73: change Leader from null to s0 at term 4 for appendEntries, leader elected after 1718ms
2019-09-26 13:59:49,198 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-99FEDD153C73: receive appendEntries(s0, 4, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:49,198 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-99FEDD153C73: receive appendEntries(s0, 4, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:49,200 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-99FEDD153C73: set configuration 0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null at 0
2019-09-26 13:59:49,200 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-99FEDD153C73: set configuration 0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null at 0
2019-09-26 13:59:49,201 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-99FEDD153C73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:49,201 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-99FEDD153C73-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:49,300 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-99FEDD153C73:t4, leader=s0, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99FEDD153C73:t4, leader=s0, voted=s0, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99FEDD153C73:t4, leader=s0, voted=s0, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
2019-09-26 13:59:49,346 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-99FEDD153C73: receive client request(RaftClientRequest:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, seq=0, RW, Message:6d)
2019-09-26 13:59:49,348 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, seq=0, RW, Message:6d, reply=RaftClientReply:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-99FEDD153C73 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2019-09-26 13:59:49,465 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-99FEDD153C73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s2/d732fb90-abbd-44af-8b82-99fedd153c73/current/log_inprogress_0
2019-09-26 13:59:49,465 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-99FEDD153C73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s0/d732fb90-abbd-44af-8b82-99fedd153c73/current/log_inprogress_0
2019-09-26 13:59:49,465 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-99FEDD153C73-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc16449f61/s1/d732fb90-abbd-44af-8b82-99fedd153c73/current/log_inprogress_0
2019-09-26 13:59:49,468 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-99FEDD153C73: receive client request(RaftClientRequest:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, seq=0, RW, Message:6d)
2019-09-26 13:59:49,468 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, seq=0, RW, Message:6d, reply=RaftClientReply:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-99FEDD153C73 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2019-09-26 13:59:49,482 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-99FEDD153C73: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:4,followerCommit:-1
2019-09-26 13:59:49,482 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-99FEDD153C73: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:4,followerCommit:-1
2019-09-26 13:59:49,574 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-99FEDD153C73: receive client request(RaftClientRequest:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, seq=0, RW, Message:6d)
2019-09-26 13:59:49,589 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-99FEDD153C73-LeaderState: addPendingRequest at RaftClientRequest:client-4185CA8B8181->s0@group-99FEDD153C73, cid=0, seq=0, RW, Message:6d, entry=(t:4, i:1), STATEMACHINELOGENTRY, client-4185CA8B8181, cid=0
2019-09-26 13:59:49,596 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-99FEDD153C73: receive appendEntries(s0, 4, (t:4, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0], entries: (t:4, i:1), STATEMACHINELOGENTRY, client-4185CA8B8181, cid=0
2019-09-26 13:59:49,596 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-99FEDD153C73: receive appendEntries(s0, 4, (t:4, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0], entries: (t:4, i:1), STATEMACHINELOGENTRY, client-4185CA8B8181, cid=0
2019-09-26 13:59:49,601 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-99FEDD153C73: succeeded to handle AppendEntries. Reply: s0<-s1#6:OK,SUCCESS,nextIndex:2,term:4,followerCommit:0
2019-09-26 13:59:49,602 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-99FEDD153C73: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK,SUCCESS,nextIndex:2,term:4,followerCommit:0
2019-09-26 13:59:49,608 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-99FEDD153C73: receive appendEntries(s0, 4, (t:4, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-26 13:59:49,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-99FEDD153C73: receive appendEntries(s0, 4, (t:4, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-26 13:59:49,618 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-99FEDD153C73: succeeded to handle AppendEntries. Reply: s0<-s2#7:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-26 13:59:49,618 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-99FEDD153C73: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-26 13:59:49,624 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-99FEDD153C73: receive setConfiguration SetConfigurationRequest:client-4185CA8B8181->s0@group-99FEDD153C73, cid=1, seq=0, RW, null, peers:[s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235]
2019-09-26 13:59:49,636 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:59:49,636 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:59:49,636 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 13:59:49,636 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:59:49,637 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:59:49,637 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-99FEDD153C73:t4, leader=s0, voted=s0, raftlog=s0@group-99FEDD153C73-SegmentedRaftLog:OPENED:c2,f2,i2, conf=0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99FEDD153C73:t4, leader=s0, voted=s0, raftlog=s1@group-99FEDD153C73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99FEDD153C73:t4, leader=s0, voted=s0, raftlog=s2@group-99FEDD153C73-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:38461, s1:0.0.0.0:35529, s2:0.0.0.0:46235], old=null RUNNING
2019-09-26 13:59:49,640 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:59:49,640 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:59:49,640 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:59:49,641 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-99FEDD153C73: shutdown
2019-09-26 13:59:49,641 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-99FEDD153C73: shutdown
2019-09-26 13:59:49,642 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99FEDD153C73,id=s0
2019-09-26 13:59:49,642 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-99FEDD153C73: shutdown
2019-09-26 13:59:49,642 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99FEDD153C73,id=s2
2019-09-26 13:59:49,642 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99FEDD153C73,id=s1
2019-09-26 13:59:49,642 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 13:59:49,643 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:49,643 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:49,643 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-99FEDD153C73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,643 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-99FEDD153C73-StateMachineUpdater: set stopIndex = 1
2019-09-26 13:59:49,644 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-99FEDD153C73-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,643 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-99FEDD153C73-PendingRequests: sendNotLeaderResponses
2019-09-26 13:59:49,643 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-99FEDD153C73->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:49,643 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-99FEDD153C73-StateMachineUpdater: set stopIndex = 1
2019-09-26 13:59:49,645 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-99FEDD153C73: closes. applyIndex: 1
2019-09-26 13:59:49,643 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-99FEDD153C73->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:49,644 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-99FEDD153C73: closes. applyIndex: 1
2019-09-26 13:59:49,645 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-99FEDD153C73-StateMachineUpdater: set stopIndex = 2
2019-09-26 13:59:49,645 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-99FEDD153C73: closes. applyIndex: 2
2019-09-26 13:59:49,646 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-99FEDD153C73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:49,646 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-99FEDD153C73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:49,646 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-99FEDD153C73-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:49,647 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#7-t4, previous=(t:4, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:4, i:2), METADATAENTRY(c1)
2019-09-26 13:59:49,647 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#7-t4, previous=(t:4, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:4, i:2), METADATAENTRY(c1)
2019-09-26 13:59:49,648 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-99FEDD153C73->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:49,648 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-99FEDD153C73->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:49,648 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-99FEDD153C73-SegmentedRaftLogWorker close()
2019-09-26 13:59:49,648 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-99FEDD153C73-SegmentedRaftLogWorker close()
2019-09-26 13:59:49,649 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-99FEDD153C73-SegmentedRaftLogWorker close()
2019-09-26 13:59:49,649 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-99FEDD153C73->s2: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:49,649 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-99FEDD153C73->s1: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:49,650 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 46235 now
2019-09-26 13:59:49,650 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 35529 now
2019-09-26 13:59:49,650 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 38461 now
2019-09-26 13:59:49,652 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 38461 successfully
2019-09-26 13:59:49,653 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 46235 successfully
2019-09-26 13:59:49,655 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 35529 successfully
2019-09-26 13:59:49,655 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 13:59:49,657 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:59:49,658 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:59:49,659 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 13:59:49,659 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:49,660 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:59:49,660 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:59:49,660 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 13:59:49,660 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:59:49,660 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:59:49,660 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:59:49,660 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], format? true
2019-09-26 13:59:49,660 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3
2019-09-26 13:59:49,661 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3 does not exist.
2019-09-26 13:59:49,661 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3
2019-09-26 13:59:49,661 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:49,661 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:49,662 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 46092 (custom)
2019-09-26 13:59:49,662 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:49,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,662 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:49,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3] (custom)
2019-09-26 13:59:49,664 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] returns group-7AEEAE3A7102:java.util.concurrent.CompletableFuture@76080480[Not completed]
2019-09-26 13:59:49,664 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] with BaseStateMachine:uninitialized
2019-09-26 13:59:49,664 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], format? true
2019-09-26 13:59:49,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:49,664 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4
2019-09-26 13:59:49,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:49,665 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4 does not exist.
2019-09-26 13:59:49,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:49,665 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4
2019-09-26 13:59:49,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:49,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,665 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:49,665 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-7AEEAE3A7102: ConfigurationManager, init=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:49,665 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:49,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3] (custom)
2019-09-26 13:59:49,666 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 32970 (custom)
2019-09-26 13:59:49,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:49,666 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:49,666 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 does not exist. Creating ...
2019-09-26 13:59:49,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,667 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:49,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,667 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4] (custom)
2019-09-26 13:59:49,668 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] returns group-7AEEAE3A7102:java.util.concurrent.CompletableFuture@2d23265[Not completed]
2019-09-26 13:59:49,669 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] with BaseStateMachine:uninitialized
2019-09-26 13:59:49,669 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], format? true
2019-09-26 13:59:49,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:49,669 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0
2019-09-26 13:59:49,670 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:49,670 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0 does not exist.
2019-09-26 13:59:49,670 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:49,670 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0
2019-09-26 13:59:49,671 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:49,671 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:49,671 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:49,672 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,672 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43980 (custom)
2019-09-26 13:59:49,672 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-7AEEAE3A7102: ConfigurationManager, init=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:49,672 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:49,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4] (custom)
2019-09-26 13:59:49,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:49,673 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:49,673 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 does not exist. Creating ...
2019-09-26 13:59:49,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,674 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0] (custom)
2019-09-26 13:59:49,675 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] returns group-7AEEAE3A7102:java.util.concurrent.CompletableFuture@154e15d0[Not completed]
2019-09-26 13:59:49,675 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] with BaseStateMachine:uninitialized
2019-09-26 13:59:49,675 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], format? true
2019-09-26 13:59:49,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:49,675 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1
2019-09-26 13:59:49,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:49,676 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1 does not exist.
2019-09-26 13:59:49,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:49,676 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1
2019-09-26 13:59:49,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:49,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,676 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:49,676 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-7AEEAE3A7102: ConfigurationManager, init=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:49,676 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:49,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0] (custom)
2019-09-26 13:59:49,677 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 45319 (custom)
2019-09-26 13:59:49,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:49,677 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:49,677 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 does not exist. Creating ...
2019-09-26 13:59:49,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,677 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:49,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,678 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1] (custom)
2019-09-26 13:59:49,679 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] returns group-7AEEAE3A7102:java.util.concurrent.CompletableFuture@634c012e[Not completed]
2019-09-26 13:59:49,679 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] with BaseStateMachine:uninitialized
2019-09-26 13:59:49,679 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], format? true
2019-09-26 13:59:49,679 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2
2019-09-26 13:59:49,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:49,679 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2 does not exist.
2019-09-26 13:59:49,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:49,679 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2
2019-09-26 13:59:49,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:49,680 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:49,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:49,680 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:49,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,680 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43331 (custom)
2019-09-26 13:59:49,681 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-7AEEAE3A7102: ConfigurationManager, init=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:49,681 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:49,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1] (custom)
2019-09-26 13:59:49,681 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:49,681 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:49,681 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:49,682 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current
2019-09-26 13:59:49,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:49,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,682 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 does not exist. Creating ...
2019-09-26 13:59:49,682 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/sm
2019-09-26 13:59:49,682 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current
2019-09-26 13:59:49,682 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current
2019-09-26 13:59:49,683 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,683 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/sm
2019-09-26 13:59:49,682 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:49,683 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/sm
2019-09-26 13:59:49,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2] (custom)
2019-09-26 13:59:49,685 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] returns group-7AEEAE3A7102:java.util.concurrent.CompletableFuture@38637f24[Not completed]
2019-09-26 13:59:49,685 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-7AEEAE3A7102:[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] with BaseStateMachine:uninitialized
2019-09-26 13:59:49,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:49,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:49,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:49,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:49,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,686 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-7AEEAE3A7102: ConfigurationManager, init=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:49,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2] (custom)
2019-09-26 13:59:49,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:49,687 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 does not exist. Creating ...
2019-09-26 13:59:49,687 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,696 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:49,696 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 has been successfully formatted.
2019-09-26 13:59:49,696 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 has been successfully formatted.
2019-09-26 13:59:49,696 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 has been successfully formatted.
2019-09-26 13:59:49,696 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:49,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:49,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:49,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:49,696 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current
2019-09-26 13:59:49,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:49,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:49,697 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current
2019-09-26 13:59:49,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:49,698 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/sm
2019-09-26 13:59:49,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:49,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:49,698 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/sm
2019-09-26 13:59:49,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:49,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:49,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,699 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-7AEEAE3A7102-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:49,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,700 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-7AEEAE3A7102-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:49,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:49,700 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-7AEEAE3A7102-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:49,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:49,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:49,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:49,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:49,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:49,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:49,702 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:49,702 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-7AEEAE3A7102-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:49,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:49,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:49,703 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:49,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:49,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:49,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:49,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:49,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:49,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:49,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:49,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:49,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:49,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:49,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:49,708 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-7AEEAE3A7102-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:49,708 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:49,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:49,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:49,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:49,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:49,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:49,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:49,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:49,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:49,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:49,711 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-7AEEAE3A7102-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:49,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:49,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:49,712 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 has been successfully formatted.
2019-09-26 13:59:49,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:49,712 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102 has been successfully formatted.
2019-09-26 13:59:49,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:49,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:49,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:49,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:49,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:49,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:49,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:49,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:49,713 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-7AEEAE3A7102-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,713 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-7AEEAE3A7102-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:49,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:49,715 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-7AEEAE3A7102: start as a follower, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:49,715 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-7AEEAE3A7102: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:49,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:49,715 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 13:59:49,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:49,716 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:49,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:49,716 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:49,716 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s3
2019-09-26 13:59:49,716 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:49,716 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:49,716 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:49,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:49,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:49,717 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-7AEEAE3A7102-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:49,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:49,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:49,717 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:49,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:49,718 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-7AEEAE3A7102-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:49,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:49,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:49,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:49,724 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 13:59:49,725 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:46092
2019-09-26 13:59:49,725 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-7AEEAE3A7102: start as a follower, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,726 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-7AEEAE3A7102: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:49,726 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 13:59:49,727 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s4
2019-09-26 13:59:49,729 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 13:59:49,730 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:32970
2019-09-26 13:59:49,730 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-7AEEAE3A7102: start as a follower, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,731 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7AEEAE3A7102: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:49,731 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:49,731 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s0
2019-09-26 13:59:49,733 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:59:49,734 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:43980
2019-09-26 13:59:49,734 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-7AEEAE3A7102: start as a follower, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,735 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7AEEAE3A7102: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:49,735 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:49,735 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s1
2019-09-26 13:59:49,737 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:59:49,738 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:45319
2019-09-26 13:59:49,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-7AEEAE3A7102: start as a follower, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-7AEEAE3A7102: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:49,739 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:49,739 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s2
2019-09-26 13:59:49,742 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:59:49,742 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:43331
2019-09-26 13:59:49,743 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:49,743 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:49,744 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AEEAE3A7102:t0, leader=null, voted=null, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testRemovePeers$1(RaftReconfigurationBaseTest.java:97)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRemovePeers(RaftReconfigurationBaseTest.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:49,877 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-7AEEAE3A7102-FollowerState: change to CANDIDATE, lastRpcTime:161ms, electionTimeout:161ms
2019-09-26 13:59:49,878 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 13:59:49,878 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-7AEEAE3A7102: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:49,878 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 13:59:49,893 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-7AEEAE3A7102-LeaderElection8: begin an election at term 1 for -1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-7AEEAE3A7102: receive requestVote(s3, group-7AEEAE3A7102, 1, (t:0, i:0))
2019-09-26 13:59:49,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-7AEEAE3A7102: receive requestVote(s3, group-7AEEAE3A7102, 1, (t:0, i:0))
2019-09-26 13:59:49,902 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7AEEAE3A7102: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 13:59:49,902 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-7AEEAE3A7102: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 13:59:49,902 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-7AEEAE3A7102: receive requestVote(s3, group-7AEEAE3A7102, 1, (t:0, i:0))
2019-09-26 13:59:49,902 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:49,902 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-7AEEAE3A7102: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 13:59:49,902 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 13:59:49,903 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:49,903 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-7AEEAE3A7102-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,902 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:49,902 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-7AEEAE3A7102: receive requestVote(s3, group-7AEEAE3A7102, 1, (t:0, i:0))
2019-09-26 13:59:49,903 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-7AEEAE3A7102-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,903 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:49,903 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-7AEEAE3A7102-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,903 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 13:59:49,903 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-7AEEAE3A7102: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 13:59:49,904 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:49,905 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:49,905 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-7AEEAE3A7102-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:49,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-7AEEAE3A7102 replies to vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-7AEEAE3A7102:t1, leader=null, voted=s3, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-7AEEAE3A7102 replies to vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-7AEEAE3A7102:t1, leader=null, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-7AEEAE3A7102 replies to vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-7AEEAE3A7102:t1, leader=null, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-7AEEAE3A7102 replies to vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-7AEEAE3A7102:t1, leader=null, voted=s3, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,919 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-7AEEAE3A7102-LeaderElection8: Election PASSED; received 2 response(s) [s3<-s4#0:OK-t1, s3<-s2#0:OK-t1] and 0 exception(s); s3@group-7AEEAE3A7102:t1, leader=null, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:49,920 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 13:59:49,920 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-7AEEAE3A7102: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 13:59:49,920 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-7AEEAE3A7102: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 223ms
2019-09-26 13:59:49,920 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 13:59:49,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:59:49,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:59:49,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:59:49,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:59:49,922 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:59:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,926 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:49,927 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:49,927 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,927 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,927 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:49,928 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,928 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:49,928 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:49,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:49,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,930 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:49,930 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:49,930 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,930 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,931 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:49,931 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:49,931 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:49,931 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:49,931 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:49,932 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:49,932 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderState
2019-09-26 13:59:49,933 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-7AEEAE3A7102-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:49,934 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-7AEEAE3A7102: set configuration 0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 0
2019-09-26 13:59:49,937 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-7AEEAE3A7102: change Leader from null to s3 at term 1 for appendEntries, leader elected after 240ms
2019-09-26 13:59:49,937 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-7AEEAE3A7102: change Leader from null to s3 at term 1 for appendEntries, leader elected after 225ms
2019-09-26 13:59:49,937 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-7AEEAE3A7102: change Leader from null to s3 at term 1 for appendEntries, leader elected after 241ms
2019-09-26 13:59:49,938 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-7AEEAE3A7102: change Leader from null to s3 at term 1 for appendEntries, leader elected after 225ms
2019-09-26 13:59:49,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:49,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-7AEEAE3A7102: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:49,942 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-7AEEAE3A7102: set configuration 0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 0
2019-09-26 13:59:49,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7AEEAE3A7102: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:49,943 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-7AEEAE3A7102: set configuration 0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 0
2019-09-26 13:59:49,943 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-7AEEAE3A7102-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:49,942 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:49,943 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-7AEEAE3A7102-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:49,943 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-7AEEAE3A7102: set configuration 0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 0
2019-09-26 13:59:49,944 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-7AEEAE3A7102: set configuration 0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 0
2019-09-26 13:59:49,944 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-7AEEAE3A7102-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:49,945 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-7AEEAE3A7102-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:50,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-7AEEAE3A7102-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s1/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current/log_inprogress_0
2019-09-26 13:59:50,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-7AEEAE3A7102-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s0/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current/log_inprogress_0
2019-09-26 13:59:50,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-7AEEAE3A7102-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s4/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current/log_inprogress_0
2019-09-26 13:59:50,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-7AEEAE3A7102-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s3/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current/log_inprogress_0
2019-09-26 13:59:50,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-7AEEAE3A7102-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc29959d14/s2/aa577dd8-a8e2-4bb7-81ef-7aeeae3a7102/current/log_inprogress_0
2019-09-26 13:59:50,195 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:50,199 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,200 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:50,200 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:50,200 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:50,201 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:50,208 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s3@group-7AEEAE3A7102: receive setConfiguration SetConfigurationRequest:client-724A7BD1B312->s3@group-7AEEAE3A7102, cid=2, seq=0, RW, null, peers:[s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,208 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s3@group-7AEEAE3A7102-LeaderState: startSetConfiguration SetConfigurationRequest:client-724A7BD1B312->s3@group-7AEEAE3A7102, cid=2, seq=0, RW, null, peers:[s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,213 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-7AEEAE3A7102: set configuration 1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] at 1
2019-09-26 13:59:50,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:50,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:50,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:50,216 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-7AEEAE3A7102: set configuration 1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] at 1
2019-09-26 13:59:50,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:50,216 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-7AEEAE3A7102: set configuration 1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] at 1
2019-09-26 13:59:50,216 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-7AEEAE3A7102: set configuration 1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] at 1
2019-09-26 13:59:50,217 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-7AEEAE3A7102: set configuration 1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] at 1
2019-09-26 13:59:50,230 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s2#5:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:50,230 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s4#5:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:50,231 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s1#5:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:50,231 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s0#5:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:50,234 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-7AEEAE3A7102->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:50,234 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-7AEEAE3A7102->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:50,234 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-7AEEAE3A7102: set configuration 3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 3
2019-09-26 13:59:50,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s4:c-1, s0:c0, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:50,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s4:c-1, s0:c0, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:50,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:50,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:50,236 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s3->s0#6-t1, previous=(t:1, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:50,236 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#6-t1, previous=(t:1, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:50,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:2), 1, false, commits[s3:c1, s1:c0, s2:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 13:59:50,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:2), 1, false, commits[s3:c1, s1:c0, s2:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 13:59:50,236 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-7AEEAE3A7102: set configuration 3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 3
2019-09-26 13:59:50,236 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-7AEEAE3A7102: set configuration 3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null at 3
2019-09-26 13:59:50,236 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-7AEEAE3A7102->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:50,237 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-7AEEAE3A7102->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:50,238 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-7AEEAE3A7102->s0: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:50,238 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-7AEEAE3A7102->s4: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:50,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s2#6:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:50,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s0#6:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:50,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s1#6:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:50,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s4#6:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:50,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s2#7:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:50,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s1#7:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:50,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:3), 3, false, commits[s3:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:50,245 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: receive appendEntries(s3, 1, (t:1, i:3), 3, false, commits[s3:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:50,246 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:50,248 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], deadPeers=null, printing ALL groups
  s3:  RUNNING    LEADER s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:50,249 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:50,250 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s4@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] RUNNING
2019-09-26 13:59:50,250 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testRemovePeers$1(RaftReconfigurationBaseTest.java:107)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRemovePeers(RaftReconfigurationBaseTest.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:50,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s1#8:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:50,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-7AEEAE3A7102: succeeded to handle AppendEntries. Reply: s3<-s2#8:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:50,601 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-7AEEAE3A7102-FollowerState: change to CANDIDATE, lastRpcTime:361ms, electionTimeout:252ms
2019-09-26 13:59:50,601 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:50,602 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-7AEEAE3A7102: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:59:50,602 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:59:50,602 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-7AEEAE3A7102: change Leader from s3 to null at term 1 for initElection
2019-09-26 13:59:50,616 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-7AEEAE3A7102-LeaderElection9: begin an election at term 2 for 1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,635 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-7AEEAE3A7102-FollowerState: change to CANDIDATE, lastRpcTime:394ms, electionTimeout:152ms
2019-09-26 13:59:50,638 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 13:59:50,639 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-7AEEAE3A7102: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:59:50,642 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 13:59:50,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-7AEEAE3A7102: receive requestVote(s0, group-7AEEAE3A7102, 2, (t:1, i:2))
2019-09-26 13:59:50,643 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-7AEEAE3A7102 replies to vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,644 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-7AEEAE3A7102: receive requestVote(s0, group-7AEEAE3A7102, 2, (t:1, i:2))
2019-09-26 13:59:50,644 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-7AEEAE3A7102: change Leader from s3 to null at term 1 for initElection
2019-09-26 13:59:50,644 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-7AEEAE3A7102: receive requestVote(s0, group-7AEEAE3A7102, 2, (t:1, i:2))
2019-09-26 13:59:50,645 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-7AEEAE3A7102 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:50,644 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-7AEEAE3A7102: receive requestVote(s0, group-7AEEAE3A7102, 2, (t:1, i:2))
2019-09-26 13:59:50,646 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-7AEEAE3A7102 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:50,649 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-7AEEAE3A7102 replies to vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:50,654 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-7AEEAE3A7102-LeaderElection9: Election SHUTDOWN; received 4 response(s) [s0<-s3#0:FAIL-t1, s0<-s4#0:FAIL-t1, s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-7AEEAE3A7102:t2, leader=null, voted=s0, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,654 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s0@group-7AEEAE3A7102-LeaderElection9 received shutdown response when requesting votes.
2019-09-26 13:59:50,657 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:59:50,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-7AEEAE3A7102: shutdown
2019-09-26 13:59:50,657 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s0
2019-09-26 13:59:50,658 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:59:50,658 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-7AEEAE3A7102-StateMachineUpdater: set stopIndex = 1
2019-09-26 13:59:50,659 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-7AEEAE3A7102: closes. applyIndex: 1
2019-09-26 13:59:50,659 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-7AEEAE3A7102-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:50,660 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-7AEEAE3A7102-LeaderElection10: begin an election at term 2 for 1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,661 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-7AEEAE3A7102-SegmentedRaftLogWorker close()
2019-09-26 13:59:50,662 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 43980 now
2019-09-26 13:59:50,678 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 43980 successfully
2019-09-26 13:59:50,685 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-7AEEAE3A7102: receive requestVote(s4, group-7AEEAE3A7102, 2, (t:1, i:2))
2019-09-26 13:59:50,686 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-7AEEAE3A7102 replies to vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:50,686 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-7AEEAE3A7102: receive requestVote(s4, group-7AEEAE3A7102, 2, (t:1, i:2))
2019-09-26 13:59:50,687 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-7AEEAE3A7102 replies to vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:50,690 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-7AEEAE3A7102-LeaderElection10: Election SHUTDOWN; received 1 response(s) [s4<-s3#0:FAIL-t1] and 0 exception(s); s4@group-7AEEAE3A7102:t2, leader=null, voted=s4, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331]
2019-09-26 13:59:50,690 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s4@group-7AEEAE3A7102-LeaderElection10 received shutdown response when requesting votes.
2019-09-26 13:59:50,692 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 13:59:50,693 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-7AEEAE3A7102: shutdown
2019-09-26 13:59:50,693 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s4
2019-09-26 13:59:50,693 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 13:59:50,693 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-7AEEAE3A7102-StateMachineUpdater: set stopIndex = 1
2019-09-26 13:59:50,694 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-7AEEAE3A7102: closes. applyIndex: 1
2019-09-26 13:59:50,695 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-7AEEAE3A7102-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:50,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-7AEEAE3A7102: receive requestVote(s4, group-7AEEAE3A7102, 2, (t:1, i:2))
2019-09-26 13:59:50,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-7AEEAE3A7102 replies to vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null
2019-09-26 13:59:50,697 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-7AEEAE3A7102-SegmentedRaftLogWorker close()
2019-09-26 13:59:50,698 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 32970 now
2019-09-26 13:59:50,703 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 32970 successfully
2019-09-26 13:59:51,452 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], deadPeers=null, printing ALL groups
  s3:  RUNNING    LEADER s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s4:   CLOSED CANDIDATE s4@group-7AEEAE3A7102:t2, leader=null, voted=s4, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:CLOSED:c1, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] CLOSED
  s0:   CLOSED CANDIDATE s0@group-7AEEAE3A7102:t2, leader=null, voted=s0, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:CLOSED:c1, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:51,453 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:51,453 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s4@group-7AEEAE3A7102:t2, leader=null, voted=s4, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:CLOSED:c1, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] CLOSED
2019-09-26 13:59:51,453 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s0@group-7AEEAE3A7102:t2, leader=null, voted=s0, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:CLOSED:c1, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] CLOSED
2019-09-26 13:59:51,454 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:51,454 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:51,454 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:59:51,454 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:59:51,454 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 13:59:51,455 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:59:51,455 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:59:51,455 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s3@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s4:   CLOSED CANDIDATE s4@group-7AEEAE3A7102:t2, leader=null, voted=s4, raftlog=s4@group-7AEEAE3A7102-SegmentedRaftLog:CLOSED:c1, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] CLOSED
  s0:   CLOSED CANDIDATE s0@group-7AEEAE3A7102:t2, leader=null, voted=s0, raftlog=s0@group-7AEEAE3A7102-SegmentedRaftLog:CLOSED:c1, conf=1: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=[s3:0.0.0.0:46092, s4:0.0.0.0:32970, s0:0.0.0.0:43980, s1:0.0.0.0:45319, s2:0.0.0.0:43331] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s1@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AEEAE3A7102:t1, leader=s3, voted=s3, raftlog=s2@group-7AEEAE3A7102-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:46092, s1:0.0.0.0:45319, s2:0.0.0.0:43331], old=null RUNNING
2019-09-26 13:59:51,457 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 13:59:51,458 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:59:51,458 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-7AEEAE3A7102: shutdown
2019-09-26 13:59:51,459 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:59:51,459 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-7AEEAE3A7102: shutdown
2019-09-26 13:59:51,459 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-7AEEAE3A7102: shutdown
2019-09-26 13:59:51,459 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s3
2019-09-26 13:59:51,460 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s2
2019-09-26 13:59:51,460 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AEEAE3A7102,id=s1
2019-09-26 13:59:51,460 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:51,460 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s3: shutdown LeaderState
2019-09-26 13:59:51,461 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-7AEEAE3A7102-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:51,461 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s3@group-7AEEAE3A7102-PendingRequests: sendNotLeaderResponses
2019-09-26 13:59:51,461 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-7AEEAE3A7102-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:51,460 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:51,462 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-7AEEAE3A7102: closes. applyIndex: 4
2019-09-26 13:59:51,462 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-7AEEAE3A7102-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:51,463 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-7AEEAE3A7102: closes. applyIndex: 4
2019-09-26 13:59:51,461 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-7AEEAE3A7102->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:51,461 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-7AEEAE3A7102->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:51,463 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-7AEEAE3A7102-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:51,462 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-7AEEAE3A7102-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:51,462 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-7AEEAE3A7102-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:51,462 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-7AEEAE3A7102-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:51,464 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-7AEEAE3A7102: closes. applyIndex: 4
2019-09-26 13:59:51,464 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s3->s1#22-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 13:59:51,464 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-7AEEAE3A7102-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:51,464 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s3->s2#22-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 13:59:51,465 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-7AEEAE3A7102-SegmentedRaftLogWorker close()
2019-09-26 13:59:51,466 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-7AEEAE3A7102->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:51,466 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-7AEEAE3A7102->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:51,466 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-7AEEAE3A7102-SegmentedRaftLogWorker close()
2019-09-26 13:59:51,466 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 46092 now
2019-09-26 13:59:51,467 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-7AEEAE3A7102-SegmentedRaftLogWorker close()
2019-09-26 13:59:51,467 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-7AEEAE3A7102->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 13:59:51,467 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 43331 now
2019-09-26 13:59:51,467 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 45319 now
2019-09-26 13:59:51,467 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 46092 successfully
2019-09-26 13:59:51,468 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 45319 successfully
2019-09-26 13:59:51,468 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 43331 successfully
2019-09-26 13:59:51,468 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-7AEEAE3A7102->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 13:59:51,469 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 13:59:51,470 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:59:51,470 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:59:51,472 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 13:59:51,473 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:51,473 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:59:51,474 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:59:51,474 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 13:59:51,474 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:59:51,474 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:59:51,474 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:59:51,474 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], format? true
2019-09-26 13:59:51,475 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3
2019-09-26 13:59:51,475 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3 does not exist.
2019-09-26 13:59:51,475 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3
2019-09-26 13:59:51,476 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:51,476 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:51,476 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33558 (custom)
2019-09-26 13:59:51,477 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:51,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,477 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:51,478 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,478 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3] (custom)
2019-09-26 13:59:51,479 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] returns group-8D7E139F2416:java.util.concurrent.CompletableFuture@51c69aa7[Not completed]
2019-09-26 13:59:51,480 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] with BaseStateMachine:uninitialized
2019-09-26 13:59:51,480 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], format? true
2019-09-26 13:59:51,480 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:51,480 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4
2019-09-26 13:59:51,481 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:51,481 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4 does not exist.
2019-09-26 13:59:51,481 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4
2019-09-26 13:59:51,481 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:51,481 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:51,482 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:51,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,482 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:51,482 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-8D7E139F2416: ConfigurationManager, init=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:51,482 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44094 (custom)
2019-09-26 13:59:51,483 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3] (custom)
2019-09-26 13:59:51,483 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:51,483 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:51,483 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,483 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 does not exist. Creating ...
2019-09-26 13:59:51,484 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:51,484 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,484 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,485 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4] (custom)
2019-09-26 13:59:51,485 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] returns group-8D7E139F2416:java.util.concurrent.CompletableFuture@51b6cf51[Not completed]
2019-09-26 13:59:51,485 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] with BaseStateMachine:uninitialized
2019-09-26 13:59:51,485 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], format? true
2019-09-26 13:59:51,486 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:51,486 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0
2019-09-26 13:59:51,486 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:51,487 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0 does not exist.
2019-09-26 13:59:51,487 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0
2019-09-26 13:59:51,487 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:51,487 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:51,487 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:51,487 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,487 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:51,488 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-8D7E139F2416: ConfigurationManager, init=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:51,488 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 36190 (custom)
2019-09-26 13:59:51,488 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:51,488 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4] (custom)
2019-09-26 13:59:51,488 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,489 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:51,489 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:51,489 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 does not exist. Creating ...
2019-09-26 13:59:51,489 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,490 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,490 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0] (custom)
2019-09-26 13:59:51,491 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] returns group-8D7E139F2416:java.util.concurrent.CompletableFuture@3253ff1a[Not completed]
2019-09-26 13:59:51,491 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] with BaseStateMachine:uninitialized
2019-09-26 13:59:51,491 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], format? true
2019-09-26 13:59:51,491 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:51,491 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1
2019-09-26 13:59:51,492 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:51,492 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1 does not exist.
2019-09-26 13:59:51,492 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:51,492 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1
2019-09-26 13:59:51,492 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:51,493 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,493 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:51,493 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-8D7E139F2416: ConfigurationManager, init=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:51,493 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:51,493 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0] (custom)
2019-09-26 13:59:51,493 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40356 (custom)
2019-09-26 13:59:51,494 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:51,494 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:51,494 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 does not exist. Creating ...
2019-09-26 13:59:51,494 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,494 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:51,495 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,495 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,495 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1] (custom)
2019-09-26 13:59:51,496 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] returns group-8D7E139F2416:java.util.concurrent.CompletableFuture@1908e6d[Not completed]
2019-09-26 13:59:51,496 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] with BaseStateMachine:uninitialized
2019-09-26 13:59:51,496 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], format? true
2019-09-26 13:59:51,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:51,497 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2
2019-09-26 13:59:51,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:51,497 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2 does not exist.
2019-09-26 13:59:51,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:51,497 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2
2019-09-26 13:59:51,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:51,498 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,498 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:51,498 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-8D7E139F2416: ConfigurationManager, init=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:51,498 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:51,498 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1] (custom)
2019-09-26 13:59:51,499 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42205 (custom)
2019-09-26 13:59:51,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:51,499 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:51,499 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 does not exist. Creating ...
2019-09-26 13:59:51,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,500 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:51,500 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:51,500 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:51,500 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current
2019-09-26 13:59:51,500 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current
2019-09-26 13:59:51,500 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,500 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:51,501 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/sm
2019-09-26 13:59:51,501 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current
2019-09-26 13:59:51,501 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/sm
2019-09-26 13:59:51,502 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/sm
2019-09-26 13:59:51,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2] (custom)
2019-09-26 13:59:51,503 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] returns group-8D7E139F2416:java.util.concurrent.CompletableFuture@3bb8e449[Not completed]
2019-09-26 13:59:51,503 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] with BaseStateMachine:uninitialized
2019-09-26 13:59:51,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:51,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:51,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:51,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:51,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,505 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-8D7E139F2416: ConfigurationManager, init=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:51,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2] (custom)
2019-09-26 13:59:51,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:51,506 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 does not exist. Creating ...
2019-09-26 13:59:51,506 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,514 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:51,514 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 has been successfully formatted.
2019-09-26 13:59:51,514 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 has been successfully formatted.
2019-09-26 13:59:51,514 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 has been successfully formatted.
2019-09-26 13:59:51,514 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:51,515 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:51,515 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:51,515 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:51,515 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current
2019-09-26 13:59:51,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:51,516 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/sm
2019-09-26 13:59:51,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:51,515 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:51,515 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current
2019-09-26 13:59:51,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:51,517 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/sm
2019-09-26 13:59:51,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:51,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:51,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,518 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,518 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,518 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:51,518 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,518 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-8D7E139F2416-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,518 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,519 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:51,519 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:51,519 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:51,519 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:51,519 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,519 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-8D7E139F2416-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:51,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:51,520 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-8D7E139F2416-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:51,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:51,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:51,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:51,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:51,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:51,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:51,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:51,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:51,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,522 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-8D7E139F2416-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:51,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:51,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:51,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:51,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:51,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:51,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:51,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:51,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:51,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:51,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:51,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:51,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:51,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:51,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:51,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:51,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:51,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:51,525 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-8D7E139F2416-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:51,525 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-8D7E139F2416-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:51,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:51,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:51,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:51,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:51,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:51,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:51,530 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-8D7E139F2416: start as a follower, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,530 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-8D7E139F2416: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:51,530 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 has been successfully formatted.
2019-09-26 13:59:51,530 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 has been successfully formatted.
2019-09-26 13:59:51,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:51,531 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 13:59:51,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:51,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:51,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:51,532 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s3
2019-09-26 13:59:51,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:51,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:51,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:51,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,533 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-8D7E139F2416-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:51,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:51,534 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-8D7E139F2416-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:51,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:51,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:51,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:51,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:51,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:51,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:51,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:51,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:51,536 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 13:59:51,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:51,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:51,536 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:51,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:51,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:51,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:51,538 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:33558
2019-09-26 13:59:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:51,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:51,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:51,539 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-8D7E139F2416: start as a follower, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-8D7E139F2416-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:51,539 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-8D7E139F2416: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:51,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-8D7E139F2416-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:51,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:51,539 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 13:59:51,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:51,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:51,540 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s4
2019-09-26 13:59:51,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:51,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:51,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:51,545 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 13:59:51,546 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:44094
2019-09-26 13:59:51,547 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-8D7E139F2416: start as a follower, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,547 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8D7E139F2416: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:51,547 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:51,548 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s0
2019-09-26 13:59:51,551 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:59:51,552 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:36190
2019-09-26 13:59:51,552 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-8D7E139F2416: start as a follower, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,552 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-8D7E139F2416: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:51,552 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:51,553 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s1
2019-09-26 13:59:51,555 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:59:51,556 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:40356
2019-09-26 13:59:51,557 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-8D7E139F2416: start as a follower, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,557 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-8D7E139F2416: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:51,557 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:51,558 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s2
2019-09-26 13:59:51,561 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:59:51,563 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:42205
2019-09-26 13:59:51,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:51,564 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:51,564 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D7E139F2416:t0, leader=null, voted=null, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:125)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testAddRemovePeers$2(RaftReconfigurationBaseTest.java:116)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testAddRemovePeers(RaftReconfigurationBaseTest.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:51,688 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-8D7E139F2416-FollowerState: change to CANDIDATE, lastRpcTime:157ms, electionTimeout:156ms
2019-09-26 13:59:51,689 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 13:59:51,689 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-8D7E139F2416: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:51,689 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 13:59:51,704 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-8D7E139F2416-LeaderElection11: begin an election at term 1 for -1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,708 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-8D7E139F2416-FollowerState: change to CANDIDATE, lastRpcTime:160ms, electionTimeout:160ms
2019-09-26 13:59:51,708 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:51,708 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8D7E139F2416: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:51,708 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-8D7E139F2416-FollowerState: change to CANDIDATE, lastRpcTime:168ms, electionTimeout:168ms
2019-09-26 13:59:51,709 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:59:51,709 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 13:59:51,709 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-8D7E139F2416: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:51,709 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 13:59:51,720 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-8D7E139F2416: receive requestVote(s3, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,720 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-8D7E139F2416: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 13:59:51,721 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-8D7E139F2416-LeaderElection13: begin an election at term 1 for -1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,722 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-8D7E139F2416-LeaderElection12: begin an election at term 1 for -1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,721 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:51,722 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-8D7E139F2416: receive requestVote(s3, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,722 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-8D7E139F2416: receive requestVote(s3, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,723 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:51,723 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-8D7E139F2416: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-26 13:59:51,723 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-8D7E139F2416 replies to vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-8D7E139F2416:t1, leader=null, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,724 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-8D7E139F2416: receive requestVote(s3, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,724 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:51,726 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-8D7E139F2416 replies to vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-8D7E139F2416:t1, leader=null, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,727 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-8D7E139F2416-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:51,727 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:51,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-8D7E139F2416 replies to vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-8D7E139F2416 replies to vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-8D7E139F2416:t1, leader=null, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,750 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,751 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-8D7E139F2416 replies to vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,753 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,758 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,758 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,758 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-8D7E139F2416 replies to vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-8D7E139F2416:t1, leader=null, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,759 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 1, (t:0, i:0))
2019-09-26 13:59:51,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-8D7E139F2416 replies to vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-8D7E139F2416 replies to vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-8D7E139F2416 replies to vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-8D7E139F2416 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,835 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-8D7E139F2416 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,836 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-8D7E139F2416 replies to vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,844 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-8D7E139F2416-LeaderElection13: Election REJECTED; received 4 response(s) [s4<-s3#0:FAIL-t1, s4<-s0#0:FAIL-t1, s4<-s1#0:FAIL-t1, s4<-s2#0:FAIL-t1] and 0 exception(s); s4@group-8D7E139F2416:t1, leader=null, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,844 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-8D7E139F2416-LeaderElection11: Election PASSED; received 4 response(s) [s3<-s4#0:FAIL-t1, s3<-s0#0:FAIL-t1, s3<-s1#0:OK-t1, s3<-s2#0:OK-t1] and 0 exception(s); s3@group-8D7E139F2416:t1, leader=null, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,844 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-8D7E139F2416: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:51,845 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 13:59:51,847 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 13:59:51,848 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-8D7E139F2416: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 13:59:51,848 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 13:59:51,848 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-8D7E139F2416-LeaderElection12: Election REJECTED; received 4 response(s) [s0<-s3#0:FAIL-t1, s0<-s4#0:FAIL-t1, s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-8D7E139F2416:t1, leader=null, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:51,848 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-8D7E139F2416: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 333ms
2019-09-26 13:59:51,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8D7E139F2416: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 13:59:51,849 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 13:59:51,850 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:59:51,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:59:51,853 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:51,853 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:59:51,854 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:59:51,855 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:59:51,855 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:59:51,859 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:51,859 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,859 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:51,860 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:51,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:51,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:51,861 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:51,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,862 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:51,862 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,862 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:51,862 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:51,863 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,863 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,863 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:51,863 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:51,864 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:51,864 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:51,864 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:51,864 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:51,865 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderState
2019-09-26 13:59:51,865 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-8D7E139F2416-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:51,868 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-8D7E139F2416: set configuration 0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 0
2019-09-26 13:59:51,872 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-8D7E139F2416: change Leader from null to s3 at term 1 for appendEntries, leader elected after 341ms
2019-09-26 13:59:51,872 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-8D7E139F2416: change Leader from null to s3 at term 1 for appendEntries, leader elected after 341ms
2019-09-26 13:59:51,872 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-8D7E139F2416: change Leader from null to s3 at term 1 for appendEntries, leader elected after 357ms
2019-09-26 13:59:51,873 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-8D7E139F2416: change Leader from null to s3 at term 1 for appendEntries, leader elected after 358ms
2019-09-26 13:59:51,878 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8D7E139F2416: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:51,878 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-8D7E139F2416: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:51,878 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:51,878 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:51,879 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-8D7E139F2416: set configuration 0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 0
2019-09-26 13:59:51,879 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-8D7E139F2416: set configuration 0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 0
2019-09-26 13:59:51,879 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-8D7E139F2416: set configuration 0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 0
2019-09-26 13:59:51,878 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-8D7E139F2416: set configuration 0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 0
2019-09-26 13:59:51,879 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-8D7E139F2416-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:51,879 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-8D7E139F2416-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:51,879 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-8D7E139F2416-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:51,880 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-8D7E139F2416-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:52,015 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8D7E139F2416:t1, leader=s3, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8D7E139F2416:t1, leader=s3, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:52,016 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s5, s6]
2019-09-26 13:59:52,017 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s5, group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], format? true
2019-09-26 13:59:52,017 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5
2019-09-26 13:59:52,018 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5 does not exist.
2019-09-26 13:59:52,018 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5
2019-09-26 13:59:52,019 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:52,020 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:52,020 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 34910 (custom)
2019-09-26 13:59:52,020 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:52,021 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:52,021 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:52,021 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:52,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5] (custom)
2019-09-26 13:59:52,023 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s5: addNew group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] returns group-8D7E139F2416:java.util.concurrent.CompletableFuture@637228e8[Not completed]
2019-09-26 13:59:52,023 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s5: new RaftServerImpl for group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] with BaseStateMachine:uninitialized
2019-09-26 13:59:52,023 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s6, group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], format? true
2019-09-26 13:59:52,025 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:52,025 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6
2019-09-26 13:59:52,026 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:52,026 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:52,026 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6 does not exist.
2019-09-26 13:59:52,026 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:52,026 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6
2019-09-26 13:59:52,027 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:52,028 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s5@group-8D7E139F2416: ConfigurationManager, init=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:52,028 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:52,028 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5] (custom)
2019-09-26 13:59:52,028 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:52,029 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:52,029 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40387 (custom)
2019-09-26 13:59:52,029 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 does not exist. Creating ...
2019-09-26 13:59:52,029 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:52,030 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:52,030 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:52,030 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:52,030 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:52,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6] (custom)
2019-09-26 13:59:52,036 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s6: addNew group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] returns group-8D7E139F2416:java.util.concurrent.CompletableFuture@58f2cc99[Not completed]
2019-09-26 13:59:52,036 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s6: new RaftServerImpl for group-8D7E139F2416:[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] with BaseStateMachine:uninitialized
2019-09-26 13:59:52,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:52,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:52,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:52,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:52,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:52,038 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s6@group-8D7E139F2416: ConfigurationManager, init=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:52,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6] (custom)
2019-09-26 13:59:52,039 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:52,039 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 does not exist. Creating ...
2019-09-26 13:59:52,040 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:52,359 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:52,359 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-8D7E139F2416-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s4/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current/log_inprogress_0
2019-09-26 13:59:52,359 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-8D7E139F2416-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s3/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current/log_inprogress_0
2019-09-26 13:59:52,359 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-8D7E139F2416-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s2/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current/log_inprogress_0
2019-09-26 13:59:52,359 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-8D7E139F2416-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s1/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current/log_inprogress_0
2019-09-26 13:59:52,359 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-8D7E139F2416-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s0/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current/log_inprogress_0
2019-09-26 13:59:52,359 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:52,360 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current
2019-09-26 13:59:52,361 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current
2019-09-26 13:59:52,361 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/sm
2019-09-26 13:59:52,361 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/sm
2019-09-26 13:59:52,367 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:52,368 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:52,368 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:52,368 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:52,369 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 has been successfully formatted.
2019-09-26 13:59:52,369 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416 has been successfully formatted.
2019-09-26 13:59:52,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:52,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:52,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:52,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:52,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:52,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:52,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:52,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:52,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:52,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:52,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:52,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:52,372 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s5@group-8D7E139F2416-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:52,372 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s6@group-8D7E139F2416-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416
2019-09-26 13:59:52,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:52,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:52,375 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:52,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:52,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:52,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:52,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:52,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:52,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:52,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:52,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:52,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:52,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:52,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:52,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:52,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:52,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:52,378 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s5@group-8D7E139F2416-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:52,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:52,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:52,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:52,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:52,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:52,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:52,379 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s6@group-8D7E139F2416-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:52,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:52,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:52,380 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:52,383 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s5@group-8D7E139F2416: start with initializing state, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,383 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-8D7E139F2416: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 13:59:52,384 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s5
2019-09-26 13:59:52,387 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s5: start RPC server
2019-09-26 13:59:52,388 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s5: GrpcService started, listening on 0.0.0.0/0.0.0.0:34910
2019-09-26 13:59:52,390 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s6@group-8D7E139F2416: start with initializing state, conf=-1: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,390 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-8D7E139F2416: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 13:59:52,391 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s6
2019-09-26 13:59:52,396 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s6: start RPC server
2019-09-26 13:59:52,398 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s6: GrpcService started, listening on 0.0.0.0/0.0.0.0:40387
2019-09-26 13:59:52,399 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,409 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s3@group-8D7E139F2416: receive setConfiguration SetConfigurationRequest:client-3D1C82CC5ADA->s3@group-8D7E139F2416, cid=3, seq=0, RW, null, peers:[s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,409 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s3@group-8D7E139F2416-LeaderState: startSetConfiguration SetConfigurationRequest:client-3D1C82CC5ADA->s3@group-8D7E139F2416, cid=3, seq=0, RW, null, peers:[s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:52,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:52,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:52,411 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:52,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:52,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:52,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:52,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:52,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:52,413 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:52,413 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:52,413 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:52,431 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-8D7E139F2416: change Leader from null to s3 at term 1 for appendEntries, leader elected after 61ms
2019-09-26 13:59:52,431 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-8D7E139F2416: change Leader from null to s3 at term 1 for appendEntries, leader elected after 61ms
2019-09-26 13:59:52,432 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s5@group-8D7E139F2416: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 13:59:52,432 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s6@group-8D7E139F2416: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 13:59:52,432 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s5@group-8D7E139F2416: inconsistency entries. Reply:s3<-s5#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 13:59:52,432 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s6@group-8D7E139F2416: inconsistency entries. Reply:s3<-s6#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 13:59:52,436 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s5: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 13:59:52,436 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s6: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 13:59:52,440 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: receive appendEntries(s3, 1, null, 0, true, commits[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1, s5:c-1, s6:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:52,440 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: receive appendEntries(s3, 1, null, 0, true, commits[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1, s5:c-1, s6:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:52,441 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-8D7E139F2416: set configuration 0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 0
2019-09-26 13:59:52,441 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-8D7E139F2416: set configuration 0: [s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 0
2019-09-26 13:59:52,441 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s5@group-8D7E139F2416-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:52,442 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s6@group-8D7E139F2416-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:52,554 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s6@group-8D7E139F2416-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s6/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current/log_inprogress_0
2019-09-26 13:59:52,554 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s5@group-8D7E139F2416-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc652cbcef/s5/e24b0c7e-4bf9-4756-acb9-8d7e139f2416/current/log_inprogress_0
2019-09-26 13:59:52,565 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s6#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 13:59:52,566 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s5#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 13:59:52,672 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-8D7E139F2416: set configuration 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] at 1
2019-09-26 13:59:52,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:0), 0, true, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,675 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-8D7E139F2416: set configuration 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] at 1
2019-09-26 13:59:52,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:0), 0, true, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,676 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-8D7E139F2416: set configuration 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] at 1
2019-09-26 13:59:52,676 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-8D7E139F2416: set configuration 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] at 1
2019-09-26 13:59:52,675 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-8D7E139F2416: set configuration 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] at 1
2019-09-26 13:59:52,677 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-8D7E139F2416: set configuration 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] at 1
2019-09-26 13:59:52,677 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-8D7E139F2416: set configuration 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] at 1
2019-09-26 13:59:52,684 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s0#11:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:52,684 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s4#11:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:52,684 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s5#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:52,684 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s2#11:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:52,684 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s1#11:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:52,684 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s6#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:52,689 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-8D7E139F2416: set configuration 3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 3
2019-09-26 13:59:52,690 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#11-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: size=1, first=(t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,690 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s3->s0#11-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: size=1, first=(t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:52,690 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:52,690 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:52,690 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:52,691 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-8D7E139F2416->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:52,691 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:2), 1, false, commits[s3:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 13:59:52,691 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s5: start FollowerState
2019-09-26 13:59:52,692 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-8D7E139F2416: set configuration 3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 3
2019-09-26 13:59:52,691 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-8D7E139F2416->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:52,691 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s6: start FollowerState
2019-09-26 13:59:52,691 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:52,693 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:2), 1, false, commits[s3:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 13:59:52,692 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s0: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:52,694 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-8D7E139F2416: set configuration 3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 3
2019-09-26 13:59:52,694 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s4: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:52,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:2), 1, false, commits[s3:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 13:59:52,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:2), 1, false, commits[s3:c1, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 13:59:52,694 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-8D7E139F2416: set configuration 3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 3
2019-09-26 13:59:52,695 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-8D7E139F2416: set configuration 3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null at 3
2019-09-26 13:59:52,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s1#12:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:52,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s5#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:52,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s6#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:52,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s2#12:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:52,701 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s1#13:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:52,701 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s5#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:52,701 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s6#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:52,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s2#13:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:52,704 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:3), 3, false, commits[s3:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:52,704 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:3), 3, false, commits[s3:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:52,704 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:3), 3, false, commits[s3:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:52,704 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: receive appendEntries(s3, 1, (t:1, i:3), 3, false, commits[s3:c3, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:52,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:52,706 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], deadPeers=null, printing ALL groups
  s3:  RUNNING    LEADER s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8D7E139F2416:t1, leader=s3, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] RUNNING
  s5:  RUNNING  FOLLOWER s5@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s5@group-8D7E139F2416-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s6@group-8D7E139F2416-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8D7E139F2416:t1, leader=s3, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:52,707 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:52,707 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s4@group-8D7E139F2416:t1, leader=s3, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] RUNNING
2019-09-26 13:59:52,707 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:135)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testAddRemovePeers$2(RaftReconfigurationBaseTest.java:116)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testAddRemovePeers(RaftReconfigurationBaseTest.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:52,720 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s1#14:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:52,721 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s6#7:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:52,721 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s5#7:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:52,721 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-8D7E139F2416: succeeded to handle AppendEntries. Reply: s3<-s2#14:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:52,883 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-8D7E139F2416-FollowerState: change to CANDIDATE, lastRpcTime:199ms, electionTimeout:181ms
2019-09-26 13:59:52,883 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 13:59:52,883 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-8D7E139F2416: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:59:52,884 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 13:59:52,884 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-8D7E139F2416: change Leader from s3 to null at term 1 for initElection
2019-09-26 13:59:52,899 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-8D7E139F2416-LeaderElection14: begin an election at term 2 for 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,905 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,906 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-8D7E139F2416 replies to vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,908 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,908 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,908 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-8D7E139F2416 replies to vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,909 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-8D7E139F2416 replies to vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-8D7E139F2416:t1, leader=s3, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,909 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,909 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-8D7E139F2416 replies to vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,911 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,911 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-8D7E139F2416-LeaderElection14: Election SHUTDOWN; received 2 response(s) [s4<-s3#0:FAIL-t1, s4<-s0#0:FAIL-t1] and 0 exception(s); s4@group-8D7E139F2416:t2, leader=null, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,912 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-8D7E139F2416 replies to vote request: s4<-s5#0:FAIL-t1. Peer's state: s5@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s5@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,912 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s4@group-8D7E139F2416-LeaderElection14 received shutdown response when requesting votes.
2019-09-26 13:59:52,914 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 13:59:52,915 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-8D7E139F2416: shutdown
2019-09-26 13:59:52,915 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-8D7E139F2416: receive requestVote(s4, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,916 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s4
2019-09-26 13:59:52,916 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-8D7E139F2416 replies to vote request: s4<-s6#0:FAIL-t1. Peer's state: s6@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s6@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,916 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 13:59:52,917 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-8D7E139F2416-StateMachineUpdater: set stopIndex = 0
2019-09-26 13:59:52,917 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-8D7E139F2416: closes. applyIndex: 0
2019-09-26 13:59:52,917 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-8D7E139F2416-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:52,920 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-8D7E139F2416-SegmentedRaftLogWorker close()
2019-09-26 13:59:52,921 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 44094 now
2019-09-26 13:59:52,930 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 44094 successfully
2019-09-26 13:59:52,944 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-8D7E139F2416-FollowerState: change to CANDIDATE, lastRpcTime:260ms, electionTimeout:243ms
2019-09-26 13:59:52,944 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:52,944 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-8D7E139F2416: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:59:52,944 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:59:52,945 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-8D7E139F2416: change Leader from s3 to null at term 1 for initElection
2019-09-26 13:59:52,959 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-8D7E139F2416-LeaderElection15: begin an election at term 2 for 1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,965 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,965 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-8D7E139F2416 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,967 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-8D7E139F2416 replies to vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,968 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-8D7E139F2416-LeaderElection15 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 13:59:52,968 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,968 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-8D7E139F2416 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,968 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-8D7E139F2416-LeaderElection15: Election SHUTDOWN; received 2 response(s) [s0<-s3#0:FAIL-t1, s0<-s1#0:FAIL-t1] and 1 exception(s); s0@group-8D7E139F2416:t2, leader=null, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205]
2019-09-26 13:59:52,969 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 13:59:52,969 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s0@group-8D7E139F2416-LeaderElection15 received shutdown response when requesting votes.
2019-09-26 13:59:52,969 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:59:52,970 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-8D7E139F2416: shutdown
2019-09-26 13:59:52,970 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s0
2019-09-26 13:59:52,970 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:59:52,971 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-8D7E139F2416-StateMachineUpdater: set stopIndex = 0
2019-09-26 13:59:52,972 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-8D7E139F2416: closes. applyIndex: 0
2019-09-26 13:59:52,972 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,972 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-8D7E139F2416: receive requestVote(s0, group-8D7E139F2416, 2, (t:1, i:1))
2019-09-26 13:59:52,973 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-8D7E139F2416 replies to vote request: s0<-s5#0:FAIL-t1. Peer's state: s5@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s5@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,973 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-8D7E139F2416 replies to vote request: s0<-s6#0:FAIL-t1. Peer's state: s6@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s6@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null
2019-09-26 13:59:52,972 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-8D7E139F2416-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:52,975 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-8D7E139F2416-SegmentedRaftLogWorker close()
2019-09-26 13:59:52,977 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 36190 now
2019-09-26 13:59:52,982 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 36190 successfully
2019-09-26 13:59:53,909 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], deadPeers=null, printing ALL groups
  s3:  RUNNING    LEADER s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s4:   CLOSED CANDIDATE s4@group-8D7E139F2416:t2, leader=null, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:CLOSED:c0, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] CLOSED
  s5:  RUNNING  FOLLOWER s5@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s5@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s6@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-8D7E139F2416:t2, leader=null, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:CLOSED:c0, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:53,909 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:53,909 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s4@group-8D7E139F2416:t2, leader=null, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:CLOSED:c0, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] CLOSED
2019-09-26 13:59:53,909 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s5@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s5@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:53,910 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s6@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s6@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:53,910 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s0@group-8D7E139F2416:t2, leader=null, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:CLOSED:c0, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] CLOSED
2019-09-26 13:59:53,910 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:53,910 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:53,910 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:59:53,910 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:59:53,910 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 13:59:53,911 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:59:53,911 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:59:53,911 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s3@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s4:   CLOSED CANDIDATE s4@group-8D7E139F2416:t2, leader=null, voted=s4, raftlog=s4@group-8D7E139F2416-SegmentedRaftLog:CLOSED:c0, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] CLOSED
  s5:  RUNNING  FOLLOWER s5@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s5@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-8D7E139F2416:t1, leader=s3, voted=null, raftlog=s6@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-8D7E139F2416:t2, leader=null, voted=s0, raftlog=s0@group-8D7E139F2416-SegmentedRaftLog:CLOSED:c0, conf=1: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=[s3:0.0.0.0:33558, s4:0.0.0.0:44094, s0:0.0.0.0:36190, s1:0.0.0.0:40356, s2:0.0.0.0:42205] CLOSED
  s1:  RUNNING  FOLLOWER s1@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s1@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D7E139F2416:t1, leader=s3, voted=s3, raftlog=s2@group-8D7E139F2416-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s3:0.0.0.0:33558, s5:0.0.0.0:34910, s6:0.0.0.0:40387, s1:0.0.0.0:40356, s2:0.0.0.0:42205], old=null RUNNING
2019-09-26 13:59:53,912 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 13:59:53,914 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-8D7E139F2416: shutdown
2019-09-26 13:59:53,914 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s5: close
2019-09-26 13:59:53,914 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:59:53,914 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s6: close
2019-09-26 13:59:53,914 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:59:53,916 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s6@group-8D7E139F2416: shutdown
2019-09-26 13:59:53,916 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-8D7E139F2416: shutdown
2019-09-26 13:59:53,915 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s3
2019-09-26 13:59:53,915 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s5@group-8D7E139F2416: shutdown
2019-09-26 13:59:53,917 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s3: shutdown LeaderState
2019-09-26 13:59:53,917 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s2
2019-09-26 13:59:53,917 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s6
2019-09-26 13:59:53,919 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s6: shutdown FollowerState
2019-09-26 13:59:53,917 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-8D7E139F2416: shutdown
2019-09-26 13:59:53,919 INFO  impl.FollowerState (FollowerState.java:run(117)) - s6@group-8D7E139F2416-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:53,919 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s6@group-8D7E139F2416-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:53,920 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s6@group-8D7E139F2416: closes. applyIndex: 4
2019-09-26 13:59:53,919 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s3@group-8D7E139F2416-PendingRequests: sendNotLeaderResponses
2019-09-26 13:59:53,919 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-8D7E139F2416->s6-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:53,919 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-8D7E139F2416->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:53,919 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-8D7E139F2416->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:53,919 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:53,918 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-8D7E139F2416->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:53,917 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s5
2019-09-26 13:59:53,922 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s3->s2#29-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 13:59:53,922 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-8D7E139F2416-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:53,922 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-8D7E139F2416-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:53,922 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s6: Completed APPEND_ENTRIES, lastRequest: s3->s6#22-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 13:59:53,921 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-8D7E139F2416-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:53,921 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s6@group-8D7E139F2416-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:53,920 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D7E139F2416,id=s1
2019-09-26 13:59:53,924 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-8D7E139F2416->s6-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:53,924 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-8D7E139F2416: closes. applyIndex: 4
2019-09-26 13:59:53,923 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-8D7E139F2416->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:53,923 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-8D7E139F2416: closes. applyIndex: 4
2019-09-26 13:59:53,923 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s3->s1#29-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 13:59:53,922 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#22-t1, previous=(t:1, i:4), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 13:59:53,922 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown FollowerState
2019-09-26 13:59:53,927 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 13:59:53,927 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-8D7E139F2416-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:53,926 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s6@group-8D7E139F2416-SegmentedRaftLogWorker close()
2019-09-26 13:59:53,926 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s6: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 13:59:53,925 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-8D7E139F2416-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:53,924 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:53,929 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s6: shutdown server with port 40387 now
2019-09-26 13:59:53,928 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-8D7E139F2416->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:53,927 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-8D7E139F2416->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:53,927 INFO  impl.FollowerState (FollowerState.java:run(117)) - s5@group-8D7E139F2416-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:53,927 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s5@group-8D7E139F2416-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:53,932 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-8D7E139F2416-SegmentedRaftLogWorker close()
2019-09-26 13:59:53,930 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s6: shutdown server with port 40387 successfully
2019-09-26 13:59:53,933 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 33558 now
2019-09-26 13:59:53,930 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-8D7E139F2416-SegmentedRaftLogWorker close()
2019-09-26 13:59:53,930 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-8D7E139F2416-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:53,930 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-8D7E139F2416-StateMachineUpdater: set stopIndex = 4
2019-09-26 13:59:53,935 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 42205 now
2019-09-26 13:59:53,935 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 13:59:53,934 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 33558 successfully
2019-09-26 13:59:53,933 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-8D7E139F2416->s5: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 13:59:53,932 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s5@group-8D7E139F2416: closes. applyIndex: 4
2019-09-26 13:59:53,935 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 42205 successfully
2019-09-26 13:59:53,935 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-8D7E139F2416: closes. applyIndex: 4
2019-09-26 13:59:53,936 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s5@group-8D7E139F2416-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:53,937 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-8D7E139F2416-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:53,939 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s5@group-8D7E139F2416-SegmentedRaftLogWorker close()
2019-09-26 13:59:53,939 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-8D7E139F2416-SegmentedRaftLogWorker close()
2019-09-26 13:59:53,940 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s5: shutdown server with port 34910 now
2019-09-26 13:59:53,940 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 40356 now
2019-09-26 13:59:53,941 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s5: shutdown server with port 34910 successfully
2019-09-26 13:59:53,941 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 40356 successfully
2019-09-26 13:59:53,941 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 13:59:53,942 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:59:53,942 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:59:53,943 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 13:59:53,944 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846]
2019-09-26 13:59:53,944 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:59:53,944 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:59:53,944 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 13:59:53,944 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:59:53,945 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:59:53,945 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:59:53,945 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], format? true
2019-09-26 13:59:53,945 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3
2019-09-26 13:59:53,945 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3 does not exist.
2019-09-26 13:59:53,945 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3
2019-09-26 13:59:53,946 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:53,946 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:53,946 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39987 (custom)
2019-09-26 13:59:53,947 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:53,947 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,947 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:53,947 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:53,948 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3] (custom)
2019-09-26 13:59:53,949 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] returns group-78BC12EA4E46:java.util.concurrent.CompletableFuture@2fb84531[Not completed]
2019-09-26 13:59:53,949 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] with BaseStateMachine:uninitialized
2019-09-26 13:59:53,949 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], format? true
2019-09-26 13:59:53,949 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:53,949 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4
2019-09-26 13:59:53,949 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:53,950 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4 does not exist.
2019-09-26 13:59:53,950 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:53,950 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4
2019-09-26 13:59:53,950 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:53,950 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:53,950 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:53,950 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-78BC12EA4E46: ConfigurationManager, init=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:53,951 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:53,951 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3] (custom)
2019-09-26 13:59:53,951 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42406 (custom)
2019-09-26 13:59:53,951 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:53,951 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:53,951 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46 does not exist. Creating ...
2019-09-26 13:59:53,951 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,952 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:53,952 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:53,952 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,952 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4] (custom)
2019-09-26 13:59:53,953 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] returns group-78BC12EA4E46:java.util.concurrent.CompletableFuture@61990f5c[Not completed]
2019-09-26 13:59:53,953 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] with BaseStateMachine:uninitialized
2019-09-26 13:59:53,953 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], format? true
2019-09-26 13:59:53,953 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:53,954 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0
2019-09-26 13:59:53,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:53,954 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0 does not exist.
2019-09-26 13:59:53,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:53,954 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0
2019-09-26 13:59:53,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:53,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:53,955 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:53,955 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-78BC12EA4E46: ConfigurationManager, init=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:53,955 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:53,955 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4] (custom)
2019-09-26 13:59:53,955 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38922 (custom)
2019-09-26 13:59:53,955 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:53,955 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:53,956 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46 does not exist. Creating ...
2019-09-26 13:59:53,956 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,956 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:53,956 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,956 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:53,957 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0] (custom)
2019-09-26 13:59:53,957 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] returns group-78BC12EA4E46:java.util.concurrent.CompletableFuture@4c9d175c[Not completed]
2019-09-26 13:59:53,957 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] with BaseStateMachine:uninitialized
2019-09-26 13:59:53,957 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], format? true
2019-09-26 13:59:53,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:53,958 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1
2019-09-26 13:59:53,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:53,958 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1 does not exist.
2019-09-26 13:59:53,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:53,958 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1
2019-09-26 13:59:53,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:53,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:53,959 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:53,959 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-78BC12EA4E46: ConfigurationManager, init=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:53,959 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:53,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0] (custom)
2019-09-26 13:59:53,959 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38148 (custom)
2019-09-26 13:59:53,959 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:53,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:53,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,960 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46 does not exist. Creating ...
2019-09-26 13:59:53,960 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:53,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:53,960 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1] (custom)
2019-09-26 13:59:53,961 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] returns group-78BC12EA4E46:java.util.concurrent.CompletableFuture@2f49eccd[Not completed]
2019-09-26 13:59:53,961 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] with BaseStateMachine:uninitialized
2019-09-26 13:59:53,961 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], format? true
2019-09-26 13:59:53,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:53,961 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2
2019-09-26 13:59:53,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:53,962 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2 does not exist.
2019-09-26 13:59:53,962 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2
2019-09-26 13:59:53,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:53,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:53,962 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:53,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:53,962 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:53,963 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-78BC12EA4E46: ConfigurationManager, init=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:53,963 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33846 (custom)
2019-09-26 13:59:53,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1] (custom)
2019-09-26 13:59:53,963 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:53,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:53,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,963 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46 does not exist. Creating ...
2019-09-26 13:59:53,964 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:53,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:53,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2] (custom)
2019-09-26 13:59:53,965 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] returns group-78BC12EA4E46:java.util.concurrent.CompletableFuture@57bea8f0[Not completed]
2019-09-26 13:59:53,965 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-78BC12EA4E46:[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] with BaseStateMachine:uninitialized
2019-09-26 13:59:53,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:53,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:53,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:53,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:53,965 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:53,966 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-78BC12EA4E46: ConfigurationManager, init=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:53,966 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2] (custom)
2019-09-26 13:59:53,966 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:53,966 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46 does not exist. Creating ...
2019-09-26 13:59:53,966 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,967 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,967 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:53,967 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:53,967 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:53,968 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current
2019-09-26 13:59:53,967 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current
2019-09-26 13:59:53,969 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/sm
2019-09-26 13:59:53,969 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current
2019-09-26 13:59:53,969 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/sm
2019-09-26 13:59:53,969 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/sm
2019-09-26 13:59:53,969 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:53,969 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:53,970 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current
2019-09-26 13:59:53,970 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current
2019-09-26 13:59:53,970 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/sm
2019-09-26 13:59:53,973 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/sm
2019-09-26 13:59:53,975 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46 has been successfully formatted.
2019-09-26 13:59:53,975 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46 has been successfully formatted.
2019-09-26 13:59:53,975 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46 has been successfully formatted.
2019-09-26 13:59:53,975 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:53,975 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:53,976 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:53,976 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:53,976 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:53,976 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:53,976 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,976 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:53,977 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,976 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:53,977 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:53,977 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:53,977 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-78BC12EA4E46-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,977 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46 has been successfully formatted.
2019-09-26 13:59:53,977 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,977 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46 has been successfully formatted.
2019-09-26 13:59:53,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:53,977 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:53,977 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:53,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:53,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:53,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:53,979 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-78BC12EA4E46-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:53,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:53,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:53,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:53,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:53,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:53,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:53,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:53,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:53,980 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-78BC12EA4E46-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:53,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:53,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:53,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:53,981 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-78BC12EA4E46-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:53,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:53,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:53,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:53,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:53,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:53,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:53,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:53,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:53,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:53,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:53,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:53,983 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:53,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:53,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:53,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:53,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:53,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:53,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:53,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:53,985 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:53,985 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:53,985 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:53,985 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:53,985 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,985 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:53,985 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:53,985 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-78BC12EA4E46-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46
2019-09-26 13:59:53,986 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:53,986 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:53,986 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:53,986 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:53,986 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:53,987 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:53,987 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:53,987 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:53,987 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:53,987 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:53,987 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:53,987 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:53,988 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:53,988 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:53,988 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:53,989 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-78BC12EA4E46: start as a follower, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:53,988 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:53,989 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-78BC12EA4E46: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:53,989 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:53,990 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 13:59:53,989 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:53,990 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:53,990 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:53,990 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s3
2019-09-26 13:59:53,990 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:53,991 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:53,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:53,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:53,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:53,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:53,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:53,991 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:53,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:53,992 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:53,992 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:53,992 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:53,995 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 13:59:53,997 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:39987
2019-09-26 13:59:53,998 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-78BC12EA4E46: start as a follower, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:53,998 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-78BC12EA4E46: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:53,998 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 13:59:53,998 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s4
2019-09-26 13:59:54,001 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 13:59:54,001 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:42406
2019-09-26 13:59:54,002 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-78BC12EA4E46: start as a follower, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,002 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-78BC12EA4E46: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:54,002 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:54,003 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s0
2019-09-26 13:59:54,005 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:59:54,006 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:38922
2019-09-26 13:59:54,006 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-78BC12EA4E46: start as a follower, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,006 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-78BC12EA4E46: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:54,006 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:54,007 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s1
2019-09-26 13:59:54,009 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:59:54,010 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:38148
2019-09-26 13:59:54,010 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-78BC12EA4E46: start as a follower, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,010 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-78BC12EA4E46: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:54,010 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:54,011 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s2
2019-09-26 13:59:54,013 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:59:54,013 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:33846
2019-09-26 13:59:54,014 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:54,014 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s4@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
2019-09-26 13:59:54,014 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s4@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s4@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-78BC12EA4E46:t0, leader=null, voted=null, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestRevertConfigurationChange(RaftReconfigurationBaseTest.java:488)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRevertConfigurationChange(RaftReconfigurationBaseTest.java:482)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:54,205 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-78BC12EA4E46-FollowerState: change to CANDIDATE, lastRpcTime:207ms, electionTimeout:207ms
2019-09-26 13:59:54,206 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 13:59:54,207 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-78BC12EA4E46: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:54,207 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 13:59:54,223 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-78BC12EA4E46-LeaderElection16: begin an election at term 1 for -1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-78BC12EA4E46: receive requestVote(s4, group-78BC12EA4E46, 1, (t:0, i:0))
2019-09-26 13:59:54,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-78BC12EA4E46: receive requestVote(s4, group-78BC12EA4E46, 1, (t:0, i:0))
2019-09-26 13:59:54,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-78BC12EA4E46: receive requestVote(s4, group-78BC12EA4E46, 1, (t:0, i:0))
2019-09-26 13:59:54,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-78BC12EA4E46: receive requestVote(s4, group-78BC12EA4E46, 1, (t:0, i:0))
2019-09-26 13:59:54,236 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-78BC12EA4E46: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 13:59:54,237 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 13:59:54,236 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-78BC12EA4E46: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 13:59:54,237 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:54,236 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-78BC12EA4E46: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 13:59:54,237 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:54,237 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:54,237 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:54,237 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 13:59:54,237 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-78BC12EA4E46: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 13:59:54,239 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:54,237 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:54,240 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:54,239 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:54,240 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:54,240 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:54,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-78BC12EA4E46 replies to vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-78BC12EA4E46:t1, leader=null, voted=s4, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-78BC12EA4E46 replies to vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-78BC12EA4E46:t1, leader=null, voted=s4, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-78BC12EA4E46 replies to vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-78BC12EA4E46:t1, leader=null, voted=s4, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,253 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-78BC12EA4E46 replies to vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-78BC12EA4E46:t1, leader=null, voted=s4, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,256 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-78BC12EA4E46-LeaderElection16: Election PASSED; received 2 response(s) [s4<-s3#0:OK-t1, s4<-s0#0:OK-t1] and 0 exception(s); s4@group-78BC12EA4E46:t1, leader=null, voted=s4, raftlog=s4@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:54,257 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 13:59:54,257 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-78BC12EA4E46: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 13:59:54,257 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-78BC12EA4E46: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 281ms
2019-09-26 13:59:54,257 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 13:59:54,257 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:59:54,258 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:59:54,258 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:59:54,258 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:59:54,258 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:59:54,261 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:54,261 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:54,261 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:54,261 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:54,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:54,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:54,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:54,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:54,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:54,263 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:54,263 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:54,263 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:54,263 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:54,263 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:54,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:54,264 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:54,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:54,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:54,264 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:54,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:54,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:54,265 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:54,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:54,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:54,266 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-26 13:59:54,266 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:54,268 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-78BC12EA4E46: set configuration 0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 0
2019-09-26 13:59:54,269 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-78BC12EA4E46: change Leader from null to s4 at term 1 for appendEntries, leader elected after 293ms
2019-09-26 13:59:54,269 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-78BC12EA4E46: change Leader from null to s4 at term 1 for appendEntries, leader elected after 293ms
2019-09-26 13:59:54,270 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-78BC12EA4E46: change Leader from null to s4 at term 1 for appendEntries, leader elected after 292ms
2019-09-26 13:59:54,270 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-78BC12EA4E46: change Leader from null to s4 at term 1 for appendEntries, leader elected after 292ms
2019-09-26 13:59:54,273 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-78BC12EA4E46: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:54,274 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-78BC12EA4E46: set configuration 0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 0
2019-09-26 13:59:54,274 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-78BC12EA4E46: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:54,274 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:54,274 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-78BC12EA4E46: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:54,274 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-78BC12EA4E46: set configuration 0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 0
2019-09-26 13:59:54,274 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-78BC12EA4E46: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:54,275 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-78BC12EA4E46: set configuration 0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 0
2019-09-26 13:59:54,275 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:54,275 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:54,275 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-78BC12EA4E46: set configuration 0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 0
2019-09-26 13:59:54,276 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:54,466 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-78BC12EA4E46:t1, leader=s4, voted=s4, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-78BC12EA4E46:t1, leader=s4, voted=s4, raftlog=s4@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-78BC12EA4E46:t1, leader=s4, voted=s4, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-78BC12EA4E46:t1, leader=s4, voted=s4, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-78BC12EA4E46:t1, leader=s4, voted=s4, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
2019-09-26 13:59:54,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0
2019-09-26 13:59:54,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0
2019-09-26 13:59:54,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0
2019-09-26 13:59:54,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0
2019-09-26 13:59:54,539 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0
2019-09-26 13:59:54,563 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s4<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:54,564 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s4<-s3#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:54,564 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s4<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:54,564 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s4<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:55,466 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestRevertConfigurationChange(500)) - start blocking the leader
2019-09-26 13:59:55,473 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s4
2019-09-26 13:59:55,479 WARN  grpc.TestRaftReconfigurationWithGrpc (JavaUtils.java:attempt(158)) - FAILED "confIndex", attempt #1/10: java.lang.Exception: ConfigurationEntry not found: last=0, sleep 500ms and then retry.
java.lang.Exception: ConfigurationEntry not found: last=0
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$runTestRevertConfigurationChange$12(RaftReconfigurationBaseTest.java:531)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestRevertConfigurationChange(RaftReconfigurationBaseTest.java:524)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testRevertConfigurationChange(RaftReconfigurationBaseTest.java:482)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:55,480 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestRevertConfigurationChange$11(509)) - client starts to change conf
2019-09-26 13:59:55,493 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s4@group-78BC12EA4E46: receive setConfiguration SetConfigurationRequest:client-C6B2CDEC91C3->s4@group-78BC12EA4E46, cid=0, seq=0, RW, null, peers:[s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846]
2019-09-26 13:59:55,494 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s4@group-78BC12EA4E46-LeaderState: startSetConfiguration SetConfigurationRequest:client-C6B2CDEC91C3->s4@group-78BC12EA4E46, cid=0, seq=0, RW, null, peers:[s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846]
2019-09-26 13:59:55,495 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-78BC12EA4E46: set configuration 1: [s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=[s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846] at 1
2019-09-26 13:59:55,498 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s3: Block request from s4
2019-09-26 13:59:55,498 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s4
2019-09-26 13:59:55,498 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s4
2019-09-26 13:59:55,498 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s4
2019-09-26 13:59:55,648 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-78BC12EA4E46-FollowerState: change to CANDIDATE, lastRpcTime:218ms, electionTimeout:200ms
2019-09-26 13:59:55,649 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 13:59:55,650 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-78BC12EA4E46: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 13:59:55,650 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 13:59:55,651 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-78BC12EA4E46: change Leader from s4 to null at term 1 for initElection
2019-09-26 13:59:55,665 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-78BC12EA4E46-LeaderElection17: begin an election at term 2 for 0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:55,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-78BC12EA4E46: receive requestVote(s3, group-78BC12EA4E46, 2, (t:1, i:0))
2019-09-26 13:59:55,681 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s4: Block request from s3
2019-09-26 13:59:55,681 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-78BC12EA4E46: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 13:59:55,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-78BC12EA4E46: receive requestVote(s3, group-78BC12EA4E46, 2, (t:1, i:0))
2019-09-26 13:59:55,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-78BC12EA4E46: receive requestVote(s3, group-78BC12EA4E46, 2, (t:1, i:0))
2019-09-26 13:59:55,682 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-78BC12EA4E46: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 13:59:55,682 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-78BC12EA4E46: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s3
2019-09-26 13:59:55,683 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-78BC12EA4E46: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s3
2019-09-26 13:59:55,683 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:55,682 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-78BC12EA4E46: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 13:59:55,683 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:55,683 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:55,683 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:55,683 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-78BC12EA4E46: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s3
2019-09-26 13:59:55,685 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:55,685 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:55,685 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:55,686 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:55,686 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:55,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-78BC12EA4E46 replies to vote request: s3<-s0#0:OK-t2. Peer's state: s0@group-78BC12EA4E46:t2, leader=null, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:55,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-78BC12EA4E46 replies to vote request: s3<-s2#0:OK-t2. Peer's state: s2@group-78BC12EA4E46:t2, leader=null, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:55,699 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-78BC12EA4E46 replies to vote request: s3<-s1#0:OK-t2. Peer's state: s1@group-78BC12EA4E46:t2, leader=null, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:55,703 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-78BC12EA4E46-LeaderElection17: Election PASSED; received 2 response(s) [s3<-s1#0:OK-t2, s3<-s2#0:OK-t2] and 0 exception(s); s3@group-78BC12EA4E46:t2, leader=null, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:55,703 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 13:59:55,703 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-78BC12EA4E46: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 13:59:55,703 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-78BC12EA4E46: change Leader from null to s3 at term 2 for becomeLeader, leader elected after 52ms
2019-09-26 13:59:55,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 13:59:55,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:59:55,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:59:55,704 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:59:55,705 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:59:55,705 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:59:55,709 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:55,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:55,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:55,710 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:55,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:55,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:55,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:55,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:55,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:55,711 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:55,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:55,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:55,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:55,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:55,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:55,713 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:55,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:55,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:55,713 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:55,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:55,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:55,714 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:55,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:55,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:55,715 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderState
2019-09-26 13:59:55,715 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 13:59:55,722 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,722 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,723 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-78BC12EA4E46: set configuration 1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 1
2019-09-26 13:59:55,726 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s4: Block request from s3
2019-09-26 13:59:55,726 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-78BC12EA4E46: change Leader from null to s3 at term 2 for appendEntries, leader elected after 43ms
2019-09-26 13:59:55,726 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-78BC12EA4E46: change Leader from null to s3 at term 2 for appendEntries, leader elected after 44ms
2019-09-26 13:59:55,726 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-78BC12EA4E46: change Leader from null to s3 at term 2 for appendEntries, leader elected after 43ms
2019-09-26 13:59:55,729 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-78BC12EA4E46: receive appendEntries(s3, 2, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:55,729 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-78BC12EA4E46: receive appendEntries(s3, 2, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:55,730 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-78BC12EA4E46: set configuration 1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 1
2019-09-26 13:59:55,730 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-78BC12EA4E46: receive appendEntries(s3, 2, (t:1, i:0), 0, false, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:55,730 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-78BC12EA4E46: set configuration 1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 1
2019-09-26 13:59:55,730 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 13:59:55,731 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-78BC12EA4E46: set configuration 1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 1
2019-09-26 13:59:55,731 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 13:59:55,731 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 13:59:55,736 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,736 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,736 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,738 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,738 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,738 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:55,986 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s4
2019-09-26 13:59:56,026 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s4: unBlock request from s3
2019-09-26 13:59:56,027 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-78BC12EA4E46: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 13:59:56,027 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s3/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_1
2019-09-26 13:59:56,028 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-78BC12EA4E46: changes role from    LEADER to FOLLOWER at term 2 for appendEntries
2019-09-26 13:59:56,028 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s4: shutdown LeaderState
2019-09-26 13:59:56,030 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s1/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_1
2019-09-26 13:59:56,031 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-78BC12EA4E46->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:56,032 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-78BC12EA4E46->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:56,031 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-78BC12EA4E46->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:56,030 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s2/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_1
2019-09-26 13:59:56,030 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-78BC12EA4E46->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:56,030 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s0/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_1
2019-09-26 13:59:56,033 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s4@group-78BC12EA4E46-PendingRequests: sendNotLeaderResponses
2019-09-26 13:59:56,035 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 13:59:56,040 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s3<-s1#1:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 13:59:56,041 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s3<-s0#1:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 13:59:56,041 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s3<-s2#1:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-26 13:59:56,043 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-78BC12EA4E46: change Leader from null to s3 at term 2 for appendEntries, leader elected after 15ms
2019-09-26 13:59:56,047 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-78BC12EA4E46: receive appendEntries(s3, 2, (t:2, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 13:59:56,048 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-78BC12EA4E46: receive appendEntries(s3, 2, (t:2, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 13:59:56,048 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-78BC12EA4E46: receive appendEntries(s3, 2, (t:2, i:1), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-26 13:59:56,050 WARN  grpc.TestRaftReconfigurationWithGrpc (JavaUtils.java:attempt(188)) - FAILED COMMIT attempt #1/10: sleep 1s and then retry.
2019-09-26 13:59:56,051 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-78BC12EA4E46: receive appendEntries(s3, 2, (t:1, i:0), 1, false, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: [(t:2, i:1), CONFIGURATIONENTRY, (t:2, i:2), METADATAENTRY(c1)]
2019-09-26 13:59:56,052 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-78BC12EA4E46: set configuration 1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null at 1
2019-09-26 13:59:56,055 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 1) isOpen? true, length=122, newEndIndex=0
  toDelete: [], start index 1
2019-09-26 13:59:56,056 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: Starting segment from index:1
2019-09-26 13:59:56,059 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s3<-s1#6:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,059 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s3<-s2#6:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,060 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s3<-s0#6:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,060 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran FileOutputStream.getChannel().truncate /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 length: 324 -> 122
2019-09-26 13:59:56,061 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:56,061 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(614)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: Truncated log file /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_0 to length 122 and moved it to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_0-0
2019-09-26 13:59:56,062 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: flushIndex: setUnconditionally 1 -> 0
2019-09-26 13:59:56,100 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s4
2019-09-26 13:59:56,100 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s4
2019-09-26 13:59:56,100 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s4
2019-09-26 13:59:56,100 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s3: unBlock request from s4
2019-09-26 13:59:56,102 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-78BC12EA4E46: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:56,101 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-78BC12EA4E46: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:56,101 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-78BC12EA4E46: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:56,102 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#16:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,102 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#16:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,102 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-78BC12EA4E46: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 13:59:56,102 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#16:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#16:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,104 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#17:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,104 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#17:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,104 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#17:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,104 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#17:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,105 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#18:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,105 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#18:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,105 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#18:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#18:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#19:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#19:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#19:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#19:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#20:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#20:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#20:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#20:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,109 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#21:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,109 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#21:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,109 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#21:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,109 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#21:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,110 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#22:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,110 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#22:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,110 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#22:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,110 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#22:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,110 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s2#23:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s1#23:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s0#23:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,111 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s4->s1#23-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 13:59:56,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-78BC12EA4E46: Not recognize s4 (term=1) as leader, state: s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null reply: s4<-s3#23:FAIL,NOT_LEADER,nextIndex:3,term:2,followerCommit:2
2019-09-26 13:59:56,111 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s4->s2#23-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 13:59:56,112 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#23-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 13:59:56,111 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s4->s0#23-t1, previous=(t:1, i:1), leaderCommit=0, initializing? false, entries: <empty>
2019-09-26 13:59:56,112 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-78BC12EA4E46->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:56,113 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-78BC12EA4E46->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:56,113 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-78BC12EA4E46->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:56,117 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-78BC12EA4E46->s1: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 13:59:56,117 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-78BC12EA4E46->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:56,117 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-78BC12EA4E46->s0: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 13:59:56,118 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-78BC12EA4E46->s3: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 13:59:56,118 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-78BC12EA4E46->s2: nextIndex: updateUnconditionally 2 -> 1
2019-09-26 13:59:56,135 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcbf18dd1f/s4/18d4f0a0-af0d-4052-855f-78bc12ea4e46/current/log_inprogress_1
2019-09-26 13:59:56,147 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-78BC12EA4E46: succeeded to handle AppendEntries. Reply: s3<-s4#1:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-26 13:59:56,282 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s4: unBlock request from s3
2019-09-26 13:59:56,282 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-78BC12EA4E46: receive requestVote(s3, group-78BC12EA4E46, 2, (t:1, i:0))
2019-09-26 13:59:56,283 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s4@group-78BC12EA4E46- FOLLOWER: Withhold vote from candidate s3 with term 2. State: leader=s3, term=2, lastRpcElapsed=58ms
2019-09-26 13:59:56,283 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-78BC12EA4E46 replies to vote request: s3<-s4#0:FAIL-t2. Peer's state: s4@group-78BC12EA4E46:t2, leader=s3, voted=null, raftlog=s4@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null
2019-09-26 13:59:57,052 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestRevertConfigurationChange$15(554)) - log == null
2019-09-26 13:59:57,053 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 13:59:57,053 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 13:59:57,053 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 13:59:57,053 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 13:59:57,053 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 13:59:57,054 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s3@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-78BC12EA4E46:t2, leader=s3, voted=null, raftlog=s4@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s0@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s1@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-78BC12EA4E46:t2, leader=s3, voted=s3, raftlog=s2@group-78BC12EA4E46-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:39987, s4:0.0.0.0:42406, s0:0.0.0.0:38922, s1:0.0.0.0:38148, s2:0.0.0.0:33846], old=null RUNNING
2019-09-26 13:59:57,055 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 13:59:57,055 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 13:59:57,057 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 13:59:57,057 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 13:59:57,058 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-78BC12EA4E46: shutdown
2019-09-26 13:59:57,058 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 13:59:57,058 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-78BC12EA4E46: shutdown
2019-09-26 13:59:57,058 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-78BC12EA4E46: shutdown
2019-09-26 13:59:57,060 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s3
2019-09-26 13:59:57,060 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s3: shutdown LeaderState
2019-09-26 13:59:57,059 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-78BC12EA4E46: shutdown
2019-09-26 13:59:57,062 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-78BC12EA4E46->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:57,062 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-78BC12EA4E46->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:57,059 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s1
2019-09-26 13:59:57,062 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:57,059 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-78BC12EA4E46: shutdown
2019-09-26 13:59:57,063 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:57,063 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s3->s2#18-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 13:59:57,063 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s3->s1#18-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 13:59:57,063 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-78BC12EA4E46-StateMachineUpdater: set stopIndex = 2
2019-09-26 13:59:57,062 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s2
2019-09-26 13:59:57,062 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s3@group-78BC12EA4E46-PendingRequests: sendNotLeaderResponses
2019-09-26 13:59:57,062 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-78BC12EA4E46->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:57,062 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s3@group-78BC12EA4E46->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 13:59:57,060 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s4
2019-09-26 13:59:57,065 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 13:59:57,065 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-78BC12EA4E46-StateMachineUpdater: set stopIndex = 2
2019-09-26 13:59:57,064 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-78BC12EA4E46->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:57,064 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-78BC12EA4E46->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:57,064 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:57,064 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-78BC12EA4E46: closes. applyIndex: 2
2019-09-26 13:59:57,067 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-78BC12EA4E46->s1: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:57,063 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-78BC12EA4E46,id=s0
2019-09-26 13:59:57,067 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:57,066 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:57,066 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-78BC12EA4E46-StateMachineUpdater: set stopIndex = 2
2019-09-26 13:59:57,068 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-78BC12EA4E46: closes. applyIndex: 2
2019-09-26 13:59:57,066 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-78BC12EA4E46: closes. applyIndex: 2
2019-09-26 13:59:57,065 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:57,069 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:57,065 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s3->s0#18-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 13:59:57,065 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#13-t2, previous=(t:2, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 13:59:57,065 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-78BC12EA4E46-StateMachineUpdater: set stopIndex = 2
2019-09-26 13:59:57,070 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-78BC12EA4E46-SegmentedRaftLogWorker close()
2019-09-26 13:59:57,071 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-78BC12EA4E46->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:57,073 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s3@group-78BC12EA4E46->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 13:59:57,074 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 38148 now
2019-09-26 13:59:57,069 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:57,067 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-78BC12EA4E46->s2: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:57,067 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:57,075 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-78BC12EA4E46->s4: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:57,075 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 38148 successfully
2019-09-26 13:59:57,074 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s3@group-78BC12EA4E46->s0: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 13:59:57,074 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-78BC12EA4E46-SegmentedRaftLogWorker close()
2019-09-26 13:59:57,071 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-78BC12EA4E46: closes. applyIndex: 2
2019-09-26 13:59:57,077 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 39987 now
2019-09-26 13:59:57,077 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:57,077 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-78BC12EA4E46-SegmentedRaftLogWorker close()
2019-09-26 13:59:57,075 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-78BC12EA4E46-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:57,080 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 33846 now
2019-09-26 13:59:57,075 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-78BC12EA4E46-StateMachineUpdater: set stopIndex = 2
2019-09-26 13:59:57,081 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-78BC12EA4E46-SegmentedRaftLogWorker close()
2019-09-26 13:59:57,081 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 33846 successfully
2019-09-26 13:59:57,080 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 39987 successfully
2019-09-26 13:59:57,081 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 42406 now
2019-09-26 13:59:57,081 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-78BC12EA4E46: closes. applyIndex: 2
2019-09-26 13:59:57,082 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 42406 successfully
2019-09-26 13:59:57,082 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 13:59:57,084 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-78BC12EA4E46-SegmentedRaftLogWorker close()
2019-09-26 13:59:57,085 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 38922 now
2019-09-26 13:59:57,086 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 38922 successfully
2019-09-26 13:59:57,086 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 13:59:57,088 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 13:59:57,088 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 13:59:57,090 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 13:59:57,091 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997]
2019-09-26 13:59:57,091 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 13:59:57,091 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 13:59:57,091 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 13:59:57,092 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 13:59:57,092 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 13:59:57,092 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 13:59:57,092 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], format? true
2019-09-26 13:59:57,092 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0
2019-09-26 13:59:57,093 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0 does not exist.
2019-09-26 13:59:57,093 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0
2019-09-26 13:59:57,093 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:57,094 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:57,094 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38702 (custom)
2019-09-26 13:59:57,094 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:57,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,094 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:57,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0] (custom)
2019-09-26 13:59:57,096 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] returns group-6FC126F4D414:java.util.concurrent.CompletableFuture@7377f1e9[Not completed]
2019-09-26 13:59:57,097 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], format? true
2019-09-26 13:59:57,097 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] with BaseStateMachine:uninitialized
2019-09-26 13:59:57,097 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1
2019-09-26 13:59:57,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:57,098 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1 does not exist.
2019-09-26 13:59:57,098 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1
2019-09-26 13:59:57,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:57,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:57,098 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:57,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:57,099 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:57,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,099 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42926 (custom)
2019-09-26 13:59:57,099 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-6FC126F4D414: ConfigurationManager, init=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:57,099 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:57,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0] (custom)
2019-09-26 13:59:57,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,100 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:57,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:57,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,101 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414 does not exist. Creating ...
2019-09-26 13:59:57,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1] (custom)
2019-09-26 13:59:57,101 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] returns group-6FC126F4D414:java.util.concurrent.CompletableFuture@75e28d3a[Not completed]
2019-09-26 13:59:57,101 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], format? true
2019-09-26 13:59:57,101 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] with BaseStateMachine:uninitialized
2019-09-26 13:59:57,102 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2
2019-09-26 13:59:57,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:57,102 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:57,102 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2 does not exist.
2019-09-26 13:59:57,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:57,103 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2
2019-09-26 13:59:57,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:57,103 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:57,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,104 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:57,104 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-6FC126F4D414: ConfigurationManager, init=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:57,104 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35997 (custom)
2019-09-26 13:59:57,104 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1] (custom)
2019-09-26 13:59:57,104 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:57,104 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,104 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:57,105 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:57,105 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414 does not exist. Creating ...
2019-09-26 13:59:57,105 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,105 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2] (custom)
2019-09-26 13:59:57,105 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,106 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] returns group-6FC126F4D414:java.util.concurrent.CompletableFuture@10c6d016[Not completed]
2019-09-26 13:59:57,106 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] with BaseStateMachine:uninitialized
2019-09-26 13:59:57,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:57,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:57,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:57,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:57,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,107 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-6FC126F4D414: ConfigurationManager, init=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:57,108 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2] (custom)
2019-09-26 13:59:57,108 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:57,108 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414 does not exist. Creating ...
2019-09-26 13:59:57,109 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,125 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:57,125 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:57,125 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:57,126 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414/current
2019-09-26 13:59:57,126 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414/current
2019-09-26 13:59:57,126 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414/sm
2019-09-26 13:59:57,126 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414/sm
2019-09-26 13:59:57,126 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414/current
2019-09-26 13:59:57,127 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414/sm
2019-09-26 13:59:57,135 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414 has been successfully formatted.
2019-09-26 13:59:57,135 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414 has been successfully formatted.
2019-09-26 13:59:57,135 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414 has been successfully formatted.
2019-09-26 13:59:57,135 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:57,135 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:57,135 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:57,135 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:57,136 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:57,135 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:57,136 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,136 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:57,136 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,136 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:57,137 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:57,137 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:57,137 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-6FC126F4D414-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,137 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,137 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:57,137 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:57,137 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:57,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:57,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:57,139 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:57,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:57,139 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:57,139 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-6FC126F4D414-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,139 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:57,139 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-6FC126F4D414-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,140 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:57,140 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:57,140 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:57,140 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:57,140 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:57,141 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:57,141 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-6FC126F4D414-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:57,141 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,141 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,141 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:57,141 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:57,142 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:57,141 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:57,142 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:57,142 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:57,142 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:57,142 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:57,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:57,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:57,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:57,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:57,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:57,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:57,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:57,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:57,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:57,145 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-6FC126F4D414-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:57,145 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-6FC126F4D414-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:57,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:57,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:57,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:57,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:57,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:57,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:57,147 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-6FC126F4D414: start as a follower, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,147 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6FC126F4D414: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:57,148 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 13:59:57,149 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s0
2019-09-26 13:59:57,155 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 13:59:57,156 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:38702
2019-09-26 13:59:57,157 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-6FC126F4D414: start as a follower, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,157 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6FC126F4D414: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:57,157 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:57,158 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s1
2019-09-26 13:59:57,161 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 13:59:57,162 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:42926
2019-09-26 13:59:57,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-6FC126F4D414: start as a follower, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6FC126F4D414: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 13:59:57,163 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:57,164 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s2
2019-09-26 13:59:57,167 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 13:59:57,168 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:35997
2019-09-26 13:59:57,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:57,169 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
2019-09-26 13:59:57,170 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6FC126F4D414:t0, leader=null, voted=null, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestBootstrapReconf(RaftReconfigurationBaseTest.java:259)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testBootstrapReconf(RaftReconfigurationBaseTest.java:255)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 13:59:57,341 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-6FC126F4D414-FollowerState: change to CANDIDATE, lastRpcTime:192ms, electionTimeout:192ms
2019-09-26 13:59:57,342 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 13:59:57,342 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6FC126F4D414: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 13:59:57,342 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 13:59:57,357 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-6FC126F4D414-LeaderElection18: begin an election at term 1 for -1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,366 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-6FC126F4D414: receive requestVote(s0, group-6FC126F4D414, 1, (t:0, i:0))
2019-09-26 13:59:57,366 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6FC126F4D414: receive requestVote(s0, group-6FC126F4D414, 1, (t:0, i:0))
2019-09-26 13:59:57,366 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6FC126F4D414: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 13:59:57,367 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6FC126F4D414: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 13:59:57,367 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 13:59:57,367 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 13:59:57,367 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:57,367 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 13:59:57,367 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 13:59:57,367 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 13:59:57,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-6FC126F4D414 replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-6FC126F4D414:t1, leader=null, voted=s0, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6FC126F4D414 replies to vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-6FC126F4D414:t1, leader=null, voted=s0, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,386 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-6FC126F4D414-LeaderElection18: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t1] and 0 exception(s); s0@group-6FC126F4D414:t1, leader=null, voted=s0, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,386 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 13:59:57,386 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6FC126F4D414: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 13:59:57,386 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-6FC126F4D414: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 251ms
2019-09-26 13:59:57,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 13:59:57,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 13:59:57,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 13:59:57,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 13:59:57,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 13:59:57,387 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 13:59:57,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:57,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:57,391 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:57,391 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,391 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,391 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:57,391 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,392 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:57,392 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:57,392 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,392 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,393 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 13:59:57,393 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-6FC126F4D414-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:57,394 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-6FC126F4D414: set configuration 0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 0
2019-09-26 13:59:57,396 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-6FC126F4D414: change Leader from null to s0 at term 1 for appendEntries, leader elected after 261ms
2019-09-26 13:59:57,396 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-6FC126F4D414: change Leader from null to s0 at term 1 for appendEntries, leader elected after 261ms
2019-09-26 13:59:57,399 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:57,399 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 13:59:57,400 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-6FC126F4D414: set configuration 0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 0
2019-09-26 13:59:57,400 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-6FC126F4D414: set configuration 0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 0
2019-09-26 13:59:57,400 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-6FC126F4D414-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:57,400 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-6FC126F4D414-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:57,545 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-6FC126F4D414-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s1/43873872-efba-44b7-a775-6fc126f4d414/current/log_inprogress_0
2019-09-26 13:59:57,545 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-6FC126F4D414-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s2/43873872-efba-44b7-a775-6fc126f4d414/current/log_inprogress_0
2019-09-26 13:59:57,545 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-6FC126F4D414-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s0/43873872-efba-44b7-a775-6fc126f4d414/current/log_inprogress_0
2019-09-26 13:59:57,556 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:57,556 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 13:59:57,622 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6FC126F4D414:t1, leader=s0, voted=s0, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6FC126F4D414:t1, leader=s0, voted=s0, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6FC126F4D414:t1, leader=s0, voted=s0, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
2019-09-26 13:59:57,633 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=4, seq=0, RW, Message:6d30)
2019-09-26 13:59:57,634 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=4, seq=0, RW, Message:6d30, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=4
2019-09-26 13:59:57,635 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=4
2019-09-26 13:59:57,636 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=4
2019-09-26 13:59:57,646 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:57,646 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#5:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 13:59:57,651 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:57,651 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 13:59:57,654 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=5, seq=0, RW, Message:6d31)
2019-09-26 13:59:57,655 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=5, seq=0, RW, Message:6d31, entry=(t:1, i:3), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=5
2019-09-26 13:59:57,657 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=5
2019-09-26 13:59:57,657 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=5
2019-09-26 13:59:57,661 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:57,661 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#6:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 13:59:57,662 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:57,663 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#7:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 13:59:57,665 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:57,666 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 13:59:57,668 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=6, seq=0, RW, Message:6d32)
2019-09-26 13:59:57,669 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=6, seq=0, RW, Message:6d32, entry=(t:1, i:5), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=6
2019-09-26 13:59:57,671 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:4), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=6
2019-09-26 13:59:57,671 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:4), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=6
2019-09-26 13:59:57,675 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#8:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:57,676 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#8:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 13:59:57,677 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#9:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 13:59:57,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#9:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 13:59:57,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 13:59:57,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 13:59:57,683 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=7, seq=0, RW, Message:6d33)
2019-09-26 13:59:57,684 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=7, seq=0, RW, Message:6d33, entry=(t:1, i:7), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=7
2019-09-26 13:59:57,685 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:6), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=7
2019-09-26 13:59:57,685 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:6), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=7
2019-09-26 13:59:57,691 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#10:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 13:59:57,691 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#10:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 13:59:57,692 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#11:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 13:59:57,693 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#11:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 13:59:57,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:7), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 13:59:57,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:7), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 13:59:57,697 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=8, seq=0, RW, Message:6d34)
2019-09-26 13:59:57,697 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=8, seq=0, RW, Message:6d34, entry=(t:1, i:9), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=8
2019-09-26 13:59:57,698 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:8), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=8
2019-09-26 13:59:57,698 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:8), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=8
2019-09-26 13:59:57,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#12:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 13:59:57,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#12:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 13:59:57,707 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#13:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 13:59:57,707 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#13:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 13:59:57,709 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:9), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 13:59:57,709 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:9), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 13:59:57,711 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=9, seq=0, RW, Message:6d35)
2019-09-26 13:59:57,712 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=9, seq=0, RW, Message:6d35, entry=(t:1, i:11), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=9
2019-09-26 13:59:57,713 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:10), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=9
2019-09-26 13:59:57,713 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:10), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=9
2019-09-26 13:59:57,720 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 13:59:57,720 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#14:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 13:59:57,721 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#15:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 13:59:57,721 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#15:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 13:59:57,723 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:11), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 13:59:57,723 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:11), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 13:59:57,725 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=10, seq=0, RW, Message:6d36)
2019-09-26 13:59:57,725 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=10, seq=0, RW, Message:6d36, entry=(t:1, i:13), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=10
2019-09-26 13:59:57,726 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:12), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=10
2019-09-26 13:59:57,727 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:12), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=10
2019-09-26 13:59:57,734 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#16:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 13:59:57,734 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#16:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 13:59:57,735 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#17:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 13:59:57,735 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#17:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 13:59:57,738 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:13), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 13:59:57,738 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:13), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 13:59:57,740 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=11, seq=0, RW, Message:6d37)
2019-09-26 13:59:57,740 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=11, seq=0, RW, Message:6d37, entry=(t:1, i:15), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=11
2019-09-26 13:59:57,741 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:14), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=11
2019-09-26 13:59:57,741 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:14), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=11
2019-09-26 13:59:57,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#18:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 13:59:57,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#18:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 13:59:57,750 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#19:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 13:59:57,750 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#19:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 13:59:57,752 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:15), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 13:59:57,752 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:15), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 13:59:57,754 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=12, seq=0, RW, Message:6d38)
2019-09-26 13:59:57,754 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=12, seq=0, RW, Message:6d38, entry=(t:1, i:17), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=12
2019-09-26 13:59:57,755 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:16), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=12
2019-09-26 13:59:57,755 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:16), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=12
2019-09-26 13:59:57,762 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#20:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 13:59:57,763 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#20:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 13:59:57,764 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#21:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 13:59:57,764 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#21:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 13:59:57,766 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:17), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 13:59:57,766 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:17), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 13:59:57,768 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=13, seq=0, RW, Message:6d39)
2019-09-26 13:59:57,768 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=13, seq=0, RW, Message:6d39, entry=(t:1, i:19), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=13
2019-09-26 13:59:57,769 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:18), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=13
2019-09-26 13:59:57,769 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:18), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=13
2019-09-26 13:59:57,777 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#22:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 13:59:57,777 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#22:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 13:59:57,778 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#23:OK,SUCCESS,nextIndex:20,term:1,followerCommit:17
2019-09-26 13:59:57,778 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#23:OK,SUCCESS,nextIndex:20,term:1,followerCommit:17
2019-09-26 13:59:57,781 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:19), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 13:59:57,781 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:19), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 13:59:57,783 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=14, seq=0, RW, Message:6d3130)
2019-09-26 13:59:57,783 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#24:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 13:59:57,783 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=14, seq=0, RW, Message:6d3130, entry=(t:1, i:21), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=14
2019-09-26 13:59:57,783 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#24:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 13:59:57,784 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:20), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=14
2019-09-26 13:59:57,784 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:20), 19, false, commits[s0:c19, s1:c17, s2:c17], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=14
2019-09-26 13:59:57,786 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#25:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 13:59:57,786 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#25:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 13:59:57,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:21), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 13:59:57,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:21), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 13:59:57,789 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=15, seq=0, RW, Message:6d3131)
2019-09-26 13:59:57,790 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=15, seq=0, RW, Message:6d3131, entry=(t:1, i:23), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=15
2019-09-26 13:59:57,790 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#26:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 13:59:57,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#26:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 13:59:57,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:22), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=15
2019-09-26 13:59:57,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:22), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=15
2019-09-26 13:59:57,792 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#27:OK,SUCCESS,nextIndex:24,term:1,followerCommit:21
2019-09-26 13:59:57,794 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#27:OK,SUCCESS,nextIndex:24,term:1,followerCommit:21
2019-09-26 13:59:57,794 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:23), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 13:59:57,794 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:23), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 13:59:57,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=16, seq=0, RW, Message:6d3132)
2019-09-26 13:59:57,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#28:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 13:59:57,796 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=16, seq=0, RW, Message:6d3132, entry=(t:1, i:25), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=16
2019-09-26 13:59:57,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#28:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 13:59:57,797 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:24), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=16
2019-09-26 13:59:57,797 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:24), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=16
2019-09-26 13:59:57,798 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#29:OK,SUCCESS,nextIndex:26,term:1,followerCommit:23
2019-09-26 13:59:57,800 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#29:OK,SUCCESS,nextIndex:26,term:1,followerCommit:23
2019-09-26 13:59:57,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:25), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 13:59:57,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:25), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 13:59:57,805 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#30:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 13:59:57,805 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=17, seq=0, RW, Message:6d3133)
2019-09-26 13:59:57,806 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=17, seq=0, RW, Message:6d3133, entry=(t:1, i:27), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=17
2019-09-26 13:59:57,806 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#30:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 13:59:57,807 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:26), 26, false, commits[s0:c26, s1:c25, s2:c23], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=17
2019-09-26 13:59:57,807 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:26), 26, false, commits[s0:c26, s1:c25, s2:c23], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=17
2019-09-26 13:59:57,808 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#31:OK,SUCCESS,nextIndex:28,term:1,followerCommit:26
2019-09-26 13:59:57,809 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#31:OK,SUCCESS,nextIndex:28,term:1,followerCommit:26
2019-09-26 13:59:57,811 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:27), 27, false, commits[s0:c27, s1:c25, s2:c26], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 13:59:57,811 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:27), 27, false, commits[s0:c27, s1:c25, s2:c26], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 13:59:57,812 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#32:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 13:59:57,812 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=18, seq=0, RW, Message:6d3134)
2019-09-26 13:59:57,813 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#32:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 13:59:57,813 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=18, seq=0, RW, Message:6d3134, entry=(t:1, i:29), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=18
2019-09-26 13:59:57,814 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:28), 28, false, commits[s0:c28, s1:c27, s2:c27], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=18
2019-09-26 13:59:57,814 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:28), 28, false, commits[s0:c28, s1:c27, s2:c27], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=18
2019-09-26 13:59:57,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#33:OK,SUCCESS,nextIndex:30,term:1,followerCommit:28
2019-09-26 13:59:57,817 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#33:OK,SUCCESS,nextIndex:30,term:1,followerCommit:28
2019-09-26 13:59:57,818 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:29), 29, false, commits[s0:c29, s1:c27, s2:c28], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 13:59:57,818 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:29), 29, false, commits[s0:c29, s1:c27, s2:c28], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 13:59:57,820 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=19, seq=0, RW, Message:6d3135)
2019-09-26 13:59:57,820 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#34:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 13:59:57,820 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=19, seq=0, RW, Message:6d3135, entry=(t:1, i:31), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=19
2019-09-26 13:59:57,820 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#34:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 13:59:57,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:30), 29, false, commits[s0:c29, s1:c28, s2:c28], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=19
2019-09-26 13:59:57,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:30), 29, false, commits[s0:c29, s1:c28, s2:c28], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=19
2019-09-26 13:59:57,822 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#35:OK,SUCCESS,nextIndex:32,term:1,followerCommit:29
2019-09-26 13:59:57,824 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#35:OK,SUCCESS,nextIndex:32,term:1,followerCommit:29
2019-09-26 13:59:57,825 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:31), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 13:59:57,825 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:31), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 13:59:57,826 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=20, seq=0, RW, Message:6d3136)
2019-09-26 13:59:57,827 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=20, seq=0, RW, Message:6d3136, entry=(t:1, i:33), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=20
2019-09-26 13:59:57,828 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:32), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=20
2019-09-26 13:59:57,828 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:32), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=20
2019-09-26 13:59:57,842 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#36:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 13:59:57,842 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#36:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 13:59:57,843 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#37:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 13:59:57,843 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#37:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 13:59:57,845 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:33), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 13:59:57,845 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:33), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 13:59:57,847 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=21, seq=0, RW, Message:6d3137)
2019-09-26 13:59:57,847 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=21, seq=0, RW, Message:6d3137, entry=(t:1, i:35), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=21
2019-09-26 13:59:57,848 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:34), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=21
2019-09-26 13:59:57,848 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:34), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=21
2019-09-26 13:59:57,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#38:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 13:59:57,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#38:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 13:59:57,861 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#39:OK,SUCCESS,nextIndex:36,term:1,followerCommit:33
2019-09-26 13:59:57,861 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#39:OK,SUCCESS,nextIndex:36,term:1,followerCommit:33
2019-09-26 13:59:57,863 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:35), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 13:59:57,863 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:35), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 13:59:57,865 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=22, seq=0, RW, Message:6d3138)
2019-09-26 13:59:57,866 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=22, seq=0, RW, Message:6d3138, entry=(t:1, i:37), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=22
2019-09-26 13:59:57,866 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:36), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=22
2019-09-26 13:59:57,866 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:36), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=22
2019-09-26 13:59:57,873 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#40:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 13:59:57,873 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#40:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 13:59:57,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#41:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 13:59:57,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#41:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 13:59:57,877 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:37), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 13:59:57,877 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:37), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 13:59:57,878 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6FC126F4D414: receive client request(RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=23, seq=0, RW, Message:6d3139)
2019-09-26 13:59:57,879 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6FC126F4D414-LeaderState: addPendingRequest at RaftClientRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=23, seq=0, RW, Message:6d3139, entry=(t:1, i:39), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=23
2019-09-26 13:59:57,879 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:38), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=23
2019-09-26 13:59:57,879 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:38), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=23
2019-09-26 13:59:57,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#42:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 13:59:57,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#42:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 13:59:57,889 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#43:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 13:59:57,889 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#43:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 13:59:57,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:39), 39, false, commits[s0:c39, s1:c37, s2:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 13:59:57,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:39), 39, false, commits[s0:c39, s1:c37, s2:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 13:59:57,893 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 13:59:57,893 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], format? true
2019-09-26 13:59:57,893 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3
2019-09-26 13:59:57,893 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3 does not exist.
2019-09-26 13:59:57,893 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3
2019-09-26 13:59:57,894 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:57,894 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:57,894 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42361 (custom)
2019-09-26 13:59:57,894 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:57,895 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,895 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:57,895 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,896 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3] (custom)
2019-09-26 13:59:57,896 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] returns group-6FC126F4D414:java.util.concurrent.CompletableFuture@49e98323[Not completed]
2019-09-26 13:59:57,896 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] with BaseStateMachine:uninitialized
2019-09-26 13:59:57,896 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], format? true
2019-09-26 13:59:57,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:57,897 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4
2019-09-26 13:59:57,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:57,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:57,897 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4 does not exist.
2019-09-26 13:59:57,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:57,897 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4
2019-09-26 13:59:57,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,898 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-6FC126F4D414: ConfigurationManager, init=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:57,898 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 13:59:57,898 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3] (custom)
2019-09-26 13:59:57,898 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 13:59:57,898 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:57,898 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38122 (custom)
2019-09-26 13:59:57,898 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414 does not exist. Creating ...
2019-09-26 13:59:57,898 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 13:59:57,899 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,899 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 13:59:57,899 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,899 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,899 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4] (custom)
2019-09-26 13:59:57,900 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] returns group-6FC126F4D414:java.util.concurrent.CompletableFuture@4fadd80[Not completed]
2019-09-26 13:59:57,900 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-6FC126F4D414:[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] with BaseStateMachine:uninitialized
2019-09-26 13:59:57,900 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 13:59:57,900 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 13:59:57,900 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 13:59:57,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 13:59:57,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,901 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-6FC126F4D414: ConfigurationManager, init=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null, confs=<EMPTY_MAP>
2019-09-26 13:59:57,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4] (custom)
2019-09-26 13:59:57,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 13:59:57,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#44:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 13:59:57,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#44:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 13:59:57,901 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414 does not exist. Creating ...
2019-09-26 13:59:57,903 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,903 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:57,904 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414/current
2019-09-26 13:59:57,904 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414/sm
2019-09-26 13:59:57,907 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 13:59:57,907 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414 has been successfully formatted.
2019-09-26 13:59:57,908 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414/current
2019-09-26 13:59:57,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:57,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:57,908 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414/sm
2019-09-26 13:59:57,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:57,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:57,909 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-6FC126F4D414-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:57,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:57,910 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:57,910 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-6FC126F4D414-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:57,910 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:57,910 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:57,910 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:57,913 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-6FC126F4D414: start with initializing state, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,913 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-6FC126F4D414: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 13:59:57,913 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s3
2019-09-26 13:59:57,915 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 13:59:57,916 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:42361
2019-09-26 13:59:57,921 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414 has been successfully formatted.
2019-09-26 13:59:57,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 13:59:57,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 13:59:57,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 13:59:57,921 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,922 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,922 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 13:59:57,922 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-6FC126F4D414-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414
2019-09-26 13:59:57,922 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 13:59:57,922 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 13:59:57,923 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 13:59:57,923 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 13:59:57,923 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 13:59:57,923 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 13:59:57,923 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 13:59:57,923 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 13:59:57,924 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 13:59:57,924 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 13:59:57,924 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-6FC126F4D414-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 13:59:57,925 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 13:59:57,925 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 13:59:57,925 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 13:59:57,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-6FC126F4D414: start with initializing state, conf=-1: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 13:59:57,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-6FC126F4D414: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 13:59:57,928 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s4
2019-09-26 13:59:57,930 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 13:59:57,932 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:38122
2019-09-26 13:59:57,932 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestBootstrapReconf(270)) - Start changing the configuration: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997]
2019-09-26 13:59:57,935 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-6FC126F4D414: receive setConfiguration SetConfigurationRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=24, seq=0, RW, null, peers:[s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997]
2019-09-26 13:59:57,935 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-6FC126F4D414-LeaderState: startSetConfiguration SetConfigurationRequest:client-9BB0DE3724AC->s0@group-6FC126F4D414, cid=24, seq=0, RW, null, peers:[s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997]
2019-09-26 13:59:57,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:57,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:57,936 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:57,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 13:59:57,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 13:59:57,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 13:59:57,937 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 13:59:57,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 13:59:57,938 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 13:59:57,954 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-6FC126F4D414: change Leader from null to s0 at term 1 for appendEntries, leader elected after 46ms
2019-09-26 13:59:57,954 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-6FC126F4D414: change Leader from null to s0 at term 1 for appendEntries, leader elected after 33ms
2019-09-26 13:59:57,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-6FC126F4D414: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 13:59:57,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-6FC126F4D414: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 13:59:57,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-6FC126F4D414: inconsistency entries. Reply:s0<-s3#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 13:59:57,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-6FC126F4D414: inconsistency entries. Reply:s0<-s4#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 13:59:57,956 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s3: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 13:59:57,956 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s4: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 13:59:57,959 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:0), 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 13:59:57,959 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:0), 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 13:59:57,960 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-6FC126F4D414: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 13:59:57,961 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-6FC126F4D414: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 13:59:57,961 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-6FC126F4D414: inconsistency entries. Reply:s0<-s4#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 13:59:57,963 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-6FC126F4D414: inconsistency entries. Reply:s0<-s3#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 13:59:57,964 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s4: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 13:59:57,964 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s3: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 13:59:57,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: receive appendEntries(s0, 1, null, 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 13:59:57,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: receive appendEntries(s0, 1, null, 40, true, commits[s0:c40, s1:c39, s2:c39, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=4, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=5, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=6, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=7, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=8, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=9, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=10, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=11, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=12, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=13, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=14, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=15, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=16, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=17, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=18, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=19, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=20, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=21, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=22, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-9BB0DE3724AC, cid=23, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 13:59:57,966 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-6FC126F4D414: set configuration 0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 0
2019-09-26 13:59:57,967 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-6FC126F4D414: set configuration 0: [s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 0
2019-09-26 13:59:57,967 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-6FC126F4D414-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:57,968 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-6FC126F4D414-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 13:59:58,070 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-6FC126F4D414-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s4/43873872-efba-44b7-a775-6fc126f4d414/current/log_inprogress_0
2019-09-26 13:59:58,070 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-6FC126F4D414-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3eb27c68/s3/43873872-efba-44b7-a775-6fc126f4d414/current/log_inprogress_0
2019-09-26 13:59:58,082 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s3#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 13:59:58,082 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s4#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 13:59:58,084 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-6FC126F4D414: set configuration 41: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] at 41
2019-09-26 13:59:58,085 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 13:59:58,086 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 13:59:58,086 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-6FC126F4D414: set configuration 41: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] at 41
2019-09-26 13:59:58,086 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 13:59:58,086 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:40), 40, true, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 13:59:58,086 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 13:59:58,086 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-6FC126F4D414: set configuration 41: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] at 41
2019-09-26 13:59:58,087 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-6FC126F4D414: set configuration 41: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] at 41
2019-09-26 13:59:58,087 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-6FC126F4D414: set configuration 41: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=[s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997] at 41
2019-09-26 13:59:58,095 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#47:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 13:59:58,096 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s4#4:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 13:59:58,096 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#47:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 13:59:58,096 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s3#4:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 13:59:58,098 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-6FC126F4D414: set configuration 43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 43
2019-09-26 13:59:58,098 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 13:59:58,098 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: [(t:1, i:42), METADATAENTRY(c41), (t:1, i:43), CONFIGURATIONENTRY]
2019-09-26 13:59:58,099 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: [(t:1, i:42), METADATAENTRY(c41), (t:1, i:43), CONFIGURATIONENTRY]
2019-09-26 13:59:58,099 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 13:59:58,099 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 13:59:58,099 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-6FC126F4D414: set configuration 43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 43
2019-09-26 13:59:58,099 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 13:59:58,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 13:59:58,099 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-6FC126F4D414: set configuration 43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 43
2019-09-26 13:59:58,100 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-6FC126F4D414: set configuration 43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 43
2019-09-26 13:59:58,100 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-6FC126F4D414: set configuration 43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null at 43
2019-09-26 13:59:58,109 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#48:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 13:59:58,109 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s3#5:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 13:59:58,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#49:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 13:59:58,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s4#5:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 13:59:58,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s3#6:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 13:59:58,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#48:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 13:59:58,113 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c40], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 13:59:58,113 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c40], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 13:59:58,113 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c40], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 13:59:58,113 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c40], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 13:59:58,123 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s3#7:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 13:59:58,123 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s4#6:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 13:59:58,123 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s1#49:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 13:59:58,124 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6FC126F4D414: succeeded to handle AppendEntries. Reply: s0<-s2#50:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 14:00:02,775 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-6FC126F4D414-FollowerState: change to CANDIDATE, lastRpcTime:229ms, electionTimeout:176ms
2019-09-26 14:00:02,775 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:02,775 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6FC126F4D414: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:02,776 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:02,777 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6FC126F4D414: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2019-09-26 14:00:02,777 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:02,778 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:02,778 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-6FC126F4D414: change Leader from s0 to null at term 1 for initElection
2019-09-26 14:00:02,794 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-6FC126F4D414-LeaderElection19: begin an election at term 2 for 43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 14:00:02,795 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-6FC126F4D414-LeaderElection19: Election REJECTED; received 0 response(s) [] and 0 exception(s); s1@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 14:00:02,803 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6FC126F4D414: receive requestVote(s1, group-6FC126F4D414, 2, (t:1, i:44))
2019-09-26 14:00:02,803 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-6FC126F4D414: receive requestVote(s1, group-6FC126F4D414, 2, (t:1, i:44))
2019-09-26 14:00:02,803 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-6FC126F4D414: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:02,804 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-6FC126F4D414: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:02,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6FC126F4D414: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 14:00:02,804 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-6FC126F4D414: receive requestVote(s1, group-6FC126F4D414, 2, (t:1, i:44))
2019-09-26 14:00:02,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6FC126F4D414: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 14:00:02,804 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-6FC126F4D414: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:02,804 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-6FC126F4D414: receive requestVote(s1, group-6FC126F4D414, 2, (t:1, i:44))
2019-09-26 14:00:02,804 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:02,805 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-6FC126F4D414: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:02,805 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-6FC126F4D414: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 14:00:02,805 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 14:00:02,806 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 14:00:02,805 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-6FC126F4D414: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-26 14:00:02,809 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:02,805 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,805 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:02,809 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:02,809 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,808 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,808 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 14:00:02,808 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-6FC126F4D414->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:02,808 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-6FC126F4D414->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:02,808 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-6FC126F4D414-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:02,812 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#65-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 14:00:02,808 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-6FC126F4D414->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:02,808 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-6FC126F4D414->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:02,813 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:02,812 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#108-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 14:00:02,814 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#107-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 14:00:02,813 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-6FC126F4D414->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:02,814 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-6FC126F4D414->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:02,815 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-6FC126F4D414->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:02,814 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#64-t1, previous=(t:1, i:44), leaderCommit=44, initializing? false, entries: <empty>
2019-09-26 14:00:02,815 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s3: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 14:00:02,816 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s1: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 14:00:02,817 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-6FC126F4D414->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:02,817 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s2: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 14:00:02,818 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-6FC126F4D414->s4: nextIndex: updateUnconditionally 45 -> 44
2019-09-26 14:00:02,825 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6FC126F4D414 replies to vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 14:00:02,825 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-6FC126F4D414 replies to vote request: s1<-s4#0:OK-t2. Peer's state: s4@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s4@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 14:00:02,825 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-6FC126F4D414 replies to vote request: s1<-s3#0:OK-t2. Peer's state: s3@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s3@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 14:00:02,825 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-6FC126F4D414 replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-6FC126F4D414:t2, leader=null, voted=null, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null
2019-09-26 14:00:02,933 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestBootstrapReconf(286)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s3@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s4@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6FC126F4D414:t2, leader=null, voted=null, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
2019-09-26 14:00:02,935 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(127)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s3@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s4@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6FC126F4D414:t2, leader=null, voted=null, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
2019-09-26 14:00:02,935 ERROR ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(128)) - Failed org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
java.lang.NullPointerException
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestBootstrapReconf(RaftReconfigurationBaseTest.java:289)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testBootstrapReconf(RaftReconfigurationBaseTest.java:255)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:02,935 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:02,936 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:02,936 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:02,936 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:02,936 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:02,936 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s3@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s4@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6FC126F4D414:t2, leader=null, voted=null, raftlog=s0@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s1@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6FC126F4D414:t2, leader=null, voted=s1, raftlog=s2@group-6FC126F4D414-SegmentedRaftLog:OPENED:c44,f44,i44, conf=43: [s3:0.0.0.0:42361, s4:0.0.0.0:38122, s0:0.0.0.0:38702, s1:0.0.0.0:42926, s2:0.0.0.0:35997], old=null RUNNING
2019-09-26 14:00:02,937 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:02,939 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 14:00:02,939 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 14:00:02,940 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:02,939 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-6FC126F4D414: shutdown
2019-09-26 14:00:02,942 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-6FC126F4D414: shutdown
2019-09-26 14:00:02,941 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-6FC126F4D414: shutdown
2019-09-26 14:00:02,941 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 14:00:02,940 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-6FC126F4D414: shutdown
2019-09-26 14:00:02,943 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-6FC126F4D414: shutdown
2019-09-26 14:00:02,943 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s1
2019-09-26 14:00:02,942 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s0
2019-09-26 14:00:02,944 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:02,942 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s3
2019-09-26 14:00:02,945 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,944 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-6FC126F4D414-StateMachineUpdater: set stopIndex = 44
2019-09-26 14:00:02,944 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:02,946 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-6FC126F4D414-StateMachineUpdater: set stopIndex = 44
2019-09-26 14:00:02,944 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s2
2019-09-26 14:00:02,946 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:02,943 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6FC126F4D414,id=s4
2019-09-26 14:00:02,947 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,947 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-6FC126F4D414-StateMachineUpdater: set stopIndex = 44
2019-09-26 14:00:02,946 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-6FC126F4D414: closes. applyIndex: 44
2019-09-26 14:00:02,946 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,946 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-6FC126F4D414: closes. applyIndex: 44
2019-09-26 14:00:02,945 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:02,949 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-6FC126F4D414-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:02,949 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-6FC126F4D414-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:02,948 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-6FC126F4D414: closes. applyIndex: 44
2019-09-26 14:00:02,947 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 14:00:02,951 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-6FC126F4D414-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:02,949 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,953 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-6FC126F4D414-SegmentedRaftLogWorker close()
2019-09-26 14:00:02,949 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-6FC126F4D414-StateMachineUpdater: set stopIndex = 44
2019-09-26 14:00:02,956 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 42926 now
2019-09-26 14:00:02,956 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-6FC126F4D414-SegmentedRaftLogWorker close()
2019-09-26 14:00:02,952 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-6FC126F4D414-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:02,953 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-6FC126F4D414-SegmentedRaftLogWorker close()
2019-09-26 14:00:02,951 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-6FC126F4D414-StateMachineUpdater: set stopIndex = 44
2019-09-26 14:00:02,962 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 38702 now
2019-09-26 14:00:02,959 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 35997 now
2019-09-26 14:00:02,956 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-6FC126F4D414: closes. applyIndex: 44
2019-09-26 14:00:02,962 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-6FC126F4D414: closes. applyIndex: 44
2019-09-26 14:00:02,963 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 35997 successfully
2019-09-26 14:00:02,963 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-6FC126F4D414-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:02,963 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 38702 successfully
2019-09-26 14:00:02,965 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-6FC126F4D414-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:02,966 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 42926 successfully
2019-09-26 14:00:02,967 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-6FC126F4D414-SegmentedRaftLogWorker close()
2019-09-26 14:00:02,969 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-6FC126F4D414-SegmentedRaftLogWorker close()
2019-09-26 14:00:02,969 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 42361 now
2019-09-26 14:00:02,971 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 38122 now
2019-09-26 14:00:02,971 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 42361 successfully
2019-09-26 14:00:02,971 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 38122 successfully
2019-09-26 14:00:02,971 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 14:00:02,983 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 14:00:02,983 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 14:00:02,985 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 14:00:02,986 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929]
2019-09-26 14:00:02,986 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 14:00:02,986 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 14:00:02,986 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 14:00:02,986 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 14:00:02,986 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 14:00:02,986 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 14:00:02,987 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], format? true
2019-09-26 14:00:02,987 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0
2019-09-26 14:00:02,987 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0 does not exist.
2019-09-26 14:00:02,988 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0
2019-09-26 14:00:02,988 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:02,988 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:02,989 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 45731 (custom)
2019-09-26 14:00:02,989 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:02,989 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:02,990 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:02,990 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:02,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0] (custom)
2019-09-26 14:00:02,992 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] returns group-CD63119D9996:java.util.concurrent.CompletableFuture@155d2e2e[Not completed]
2019-09-26 14:00:02,992 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] with BaseStateMachine:uninitialized
2019-09-26 14:00:02,992 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], format? true
2019-09-26 14:00:02,993 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:02,993 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1
2019-09-26 14:00:02,993 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:02,994 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1 does not exist.
2019-09-26 14:00:02,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:02,994 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1
2019-09-26 14:00:02,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:02,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:02,995 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:02,995 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-CD63119D9996: ConfigurationManager, init=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:02,995 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:02,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0] (custom)
2019-09-26 14:00:02,995 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35979 (custom)
2019-09-26 14:00:02,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:02,996 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:02,996 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996 does not exist. Creating ...
2019-09-26 14:00:02,996 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:02,997 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:02,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:02,997 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:02,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1] (custom)
2019-09-26 14:00:02,998 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] returns group-CD63119D9996:java.util.concurrent.CompletableFuture@42de54be[Not completed]
2019-09-26 14:00:02,998 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], format? true
2019-09-26 14:00:02,998 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] with BaseStateMachine:uninitialized
2019-09-26 14:00:02,998 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2
2019-09-26 14:00:03,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:03,001 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2 does not exist.
2019-09-26 14:00:03,001 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2
2019-09-26 14:00:03,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:03,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:03,001 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:03,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:03,002 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:03,002 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,002 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 36929 (custom)
2019-09-26 14:00:03,002 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-CD63119D9996: ConfigurationManager, init=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:03,002 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:03,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1] (custom)
2019-09-26 14:00:03,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:03,003 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:03,003 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996 does not exist. Creating ...
2019-09-26 14:00:03,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:03,004 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,004 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2] (custom)
2019-09-26 14:00:03,005 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] returns group-CD63119D9996:java.util.concurrent.CompletableFuture@76db3b18[Not completed]
2019-09-26 14:00:03,006 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] with BaseStateMachine:uninitialized
2019-09-26 14:00:03,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:03,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:03,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:03,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:03,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,007 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-CD63119D9996: ConfigurationManager, init=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:03,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2] (custom)
2019-09-26 14:00:03,008 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:03,008 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996 does not exist. Creating ...
2019-09-26 14:00:03,008 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,013 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:03,013 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:03,013 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:03,013 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996/current
2019-09-26 14:00:03,013 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996/current
2019-09-26 14:00:03,013 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996/sm
2019-09-26 14:00:03,013 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996/current
2019-09-26 14:00:03,013 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996/sm
2019-09-26 14:00:03,014 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996/sm
2019-09-26 14:00:03,032 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996 has been successfully formatted.
2019-09-26 14:00:03,032 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996 has been successfully formatted.
2019-09-26 14:00:03,032 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996 has been successfully formatted.
2019-09-26 14:00:03,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:03,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:03,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:03,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:03,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:03,034 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-CD63119D9996-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:03,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:03,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:03,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:03,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:03,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:03,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:03,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:03,035 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-CD63119D9996-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:03,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:03,036 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-CD63119D9996-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:03,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:03,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:03,037 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-CD63119D9996-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:03,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:03,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:03,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:03,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:03,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:03,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:03,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:03,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:03,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:03,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:03,039 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:03,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:03,039 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:03,039 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:03,039 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:03,039 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:03,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:03,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:03,040 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-CD63119D9996-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:03,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:03,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:03,040 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-CD63119D9996-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:03,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:03,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:03,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:03,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:03,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:03,045 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-CD63119D9996: start as a follower, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,045 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-CD63119D9996: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:03,046 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:03,046 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s0
2019-09-26 14:00:03,048 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 14:00:03,049 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:45731
2019-09-26 14:00:03,050 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-CD63119D9996: start as a follower, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,050 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-CD63119D9996: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:03,050 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:03,051 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s1
2019-09-26 14:00:03,052 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 14:00:03,053 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:35979
2019-09-26 14:00:03,056 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-CD63119D9996: start as a follower, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,056 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-CD63119D9996: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:03,056 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:03,057 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s2
2019-09-26 14:00:03,059 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 14:00:03,062 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:36929
2019-09-26 14:00:03,063 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:03,063 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:03,064 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CD63119D9996:t0, leader=null, voted=null, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testAddPeers$0(RaftReconfigurationBaseTest.java:78)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testAddPeers(RaftReconfigurationBaseTest.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:03,237 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-CD63119D9996-FollowerState: change to CANDIDATE, lastRpcTime:186ms, electionTimeout:186ms
2019-09-26 14:00:03,238 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:03,238 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-CD63119D9996: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:03,238 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:03,252 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-CD63119D9996-LeaderElection20: begin an election at term 1 for -1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,259 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-CD63119D9996: receive requestVote(s1, group-CD63119D9996, 1, (t:0, i:0))
2019-09-26 14:00:03,259 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-CD63119D9996: receive requestVote(s1, group-CD63119D9996, 1, (t:0, i:0))
2019-09-26 14:00:03,259 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-CD63119D9996: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-26 14:00:03,260 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-CD63119D9996: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-26 14:00:03,260 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:03,261 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:03,261 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-CD63119D9996-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:03,261 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:03,261 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-CD63119D9996-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:03,261 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:03,269 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-CD63119D9996 replies to vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-CD63119D9996:t1, leader=null, voted=s1, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,269 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-CD63119D9996 replies to vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-CD63119D9996:t1, leader=null, voted=s1, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,270 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-CD63119D9996-LeaderElection20: Election PASSED; received 1 response(s) [s1<-s0#0:OK-t1] and 0 exception(s); s1@group-CD63119D9996:t1, leader=null, voted=s1, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,270 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:03,270 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-CD63119D9996: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 14:00:03,270 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-CD63119D9996: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 238ms
2019-09-26 14:00:03,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:03,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:03,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:03,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:03,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:03,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:03,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:03,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:03,275 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:03,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:03,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:03,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:03,277 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:03,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:03,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,277 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-26 14:00:03,278 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-CD63119D9996-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:03,279 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-CD63119D9996: set configuration 0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 0
2019-09-26 14:00:03,284 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-CD63119D9996: change Leader from null to s1 at term 1 for appendEntries, leader elected after 251ms
2019-09-26 14:00:03,284 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-CD63119D9996: change Leader from null to s1 at term 1 for appendEntries, leader elected after 251ms
2019-09-26 14:00:03,287 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:03,287 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-CD63119D9996: set configuration 0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 0
2019-09-26 14:00:03,287 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:03,287 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-CD63119D9996-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:03,288 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-CD63119D9996: set configuration 0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 0
2019-09-26 14:00:03,288 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-CD63119D9996-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:03,457 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-CD63119D9996-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s0/1d4143e2-829b-481a-bf52-cd63119d9996/current/log_inprogress_0
2019-09-26 14:00:03,457 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-CD63119D9996-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s2/1d4143e2-829b-481a-bf52-cd63119d9996/current/log_inprogress_0
2019-09-26 14:00:03,457 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-CD63119D9996-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s1/1d4143e2-829b-481a-bf52-cd63119d9996/current/log_inprogress_0
2019-09-26 14:00:03,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:03,473 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:03,515 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:03,515 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 14:00:03,515 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], format? true
2019-09-26 14:00:03,515 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3
2019-09-26 14:00:03,516 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3 does not exist.
2019-09-26 14:00:03,516 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3
2019-09-26 14:00:03,517 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:03,517 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:03,517 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39835 (custom)
2019-09-26 14:00:03,518 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:03,518 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,518 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:03,518 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:03,519 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3] (custom)
2019-09-26 14:00:03,520 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] returns group-CD63119D9996:java.util.concurrent.CompletableFuture@6355e434[Not completed]
2019-09-26 14:00:03,520 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], format? true
2019-09-26 14:00:03,520 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] with BaseStateMachine:uninitialized
2019-09-26 14:00:03,521 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4
2019-09-26 14:00:03,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:03,523 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4 does not exist.
2019-09-26 14:00:03,523 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4
2019-09-26 14:00:03,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:03,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:03,524 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:03,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:03,524 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:03,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,524 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43537 (custom)
2019-09-26 14:00:03,525 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-CD63119D9996: ConfigurationManager, init=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:03,525 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:03,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3] (custom)
2019-09-26 14:00:03,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:03,526 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:03,526 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996 does not exist. Creating ...
2019-09-26 14:00:03,526 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:03,527 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4] (custom)
2019-09-26 14:00:03,527 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] returns group-CD63119D9996:java.util.concurrent.CompletableFuture@56ded0cb[Not completed]
2019-09-26 14:00:03,528 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-CD63119D9996:[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] with BaseStateMachine:uninitialized
2019-09-26 14:00:03,528 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:03,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:03,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:03,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:03,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,529 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-CD63119D9996: ConfigurationManager, init=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:03,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4] (custom)
2019-09-26 14:00:03,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:03,530 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996 does not exist. Creating ...
2019-09-26 14:00:03,531 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,540 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:03,540 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:03,541 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996/current
2019-09-26 14:00:03,541 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996/current
2019-09-26 14:00:03,541 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996/sm
2019-09-26 14:00:03,541 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996/sm
2019-09-26 14:00:03,567 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996 has been successfully formatted.
2019-09-26 14:00:03,567 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996 has been successfully formatted.
2019-09-26 14:00:03,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:03,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:03,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:03,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:03,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:03,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:03,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:03,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:03,569 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-CD63119D9996-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,569 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-CD63119D9996-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996
2019-09-26 14:00:03,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:03,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:03,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:03,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:03,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:03,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:03,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:03,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:03,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:03,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:03,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:03,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:03,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:03,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:03,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:03,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:03,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:03,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:03,573 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:03,573 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-CD63119D9996-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:03,573 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-CD63119D9996-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:03,573 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:03,573 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:03,573 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:03,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:03,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:03,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:03,579 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-CD63119D9996: start with initializing state, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,579 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-CD63119D9996: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:03,579 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s3
2019-09-26 14:00:03,583 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:03,584 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:39835
2019-09-26 14:00:03,585 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-CD63119D9996: start with initializing state, conf=-1: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null
2019-09-26 14:00:03,586 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-CD63119D9996: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:03,586 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s4
2019-09-26 14:00:03,590 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 14:00:03,591 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:43537
2019-09-26 14:00:03,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929]
2019-09-26 14:00:03,598 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s3@group-CD63119D9996: receive setConfiguration SetConfigurationRequest:client-1082A5D2847A->s3@group-CD63119D9996, cid=25, seq=0, RW, null, peers:[s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929]
2019-09-26 14:00:03,754 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-CD63119D9996: receive setConfiguration SetConfigurationRequest:client-1082A5D2847A->s0@group-CD63119D9996, cid=25, seq=0, RW, null, peers:[s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929]
2019-09-26 14:00:03,863 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-CD63119D9996: receive setConfiguration SetConfigurationRequest:client-1082A5D2847A->s1@group-CD63119D9996, cid=25, seq=0, RW, null, peers:[s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929]
2019-09-26 14:00:03,863 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s1@group-CD63119D9996-LeaderState: startSetConfiguration SetConfigurationRequest:client-1082A5D2847A->s1@group-CD63119D9996, cid=25, seq=0, RW, null, peers:[s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929]
2019-09-26 14:00:03,864 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:03,864 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,865 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:03,865 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:03,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:03,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:03,867 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:03,867 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:03,867 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:03,868 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:03,868 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:03,889 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-CD63119D9996: change Leader from null to s1 at term 1 for appendEntries, leader elected after 321ms
2019-09-26 14:00:03,889 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-CD63119D9996: change Leader from null to s1 at term 1 for appendEntries, leader elected after 321ms
2019-09-26 14:00:03,889 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-CD63119D9996: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:03,889 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-CD63119D9996: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:03,890 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-CD63119D9996: inconsistency entries. Reply:s1<-s3#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:03,890 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-CD63119D9996: inconsistency entries. Reply:s1<-s4#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:03,891 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-CD63119D9996->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:03,891 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-CD63119D9996->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:03,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:03,892 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-CD63119D9996: set configuration 0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 0
2019-09-26 14:00:03,892 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:03,893 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-CD63119D9996-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:03,893 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-CD63119D9996: set configuration 0: [s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 0
2019-09-26 14:00:03,893 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-CD63119D9996-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:03,994 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-CD63119D9996-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s4/1d4143e2-829b-481a-bf52-cd63119d9996/current/log_inprogress_0
2019-09-26 14:00:03,994 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-CD63119D9996-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpce397b0f8/s3/1d4143e2-829b-481a-bf52-cd63119d9996/current/log_inprogress_0
2019-09-26 14:00:04,006 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 14:00:04,006 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s3#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 14:00:04,073 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-CD63119D9996: set configuration 1: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] at 1
2019-09-26 14:00:04,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:04,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:04,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:04,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:04,078 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-CD63119D9996: set configuration 1: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] at 1
2019-09-26 14:00:04,077 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:04,077 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 14:00:04,078 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-CD63119D9996: set configuration 1: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] at 1
2019-09-26 14:00:04,079 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-CD63119D9996: set configuration 1: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] at 1
2019-09-26 14:00:04,079 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-CD63119D9996: set configuration 1: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=[s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929] at 1
2019-09-26 14:00:04,086 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s2#11:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:04,087 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s4#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:04,087 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s3#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:04,087 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s0#11:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:04,089 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-CD63119D9996: set configuration 3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 3
2019-09-26 14:00:04,089 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:04,089 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:04,089 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:04,089 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:04,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:04,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:04,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:04,090 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-CD63119D9996: set configuration 3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 3
2019-09-26 14:00:04,090 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-CD63119D9996: set configuration 3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 3
2019-09-26 14:00:04,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:04,091 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-CD63119D9996: set configuration 3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 3
2019-09-26 14:00:04,091 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-CD63119D9996: set configuration 3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null at 3
2019-09-26 14:00:04,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s0#12:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:04,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s4#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:04,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s3#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:04,101 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s2#12:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:04,101 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s0#13:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:04,101 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s4#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:04,102 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s2#13:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:04,102 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s3#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:04,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits[s1:c3, s0:c1, s2:c0, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits[s1:c3, s0:c1, s2:c0, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits[s1:c3, s0:c1, s2:c0, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits[s1:c3, s0:c1, s2:c0, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,105 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,106 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-CD63119D9996:t1, leader=s1, voted=null, raftlog=s3@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-CD63119D9996:t1, leader=s1, voted=null, raftlog=s4@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:04,106 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-CD63119D9996:t1, leader=s1, voted=null, raftlog=s3@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:04,107 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s4@group-CD63119D9996:t1, leader=s1, voted=null, raftlog=s4@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:04,107 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s0@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:04,107 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s1@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:04,107 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:04,108 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:04,108 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:04,108 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:04,108 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:04,108 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:04,109 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-CD63119D9996:t1, leader=s1, voted=null, raftlog=s3@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-CD63119D9996:t1, leader=s1, voted=null, raftlog=s4@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s0@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s1@group-CD63119D9996-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CD63119D9996:t1, leader=s1, voted=s1, raftlog=s2@group-CD63119D9996-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:39835, s4:0.0.0.0:43537, s0:0.0.0.0:45731, s1:0.0.0.0:35979, s2:0.0.0.0:36929], old=null RUNNING
2019-09-26 14:00:04,110 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:04,111 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:04,111 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 14:00:04,111 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 14:00:04,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s2#14:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:04,114 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s4#6:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:04,114 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-CD63119D9996: shutdown
2019-09-26 14:00:04,112 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-CD63119D9996: shutdown
2019-09-26 14:00:04,112 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 14:00:04,112 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-CD63119D9996: shutdown
2019-09-26 14:00:04,116 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-CD63119D9996: shutdown
2019-09-26 14:00:04,116 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s0
2019-09-26 14:00:04,115 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s1
2019-09-26 14:00:04,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s3#6:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:04,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-CD63119D9996: succeeded to handle AppendEntries. Reply: s1<-s0#14:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:04,115 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-CD63119D9996: shutdown
2019-09-26 14:00:04,117 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-26 14:00:04,117 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:04,116 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s2
2019-09-26 14:00:04,121 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:04,116 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s3
2019-09-26 14:00:04,122 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-CD63119D9996-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,121 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-CD63119D9996-StateMachineUpdater: set stopIndex = 3
2019-09-26 14:00:04,122 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-CD63119D9996: closes. applyIndex: 3
2019-09-26 14:00:04,121 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-CD63119D9996-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,121 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-CD63119D9996-StateMachineUpdater: set stopIndex = 3
2019-09-26 14:00:04,124 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-CD63119D9996: closes. applyIndex: 3
2019-09-26 14:00:04,120 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-CD63119D9996->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:04,124 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-CD63119D9996-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:04,120 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-CD63119D9996-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:04,120 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-CD63119D9996->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:04,120 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-CD63119D9996->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:04,120 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-CD63119D9996->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:04,118 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD63119D9996,id=s4
2019-09-26 14:00:04,127 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s1->s3#6-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,127 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s1->s4#6-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,127 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-CD63119D9996-SegmentedRaftLogWorker close()
2019-09-26 14:00:04,126 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-CD63119D9996-StateMachineUpdater: set stopIndex = 4
2019-09-26 14:00:04,125 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#14-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,123 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-CD63119D9996-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:04,122 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:04,130 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-CD63119D9996->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:04,130 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-CD63119D9996: closes. applyIndex: 4
2019-09-26 14:00:04,129 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 45731 now
2019-09-26 14:00:04,128 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-CD63119D9996->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:04,127 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#14-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:04,127 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 14:00:04,133 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 45731 successfully
2019-09-26 14:00:04,133 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-CD63119D9996-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,132 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-CD63119D9996-SegmentedRaftLogWorker close()
2019-09-26 14:00:04,132 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-CD63119D9996->s4: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:04,131 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-CD63119D9996-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:04,131 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-CD63119D9996-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,131 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-CD63119D9996-StateMachineUpdater: set stopIndex = 3
2019-09-26 14:00:04,138 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-CD63119D9996: closes. applyIndex: 3
2019-09-26 14:00:04,131 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-CD63119D9996->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:04,138 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-CD63119D9996-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:04,138 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-CD63119D9996->s0: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:04,137 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-CD63119D9996-SegmentedRaftLogWorker close()
2019-09-26 14:00:04,135 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 36929 now
2019-09-26 14:00:04,142 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 35979 now
2019-09-26 14:00:04,134 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-CD63119D9996->s3: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:04,133 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-CD63119D9996->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:04,133 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-CD63119D9996-StateMachineUpdater: set stopIndex = 3
2019-09-26 14:00:04,144 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-CD63119D9996->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:04,144 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-CD63119D9996: closes. applyIndex: 3
2019-09-26 14:00:04,143 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 35979 successfully
2019-09-26 14:00:04,143 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 36929 successfully
2019-09-26 14:00:04,142 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-CD63119D9996-SegmentedRaftLogWorker close()
2019-09-26 14:00:04,144 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-CD63119D9996-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:04,145 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 39835 now
2019-09-26 14:00:04,146 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 39835 successfully
2019-09-26 14:00:04,148 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-CD63119D9996-SegmentedRaftLogWorker close()
2019-09-26 14:00:04,150 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 43537 now
2019-09-26 14:00:04,150 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 43537 successfully
2019-09-26 14:00:04,150 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 14:00:04,151 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 14:00:04,152 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 14:00:04,153 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 14:00:04,154 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:04,154 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 14:00:04,154 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 14:00:04,154 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 14:00:04,154 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 14:00:04,154 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 14:00:04,154 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 14:00:04,155 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], format? true
2019-09-26 14:00:04,155 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3
2019-09-26 14:00:04,155 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3 does not exist.
2019-09-26 14:00:04,155 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3
2019-09-26 14:00:04,156 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:04,156 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:04,156 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40655 (custom)
2019-09-26 14:00:04,156 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:04,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,157 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:04,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,158 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3] (custom)
2019-09-26 14:00:04,159 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] returns group-01F5BFD8DFC7:java.util.concurrent.CompletableFuture@385641e7[Not completed]
2019-09-26 14:00:04,159 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] with BaseStateMachine:uninitialized
2019-09-26 14:00:04,159 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], format? true
2019-09-26 14:00:04,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:04,160 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4
2019-09-26 14:00:04,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,160 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4 does not exist.
2019-09-26 14:00:04,160 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4
2019-09-26 14:00:04,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:04,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:04,161 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:04,161 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,161 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:04,161 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-01F5BFD8DFC7: ConfigurationManager, init=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:04,161 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38620 (custom)
2019-09-26 14:00:04,161 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3] (custom)
2019-09-26 14:00:04,161 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:04,162 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:04,162 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,162 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7 does not exist. Creating ...
2019-09-26 14:00:04,162 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:04,162 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,163 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,163 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4] (custom)
2019-09-26 14:00:04,163 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] returns group-01F5BFD8DFC7:java.util.concurrent.CompletableFuture@2e9bf07a[Not completed]
2019-09-26 14:00:04,163 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], format? true
2019-09-26 14:00:04,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] with BaseStateMachine:uninitialized
2019-09-26 14:00:04,163 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0
2019-09-26 14:00:04,164 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:04,164 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0 does not exist.
2019-09-26 14:00:04,164 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,165 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0
2019-09-26 14:00:04,165 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:04,165 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:04,165 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:04,165 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:04,165 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,166 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37729 (custom)
2019-09-26 14:00:04,166 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-01F5BFD8DFC7: ConfigurationManager, init=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:04,166 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:04,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4] (custom)
2019-09-26 14:00:04,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:04,167 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:04,167 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7 does not exist. Creating ...
2019-09-26 14:00:04,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0] (custom)
2019-09-26 14:00:04,167 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,168 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] returns group-01F5BFD8DFC7:java.util.concurrent.CompletableFuture@5bbc197d[Not completed]
2019-09-26 14:00:04,168 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], format? true
2019-09-26 14:00:04,168 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] with BaseStateMachine:uninitialized
2019-09-26 14:00:04,168 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1
2019-09-26 14:00:04,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:04,169 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1 does not exist.
2019-09-26 14:00:04,169 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1
2019-09-26 14:00:04,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,170 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:04,170 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:04,170 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:04,170 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:04,170 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35171 (custom)
2019-09-26 14:00:04,170 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,170 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:04,170 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-01F5BFD8DFC7: ConfigurationManager, init=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:04,171 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,171 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0] (custom)
2019-09-26 14:00:04,171 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:04,171 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:04,171 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,171 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7 does not exist. Creating ...
2019-09-26 14:00:04,172 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1] (custom)
2019-09-26 14:00:04,172 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,172 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] returns group-01F5BFD8DFC7:java.util.concurrent.CompletableFuture@2d9c9247[Not completed]
2019-09-26 14:00:04,172 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], format? true
2019-09-26 14:00:04,172 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] with BaseStateMachine:uninitialized
2019-09-26 14:00:04,172 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2
2019-09-26 14:00:04,173 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:04,173 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2 does not exist.
2019-09-26 14:00:04,173 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2
2019-09-26 14:00:04,173 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,174 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:04,174 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:04,174 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:04,174 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:04,174 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33048 (custom)
2019-09-26 14:00:04,174 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,174 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:04,175 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-01F5BFD8DFC7: ConfigurationManager, init=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:04,175 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,175 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1] (custom)
2019-09-26 14:00:04,175 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:04,175 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:04,175 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,175 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7 does not exist. Creating ...
2019-09-26 14:00:04,176 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2] (custom)
2019-09-26 14:00:04,176 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] returns group-01F5BFD8DFC7:java.util.concurrent.CompletableFuture@6865c311[Not completed]
2019-09-26 14:00:04,176 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] with BaseStateMachine:uninitialized
2019-09-26 14:00:04,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:04,177 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:04,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:04,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,178 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:04,178 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:04,178 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-01F5BFD8DFC7: ConfigurationManager, init=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:04,178 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:04,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2] (custom)
2019-09-26 14:00:04,178 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current
2019-09-26 14:00:04,178 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current
2019-09-26 14:00:04,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:04,179 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7 does not exist. Creating ...
2019-09-26 14:00:04,179 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7/sm
2019-09-26 14:00:04,179 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current
2019-09-26 14:00:04,179 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/sm
2019-09-26 14:00:04,180 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7/sm
2019-09-26 14:00:04,179 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,180 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:04,180 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current
2019-09-26 14:00:04,185 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/sm
2019-09-26 14:00:04,186 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7 has been successfully formatted.
2019-09-26 14:00:04,186 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7 has been successfully formatted.
2019-09-26 14:00:04,186 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:04,186 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:04,186 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:04,187 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:04,187 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:04,187 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:04,187 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,187 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,187 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,187 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,188 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:04,188 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:04,188 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,188 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:04,188 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-01F5BFD8DFC7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,188 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:04,188 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:04,188 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:04,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:04,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,189 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current
2019-09-26 14:00:04,189 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7 has been successfully formatted.
2019-09-26 14:00:04,189 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/sm
2019-09-26 14:00:04,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:04,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:04,189 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7 has been successfully formatted.
2019-09-26 14:00:04,189 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:04,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:04,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:04,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:04,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:04,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:04,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:04,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:04,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:04,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:04,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:04,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:04,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:04,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:04,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:04,193 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:04,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:04,192 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:04,192 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:04,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:04,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:04,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:04,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,193 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:04,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:04,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:04,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:04,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:04,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:04,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:04,195 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-01F5BFD8DFC7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:04,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:04,195 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-01F5BFD8DFC7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:04,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:04,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:04,197 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:04,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:04,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:04,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:04,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:04,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:04,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:04,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:04,199 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-01F5BFD8DFC7: start as a follower, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:04,199 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-01F5BFD8DFC7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:04,199 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:04,199 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:04,199 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-01F5BFD8DFC7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:04,200 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s3
2019-09-26 14:00:04,200 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:04,200 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:04,200 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:04,202 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7 has been successfully formatted.
2019-09-26 14:00:04,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:04,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:04,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:04,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:04,203 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:04,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:04,203 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:04,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:04,204 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:04,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:04,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:04,204 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:40655
2019-09-26 14:00:04,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:04,205 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-01F5BFD8DFC7: start as a follower, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,205 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-01F5BFD8DFC7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:04,205 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 14:00:04,206 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s4
2019-09-26 14:00:04,208 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 14:00:04,209 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:38620
2019-09-26 14:00:04,210 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-01F5BFD8DFC7: start as a follower, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,210 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-01F5BFD8DFC7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:04,210 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:04,210 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s0
2019-09-26 14:00:04,212 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 14:00:04,213 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:37729
2019-09-26 14:00:04,214 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-01F5BFD8DFC7: start as a follower, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,214 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-01F5BFD8DFC7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:04,214 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:04,215 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s1
2019-09-26 14:00:04,217 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 14:00:04,218 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:35171
2019-09-26 14:00:04,219 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-01F5BFD8DFC7: start as a follower, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,219 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-01F5BFD8DFC7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:04,219 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:04,220 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s2
2019-09-26 14:00:04,221 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 14:00:04,222 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:33048
2019-09-26 14:00:04,223 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,223 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:04,223 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:125)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testLeaderStepDown$3(RaftReconfigurationBaseTest.java:121)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderStepDown(RaftReconfigurationBaseTest.java:121)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:04,413 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-01F5BFD8DFC7-FollowerState: change to CANDIDATE, lastRpcTime:207ms, electionTimeout:207ms
2019-09-26 14:00:04,414 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 14:00:04,414 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-01F5BFD8DFC7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:04,414 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 14:00:04,430 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-01F5BFD8DFC7-LeaderElection21: begin an election at term 1 for -1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,438 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-01F5BFD8DFC7: receive requestVote(s4, group-01F5BFD8DFC7, 1, (t:0, i:0))
2019-09-26 14:00:04,438 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-01F5BFD8DFC7: receive requestVote(s4, group-01F5BFD8DFC7, 1, (t:0, i:0))
2019-09-26 14:00:04,438 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-01F5BFD8DFC7: receive requestVote(s4, group-01F5BFD8DFC7, 1, (t:0, i:0))
2019-09-26 14:00:04,438 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-01F5BFD8DFC7: receive requestVote(s4, group-01F5BFD8DFC7, 1, (t:0, i:0))
2019-09-26 14:00:04,439 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 14:00:04,440 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:04,439 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 14:00:04,439 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 14:00:04,440 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:04,440 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,440 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,440 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:04,439 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s4
2019-09-26 14:00:04,441 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:04,440 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:04,440 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:04,441 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,442 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:04,441 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:04,442 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:04,455 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-01F5BFD8DFC7 replies to vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-01F5BFD8DFC7:t1, leader=null, voted=s4, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,455 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-01F5BFD8DFC7 replies to vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-01F5BFD8DFC7:t1, leader=null, voted=s4, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,455 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-01F5BFD8DFC7 replies to vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-01F5BFD8DFC7:t1, leader=null, voted=s4, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,455 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-01F5BFD8DFC7 replies to vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-01F5BFD8DFC7:t1, leader=null, voted=s4, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,457 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-01F5BFD8DFC7-LeaderElection21: Election PASSED; received 2 response(s) [s4<-s3#0:OK-t1, s4<-s0#0:OK-t1] and 0 exception(s); s4@group-01F5BFD8DFC7:t1, leader=null, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,457 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 14:00:04,457 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-01F5BFD8DFC7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 14:00:04,457 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-01F5BFD8DFC7: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 267ms
2019-09-26 14:00:04,457 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:04,457 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:04,458 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:04,458 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:04,458 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:04,458 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:04,461 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:04,461 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,461 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:04,461 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:04,461 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,461 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,462 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:04,462 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,462 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:04,462 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:04,462 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,463 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,463 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:04,463 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,463 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:04,463 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:04,463 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:04,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:04,464 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:04,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,465 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,465 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-26 14:00:04,465 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:04,466 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-01F5BFD8DFC7: set configuration 0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 0
2019-09-26 14:00:04,469 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-01F5BFD8DFC7: change Leader from null to s4 at term 1 for appendEntries, leader elected after 282ms
2019-09-26 14:00:04,469 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-01F5BFD8DFC7: change Leader from null to s4 at term 1 for appendEntries, leader elected after 282ms
2019-09-26 14:00:04,470 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-01F5BFD8DFC7: change Leader from null to s4 at term 1 for appendEntries, leader elected after 267ms
2019-09-26 14:00:04,469 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-01F5BFD8DFC7: change Leader from null to s4 at term 1 for appendEntries, leader elected after 278ms
2019-09-26 14:00:04,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-01F5BFD8DFC7: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:04,471 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:04,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:04,472 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-01F5BFD8DFC7: set configuration 0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 0
2019-09-26 14:00:04,472 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-01F5BFD8DFC7: set configuration 0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 0
2019-09-26 14:00:04,472 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-01F5BFD8DFC7: set configuration 0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 0
2019-09-26 14:00:04,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: receive appendEntries(s4, 1, null, -1, false, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:04,473 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:04,472 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:04,472 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:04,473 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-01F5BFD8DFC7: set configuration 0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 0
2019-09-26 14:00:04,474 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:04,675 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:04,675 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s5, s6]
2019-09-26 14:00:04,676 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s5, group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], format? true
2019-09-26 14:00:04,676 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5
2019-09-26 14:00:04,676 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5 does not exist.
2019-09-26 14:00:04,677 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5
2019-09-26 14:00:04,677 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:04,678 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:04,678 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 32913 (custom)
2019-09-26 14:00:04,678 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:04,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,679 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:04,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5] (custom)
2019-09-26 14:00:04,680 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s5: addNew group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] returns group-01F5BFD8DFC7:java.util.concurrent.CompletableFuture@78a351de[Not completed]
2019-09-26 14:00:04,680 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s5: new RaftServerImpl for group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] with BaseStateMachine:uninitialized
2019-09-26 14:00:04,680 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s6, group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], format? true
2019-09-26 14:00:04,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:04,683 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6
2019-09-26 14:00:04,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,683 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6 does not exist.
2019-09-26 14:00:04,683 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6
2019-09-26 14:00:04,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:04,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:04,684 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:04,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,684 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:04,684 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s5@group-01F5BFD8DFC7: ConfigurationManager, init=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:04,685 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37226 (custom)
2019-09-26 14:00:04,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5] (custom)
2019-09-26 14:00:04,685 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:04,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:04,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,686 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7 does not exist. Creating ...
2019-09-26 14:00:04,686 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:04,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:04,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6] (custom)
2019-09-26 14:00:04,687 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s6: addNew group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] returns group-01F5BFD8DFC7:java.util.concurrent.CompletableFuture@678c8d06[Not completed]
2019-09-26 14:00:04,688 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s6: new RaftServerImpl for group-01F5BFD8DFC7:[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] with BaseStateMachine:uninitialized
2019-09-26 14:00:04,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:04,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:04,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:04,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:04,689 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s6@group-01F5BFD8DFC7: ConfigurationManager, init=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:04,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6] (custom)
2019-09-26 14:00:04,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:04,690 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7 does not exist. Creating ...
2019-09-26 14:00:04,707 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,707 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,707 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0
2019-09-26 14:00:04,707 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0
2019-09-26 14:00:04,707 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s3/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0
2019-09-26 14:00:04,707 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0
2019-09-26 14:00:04,707 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s4/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0
2019-09-26 14:00:04,709 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:04,710 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s3#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:04,710 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:04,710 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:04,710 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:04,711 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:04,711 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current
2019-09-26 14:00:04,711 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current
2019-09-26 14:00:04,711 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/sm
2019-09-26 14:00:04,711 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/sm
2019-09-26 14:00:04,722 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7 has been successfully formatted.
2019-09-26 14:00:04,722 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7 has been successfully formatted.
2019-09-26 14:00:04,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:04,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:04,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:04,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:04,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:04,723 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,724 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7
2019-09-26 14:00:04,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:04,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:04,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:04,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:04,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:04,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:04,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:04,726 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:04,726 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:04,726 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:04,726 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:04,726 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:04,726 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:04,726 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:04,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:04,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:04,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:04,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:04,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:04,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:04,731 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s5@group-01F5BFD8DFC7: start with initializing state, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,731 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-01F5BFD8DFC7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:04,732 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s5
2019-09-26 14:00:04,735 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s5: start RPC server
2019-09-26 14:00:04,737 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s5: GrpcService started, listening on 0.0.0.0/0.0.0.0:32913
2019-09-26 14:00:04,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s6@group-01F5BFD8DFC7: start with initializing state, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:04,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-01F5BFD8DFC7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:04,739 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s6
2019-09-26 14:00:04,742 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s6: start RPC server
2019-09-26 14:00:04,742 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s6: GrpcService started, listening on 0.0.0.0/0.0.0.0:37226
2019-09-26 14:00:04,743 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:04,743 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null STARTING
  s6:  RUNNING  FOLLOWER s6@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null STARTING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:04,744 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null STARTING
  s6:  RUNNING  FOLLOWER s6@group-01F5BFD8DFC7:t0, leader=null, voted=null, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null STARTING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:04,744 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:setConfiguration(688)) - Start changing the configuration: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:04,749 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s5@group-01F5BFD8DFC7: receive setConfiguration SetConfigurationRequest:client-AC034E8A5FB8->s5@group-01F5BFD8DFC7, cid=26, seq=0, RW, null, peers:[s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:04,866 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s6@group-01F5BFD8DFC7: receive setConfiguration SetConfigurationRequest:client-AC034E8A5FB8->s6@group-01F5BFD8DFC7, cid=26, seq=0, RW, null, peers:[s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:04,983 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-01F5BFD8DFC7: receive setConfiguration SetConfigurationRequest:client-AC034E8A5FB8->s2@group-01F5BFD8DFC7, cid=26, seq=0, RW, null, peers:[s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:05,092 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s4@group-01F5BFD8DFC7: receive setConfiguration SetConfigurationRequest:client-AC034E8A5FB8->s4@group-01F5BFD8DFC7, cid=26, seq=0, RW, null, peers:[s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:05,092 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s4@group-01F5BFD8DFC7-LeaderState: startSetConfiguration SetConfigurationRequest:client-AC034E8A5FB8->s4@group-01F5BFD8DFC7, cid=26, seq=0, RW, null, peers:[s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:05,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:05,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:05,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:05,094 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:05,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:05,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:05,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:05,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:05,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:05,095 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:05,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:05,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:05,116 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-01F5BFD8DFC7: change Leader from null to s4 at term 1 for appendEntries, leader elected after 394ms
2019-09-26 14:00:05,116 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-01F5BFD8DFC7: change Leader from null to s4 at term 1 for appendEntries, leader elected after 394ms
2019-09-26 14:00:05,117 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s5@group-01F5BFD8DFC7: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:05,117 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s6@group-01F5BFD8DFC7: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:05,117 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s5@group-01F5BFD8DFC7: inconsistency entries. Reply:s4<-s5#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:05,117 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s6@group-01F5BFD8DFC7: inconsistency entries. Reply:s4<-s6#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:05,118 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s5: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:05,119 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s6: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:05,119 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: receive appendEntries(s4, 1, null, 0, true, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c-1, s6:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:05,120 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-01F5BFD8DFC7: set configuration 0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 0
2019-09-26 14:00:05,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: receive appendEntries(s4, 1, null, 0, true, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c-1, s6:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:05,120 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:05,121 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-01F5BFD8DFC7: set configuration 0: [s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 0
2019-09-26 14:00:05,122 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:05,232 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0
2019-09-26 14:00:05,232 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0
2019-09-26 14:00:05,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s6#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 14:00:05,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s5#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 14:00:05,312 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-01F5BFD8DFC7: set configuration 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] at 1
2019-09-26 14:00:05,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:05,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:05,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:05,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:05,314 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-01F5BFD8DFC7: set configuration 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] at 1
2019-09-26 14:00:05,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:05,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:0), 0, false, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:05,315 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-01F5BFD8DFC7: set configuration 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] at 1
2019-09-26 14:00:05,314 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-01F5BFD8DFC7: set configuration 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] at 1
2019-09-26 14:00:05,314 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s6: start FollowerState
2019-09-26 14:00:05,313 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s5: start FollowerState
2019-09-26 14:00:05,315 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-01F5BFD8DFC7: set configuration 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] at 1
2019-09-26 14:00:05,316 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-01F5BFD8DFC7: set configuration 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] at 1
2019-09-26 14:00:05,316 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-01F5BFD8DFC7: set configuration 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] at 1
2019-09-26 14:00:05,324 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s0#12:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:05,324 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s6#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:05,324 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s5#3:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:05,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s1#12:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:05,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s3#12:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:05,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s2#12:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:05,328 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-01F5BFD8DFC7: set configuration 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 3
2019-09-26 14:00:05,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:05,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:05,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:05,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:05,329 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#13-t1, previous=(t:1, i:1), leaderCommit=1, initializing? false, entries: size=1, first=(t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:05,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:2), 1, false, commits[s4:c1, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:05,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:05,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:1), 1, false, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:05,330 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-01F5BFD8DFC7->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:05,330 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-01F5BFD8DFC7: set configuration 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 3
2019-09-26 14:00:05,330 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:2), 1, false, commits[s4:c1, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:05,330 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:2), 1, false, commits[s4:c1, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:05,332 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-01F5BFD8DFC7: set configuration 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 3
2019-09-26 14:00:05,331 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:2), 1, false, commits[s4:c1, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:05,331 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:2), 1, false, commits[s4:c1, s0:c0, s1:c0, s2:c0, s5:c0, s6:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:05,333 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-01F5BFD8DFC7: set configuration 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 3
2019-09-26 14:00:05,332 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-01F5BFD8DFC7: set configuration 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 3
2019-09-26 14:00:05,332 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s3: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 14:00:05,333 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-01F5BFD8DFC7: set configuration 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 3
2019-09-26 14:00:05,338 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s2#13:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:05,339 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s6#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:05,339 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s0#13:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:05,339 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s3#13:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:05,339 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s1#13:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:05,339 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s5#4:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:05,340 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s2#14:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:05,340 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s6#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:05,340 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s0#14:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:05,341 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s1#14:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:05,342 INFO  impl.RaftServerImpl (LeaderState.java:checkAndUpdateConfiguration(652)) - s4@group-01F5BFD8DFC7-LeaderState is not included in the new configuration 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null. Will shutdown server...
2019-09-26 14:00:05,342 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:3), 3, false, commits[s4:c3, s0:c1, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:05,342 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:3), 3, false, commits[s4:c3, s0:c1, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:05,342 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:3), 3, false, commits[s4:c3, s0:c1, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:05,342 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:3), 3, false, commits[s4:c3, s0:c1, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:05,342 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: receive appendEntries(s4, 1, (t:1, i:3), 3, false, commits[s4:c3, s0:c1, s1:c1, s2:c1, s5:c1, s6:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:05,343 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s5#5:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:05,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:05,344 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s0#15:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:05,344 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] RUNNING
  s4:  RUNNING    LEADER s4@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-01F5BFD8DFC7:t1, leader=s4, voted=null, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-01F5BFD8DFC7:t1, leader=s4, voted=null, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:05,344 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] RUNNING
2019-09-26 14:00:05,344 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s1#15:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:05,345 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s5@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s5#6:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:05,345 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s2#15:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:05,344 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestAddRemovePeers(RaftReconfigurationBaseTest.java:135)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.lambda$testLeaderStepDown$3(RaftReconfigurationBaseTest.java:121)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderStepDown(RaftReconfigurationBaseTest.java:121)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:05,345 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s4<-s6#6:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:05,492 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-01F5BFD8DFC7: shutdown
2019-09-26 14:00:05,492 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s4
2019-09-26 14:00:05,492 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s4: shutdown LeaderState
2019-09-26 14:00:05,495 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-01F5BFD8DFC7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:05,496 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-01F5BFD8DFC7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:05,496 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-01F5BFD8DFC7->s6-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:05,496 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-01F5BFD8DFC7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:05,496 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s4@group-01F5BFD8DFC7-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:05,497 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s4->s1#16-t1, previous=(t:1, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:05,496 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-01F5BFD8DFC7->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:05,497 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s4->s2#16-t1, previous=(t:1, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:05,497 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s6: Completed APPEND_ENTRIES, lastRequest: s4->s6#7-t1, previous=(t:1, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:05,498 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-01F5BFD8DFC7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:05,497 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-01F5BFD8DFC7-StateMachineUpdater: set stopIndex = 3
2019-09-26 14:00:05,499 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-01F5BFD8DFC7: closes. applyIndex: 3
2019-09-26 14:00:05,497 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s4->s0#16-t1, previous=(t:1, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:05,499 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-01F5BFD8DFC7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:05,499 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-01F5BFD8DFC7->s6-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:05,498 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s5: Completed APPEND_ENTRIES, lastRequest: s4->s5#7-t1, previous=(t:1, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:05,501 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:05,501 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-01F5BFD8DFC7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:05,499 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-01F5BFD8DFC7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:05,502 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-01F5BFD8DFC7->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:05,501 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s2: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:05,502 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s6: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:05,503 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s0: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:05,505 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-01F5BFD8DFC7->s5: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:05,505 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-01F5BFD8DFC7-SegmentedRaftLogWorker close()
2019-09-26 14:00:05,629 INFO  impl.FollowerState (FollowerState.java:run(108)) - s5@group-01F5BFD8DFC7-FollowerState: change to CANDIDATE, lastRpcTime:207ms, electionTimeout:151ms
2019-09-26 14:00:05,630 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown FollowerState
2019-09-26 14:00:05,630 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-01F5BFD8DFC7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:05,630 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s5: start LeaderElection
2019-09-26 14:00:05,631 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-01F5BFD8DFC7: change Leader from s4 to null at term 1 for initElection
2019-09-26 14:00:05,646 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s5@group-01F5BFD8DFC7-LeaderElection22: begin an election at term 2 for 3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,655 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-01F5BFD8DFC7: receive requestVote(s5, group-01F5BFD8DFC7, 2, (t:1, i:4))
2019-09-26 14:00:05,655 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-01F5BFD8DFC7: receive requestVote(s5, group-01F5BFD8DFC7, 2, (t:1, i:4))
2019-09-26 14:00:05,655 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-01F5BFD8DFC7: receive requestVote(s5, group-01F5BFD8DFC7, 2, (t:1, i:4))
2019-09-26 14:00:05,656 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-01F5BFD8DFC7: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:05,655 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-01F5BFD8DFC7: receive requestVote(s5, group-01F5BFD8DFC7, 2, (t:1, i:4))
2019-09-26 14:00:05,656 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-01F5BFD8DFC7: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:05,655 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-01F5BFD8DFC7: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:05,656 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s5
2019-09-26 14:00:05,656 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s5
2019-09-26 14:00:05,656 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-01F5BFD8DFC7: change Leader from s4 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:05,657 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:05,657 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:05,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s5
2019-09-26 14:00:05,658 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:05,657 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:05,657 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:05,657 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:05,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-01F5BFD8DFC7: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s5
2019-09-26 14:00:05,659 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s6: shutdown FollowerState
2019-09-26 14:00:05,658 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:05,659 INFO  impl.FollowerState (FollowerState.java:run(117)) - s6@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:05,659 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s6: start FollowerState
2019-09-26 14:00:05,659 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:05,659 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:05,672 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-01F5BFD8DFC7 replies to vote request: s5<-s1#0:OK-t2. Peer's state: s1@group-01F5BFD8DFC7:t2, leader=null, voted=s5, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,672 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-01F5BFD8DFC7 replies to vote request: s5<-s0#0:OK-t2. Peer's state: s0@group-01F5BFD8DFC7:t2, leader=null, voted=s5, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,672 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-01F5BFD8DFC7 replies to vote request: s5<-s6#0:OK-t2. Peer's state: s6@group-01F5BFD8DFC7:t2, leader=null, voted=s5, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,672 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-01F5BFD8DFC7 replies to vote request: s5<-s2#0:OK-t2. Peer's state: s2@group-01F5BFD8DFC7:t2, leader=null, voted=s5, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,673 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s5@group-01F5BFD8DFC7-LeaderElection22: Election PASSED; received 2 response(s) [s5<-s0#0:OK-t2, s5<-s1#0:OK-t2] and 0 exception(s); s5@group-01F5BFD8DFC7:t2, leader=null, voted=s5, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,674 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s5: shutdown LeaderElection
2019-09-26 14:00:05,674 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-01F5BFD8DFC7: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 14:00:05,674 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s5@group-01F5BFD8DFC7: change Leader from null to s5 at term 2 for becomeLeader, leader elected after 42ms
2019-09-26 14:00:05,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:05,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:05,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:05,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:05,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:05,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:05,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:05,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:05,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:05,678 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:05,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:05,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:05,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:05,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:05,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:05,679 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:05,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:05,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:05,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:05,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:05,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:05,680 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:05,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:05,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:05,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:05,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:05,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:05,681 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:05,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:05,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:05,682 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s5: start LeaderState
2019-09-26 14:00:05,682 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 14:00:05,683 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s5@group-01F5BFD8DFC7: set configuration 5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 5
2019-09-26 14:00:05,684 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s6@group-01F5BFD8DFC7: change Leader from null to s5 at term 2 for appendEntries, leader elected after 28ms
2019-09-26 14:00:05,685 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-01F5BFD8DFC7: change Leader from null to s5 at term 2 for appendEntries, leader elected after 28ms
2019-09-26 14:00:05,685 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,685 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,684 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-01F5BFD8DFC7: change Leader from null to s5 at term 2 for appendEntries, leader elected after 29ms
2019-09-26 14:00:05,684 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-01F5BFD8DFC7: change Leader from null to s5 at term 2 for appendEntries, leader elected after 28ms
2019-09-26 14:00:05,686 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:1, i:4), 3, false, commits[s5:c3, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:5), CONFIGURATIONENTRY
2019-09-26 14:00:05,687 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:1, i:4), 3, false, commits[s5:c3, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:5), CONFIGURATIONENTRY
2019-09-26 14:00:05,687 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-01F5BFD8DFC7: set configuration 5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 5
2019-09-26 14:00:05,687 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s6@group-01F5BFD8DFC7: set configuration 5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 5
2019-09-26 14:00:05,687 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:1, i:4), 3, false, commits[s5:c3, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:5), CONFIGURATIONENTRY
2019-09-26 14:00:05,688 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 14:00:05,687 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:1, i:4), 3, false, commits[s5:c3, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:5), CONFIGURATIONENTRY
2019-09-26 14:00:05,687 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 14:00:05,688 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-01F5BFD8DFC7: set configuration 5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 5
2019-09-26 14:00:05,688 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-01F5BFD8DFC7: set configuration 5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null at 5
2019-09-26 14:00:05,689 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 14:00:05,689 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-26 14:00:05,690 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,690 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,690 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,690 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,691 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,691 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,692 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,692 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_0-4
2019-09-26 14:00:05,715 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-01F5BFD8DFC7-FollowerState: change to CANDIDATE, lastRpcTime:376ms, electionTimeout:226ms
2019-09-26 14:00:05,715 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:05,715 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-01F5BFD8DFC7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:05,715 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 14:00:05,716 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-01F5BFD8DFC7: change Leader from s4 to null at term 1 for initElection
2019-09-26 14:00:05,973 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s6/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_5
2019-09-26 14:00:05,973 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s2/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_5
2019-09-26 14:00:05,973 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s0/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_5
2019-09-26 14:00:05,973 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s1/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_5
2019-09-26 14:00:05,973 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcebb9e085/s5/2357bba3-d379-4b71-b510-01f5bfd8dfc7/current/log_inprogress_5
2019-09-26 14:00:05,974 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-01F5BFD8DFC7-LeaderElection23: begin an election at term 2 for 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:05,984 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 2, (t:1, i:2))
2019-09-26 14:00:05,984 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 2, (t:1, i:2))
2019-09-26 14:00:05,984 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s5@group-01F5BFD8DFC7-   LEADER: Withhold vote from candidate s3 with term 2. State: leader=s5, term=2, lastRpcElapsed=null
2019-09-26 14:00:05,984 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 2, (t:1, i:2))
2019-09-26 14:00:05,984 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s1@group-01F5BFD8DFC7- FOLLOWER: Withhold vote from candidate s3 with term 2. State: leader=s5, term=2, lastRpcElapsed=68ms
2019-09-26 14:00:05,985 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 2, (t:1, i:2))
2019-09-26 14:00:05,985 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s0@group-01F5BFD8DFC7- FOLLOWER: Withhold vote from candidate s3 with term 2. State: leader=s5, term=2, lastRpcElapsed=68ms
2019-09-26 14:00:05,985 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-01F5BFD8DFC7 replies to vote request: s3<-s5#0:FAIL-t2. Peer's state: s5@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i5, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,985 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-01F5BFD8DFC7 replies to vote request: s3<-s0#0:FAIL-t2. Peer's state: s0@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i5, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,985 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 2, (t:1, i:2))
2019-09-26 14:00:05,985 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-01F5BFD8DFC7 replies to vote request: s3<-s1#0:FAIL-t2. Peer's state: s1@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i5, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,986 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 2, (t:1, i:2))
2019-09-26 14:00:05,986 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s2@group-01F5BFD8DFC7- FOLLOWER: Withhold vote from candidate s3 with term 2. State: leader=s5, term=2, lastRpcElapsed=69ms
2019-09-26 14:00:05,986 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s6@group-01F5BFD8DFC7- FOLLOWER: Withhold vote from candidate s3 with term 2. State: leader=s5, term=2, lastRpcElapsed=70ms
2019-09-26 14:00:05,986 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s4: Failed requestVote s3->s4#0: org.apache.ratis.protocol.ServerNotReadyException: s4@group-01F5BFD8DFC7 is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:05,987 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-01F5BFD8DFC7 replies to vote request: s3<-s6#0:FAIL-t2. Peer's state: s6@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i5, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,986 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-01F5BFD8DFC7 replies to vote request: s3<-s2#0:FAIL-t2. Peer's state: s2@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c3,f4,i5, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:05,991 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s3@group-01F5BFD8DFC7-LeaderElection23 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s4@group-01F5BFD8DFC7 is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:05,991 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-01F5BFD8DFC7-LeaderElection23: Election REJECTED; received 5 response(s) [s3<-s5#0:FAIL-t2, s3<-s6#0:FAIL-t2, s3<-s0#0:FAIL-t2, s3<-s1#0:FAIL-t2, s3<-s2#0:FAIL-t2] and 1 exception(s); s3@group-01F5BFD8DFC7:t2, leader=null, voted=s3, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:05,991 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s4@group-01F5BFD8DFC7 is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:05,991 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-01F5BFD8DFC7: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:05,992 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 14:00:05,992 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:05,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s0#1:OK,SUCCESS,nextIndex:6,term:2,followerCommit:3
2019-09-26 14:00:05,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s6#1:OK,SUCCESS,nextIndex:6,term:2,followerCommit:3
2019-09-26 14:00:05,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s2#1:OK,SUCCESS,nextIndex:6,term:2,followerCommit:3
2019-09-26 14:00:05,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s1#1:OK,SUCCESS,nextIndex:6,term:2,followerCommit:3
2019-09-26 14:00:06,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:2, i:5), 5, false, commits[s5:c5, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:6), METADATAENTRY(c5)
2019-09-26 14:00:06,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:2, i:5), 5, false, commits[s5:c5, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:6), METADATAENTRY(c5)
2019-09-26 14:00:06,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:2, i:5), 5, false, commits[s5:c5, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:6), METADATAENTRY(c5)
2019-09-26 14:00:06,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: receive appendEntries(s5, 2, (t:2, i:5), 5, false, commits[s5:c5, s6:c3, s0:c3, s1:c3, s2:c3], entries: (t:2, i:6), METADATAENTRY(c5)
2019-09-26 14:00:06,011 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s2#6:OK,SUCCESS,nextIndex:7,term:2,followerCommit:5
2019-09-26 14:00:06,011 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s1#6:OK,SUCCESS,nextIndex:7,term:2,followerCommit:5
2019-09-26 14:00:06,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s6@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s6#6:OK,SUCCESS,nextIndex:7,term:2,followerCommit:5
2019-09-26 14:00:06,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-01F5BFD8DFC7: succeeded to handle AppendEntries. Reply: s5<-s0#6:OK,SUCCESS,nextIndex:7,term:2,followerCommit:5
2019-09-26 14:00:06,165 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-01F5BFD8DFC7-FollowerState: change to CANDIDATE, lastRpcTime:172ms, electionTimeout:172ms
2019-09-26 14:00:06,165 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:06,165 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-01F5BFD8DFC7: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 14:00:06,165 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-26 14:00:06,181 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-01F5BFD8DFC7-LeaderElection24: begin an election at term 3 for 1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s6@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 3, (t:1, i:2))
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 3, (t:1, i:2))
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s5@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 3, (t:1, i:2))
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 3, (t:1, i:2))
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-01F5BFD8DFC7 replies to vote request: s3<-s0#0:FAIL-t2. Peer's state: s0@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s6@group-01F5BFD8DFC7 replies to vote request: s3<-s6#0:FAIL-t2. Peer's state: s6@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:06,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 3, (t:1, i:2))
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-01F5BFD8DFC7: receive requestVote(s3, group-01F5BFD8DFC7, 3, (t:1, i:2))
2019-09-26 14:00:06,185 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s4: Failed requestVote s3->s4#0: org.apache.ratis.protocol.ServerNotReadyException: s4@group-01F5BFD8DFC7 is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:06,185 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s5@group-01F5BFD8DFC7 replies to vote request: s3<-s5#0:FAIL-t2. Peer's state: s5@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:06,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-01F5BFD8DFC7 replies to vote request: s3<-s1#0:FAIL-t2. Peer's state: s1@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:06,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-01F5BFD8DFC7 replies to vote request: s3<-s2#0:FAIL-t2. Peer's state: s2@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null
2019-09-26 14:00:06,188 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-01F5BFD8DFC7-LeaderElection24: Election SHUTDOWN; received 3 response(s) [s3<-s5#0:FAIL-t2, s3<-s6#0:FAIL-t2, s3<-s0#0:FAIL-t2] and 0 exception(s); s3@group-01F5BFD8DFC7:t3, leader=null, voted=s3, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048]
2019-09-26 14:00:06,188 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s3@group-01F5BFD8DFC7-LeaderElection24 received shutdown response when requesting votes.
2019-09-26 14:00:06,189 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:06,190 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-01F5BFD8DFC7: shutdown
2019-09-26 14:00:06,190 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s3
2019-09-26 14:00:06,190 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-26 14:00:06,191 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-01F5BFD8DFC7-StateMachineUpdater: set stopIndex = 1
2019-09-26 14:00:06,191 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-01F5BFD8DFC7: closes. applyIndex: 1
2019-09-26 14:00:06,191 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-01F5BFD8DFC7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:06,194 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-01F5BFD8DFC7-SegmentedRaftLogWorker close()
2019-09-26 14:00:06,195 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 40655 now
2019-09-26 14:00:06,202 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 40655 successfully
2019-09-26 14:00:06,547 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], deadPeers=null, printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-01F5BFD8DFC7:t3, leader=null, voted=s3, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:CLOSED:c1, conf=1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] CLOSED
  s4:  RUNNING    LEADER s4@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:CLOSED:c3, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null CLOSED
  s5:  RUNNING    LEADER s5@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:06,548 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s3@group-01F5BFD8DFC7:t3, leader=null, voted=s3, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:CLOSED:c1, conf=1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] CLOSED
2019-09-26 14:00:06,548 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s4@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:CLOSED:c3, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null CLOSED
2019-09-26 14:00:06,549 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s5@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:06,549 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s6@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:06,549 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s0@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:06,550 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:06,550 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:06,550 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:06,550 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:06,550 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:06,551 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:06,551 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:06,551 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:   CLOSED CANDIDATE s3@group-01F5BFD8DFC7:t3, leader=null, voted=s3, raftlog=s3@group-01F5BFD8DFC7-SegmentedRaftLog:CLOSED:c1, conf=1: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=[s3:0.0.0.0:40655, s4:0.0.0.0:38620, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048] CLOSED
  s4:  RUNNING    LEADER s4@group-01F5BFD8DFC7:t1, leader=s4, voted=s4, raftlog=s4@group-01F5BFD8DFC7-SegmentedRaftLog:CLOSED:c3, conf=3: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null CLOSED
  s5:  RUNNING    LEADER s5@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s5@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s6:  RUNNING  FOLLOWER s6@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s6@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s0@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s1@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01F5BFD8DFC7:t2, leader=s5, voted=s5, raftlog=s2@group-01F5BFD8DFC7-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s5:0.0.0.0:32913, s6:0.0.0.0:37226, s0:0.0.0.0:37729, s1:0.0.0.0:35171, s2:0.0.0.0:33048], old=null RUNNING
2019-09-26 14:00:06,553 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 14:00:06,555 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s5: close
2019-09-26 14:00:06,557 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 14:00:06,558 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:06,558 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 38620 now
2019-09-26 14:00:06,558 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s5@group-01F5BFD8DFC7: shutdown
2019-09-26 14:00:06,557 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s6: close
2019-09-26 14:00:06,561 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s5
2019-09-26 14:00:06,561 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 38620 successfully
2019-09-26 14:00:06,560 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-01F5BFD8DFC7: shutdown
2019-09-26 14:00:06,559 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 14:00:06,559 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-01F5BFD8DFC7: shutdown
2019-09-26 14:00:06,563 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-01F5BFD8DFC7: shutdown
2019-09-26 14:00:06,563 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s0
2019-09-26 14:00:06,564 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:06,562 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s5: shutdown LeaderState
2019-09-26 14:00:06,562 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s6@group-01F5BFD8DFC7: shutdown
2019-09-26 14:00:06,567 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s5@group-01F5BFD8DFC7->s6-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:06,567 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s5@group-01F5BFD8DFC7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:06,567 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s5@group-01F5BFD8DFC7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:06,567 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s5@group-01F5BFD8DFC7-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:06,565 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:06,564 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-01F5BFD8DFC7-StateMachineUpdater: set stopIndex = 6
2019-09-26 14:00:06,564 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s2
2019-09-26 14:00:06,572 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:06,564 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s1
2019-09-26 14:00:06,572 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:06,572 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-01F5BFD8DFC7-StateMachineUpdater: set stopIndex = 6
2019-09-26 14:00:06,573 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-01F5BFD8DFC7: closes. applyIndex: 6
2019-09-26 14:00:06,571 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-01F5BFD8DFC7: closes. applyIndex: 6
2019-09-26 14:00:06,571 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s5@group-01F5BFD8DFC7-StateMachineUpdater: set stopIndex = 6
2019-09-26 14:00:06,570 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s5->s0#13-t2, previous=(t:2, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 14:00:06,568 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s5->s2#13-t2, previous=(t:2, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 14:00:06,568 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s6: Completed APPEND_ENTRIES, lastRequest: s5->s6#13-t2, previous=(t:2, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 14:00:06,568 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01F5BFD8DFC7,id=s6
2019-09-26 14:00:06,567 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s5@group-01F5BFD8DFC7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:06,574 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s5@group-01F5BFD8DFC7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:06,574 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s6: shutdown FollowerState
2019-09-26 14:00:06,574 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s5@group-01F5BFD8DFC7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:06,574 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s5@group-01F5BFD8DFC7: closes. applyIndex: 6
2019-09-26 14:00:06,573 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:06,573 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:06,572 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:06,576 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-01F5BFD8DFC7-StateMachineUpdater: set stopIndex = 6
2019-09-26 14:00:06,576 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s5@group-01F5BFD8DFC7->s0: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 14:00:06,576 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:06,576 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s5@group-01F5BFD8DFC7->s2: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 14:00:06,575 INFO  impl.FollowerState (FollowerState.java:run(117)) - s6@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:06,575 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s6@group-01F5BFD8DFC7-StateMachineUpdater: set stopIndex = 6
2019-09-26 14:00:06,578 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s6@group-01F5BFD8DFC7: closes. applyIndex: 6
2019-09-26 14:00:06,575 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s5->s1#13-t2, previous=(t:2, i:6), leaderCommit=6, initializing? false, entries: <empty>
2019-09-26 14:00:06,578 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-01F5BFD8DFC7-SegmentedRaftLogWorker close()
2019-09-26 14:00:06,575 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s5@group-01F5BFD8DFC7->s6-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:06,579 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 33048 now
2019-09-26 14:00:06,579 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s5@group-01F5BFD8DFC7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:06,579 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s5@group-01F5BFD8DFC7-SegmentedRaftLogWorker close()
2019-09-26 14:00:06,578 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:06,578 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-01F5BFD8DFC7-SegmentedRaftLogWorker close()
2019-09-26 14:00:06,577 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-01F5BFD8DFC7: closes. applyIndex: 6
2019-09-26 14:00:06,576 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-01F5BFD8DFC7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:06,582 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:06,581 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 37729 now
2019-09-26 14:00:06,581 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s5@group-01F5BFD8DFC7->s1: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 14:00:06,582 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s6@group-01F5BFD8DFC7-SegmentedRaftLogWorker close()
2019-09-26 14:00:06,580 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s5: shutdown server with port 32913 now
2019-09-26 14:00:06,580 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s5@group-01F5BFD8DFC7->s6: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 14:00:06,579 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 33048 successfully
2019-09-26 14:00:06,583 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s5: shutdown server with port 32913 successfully
2019-09-26 14:00:06,583 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s6: shutdown server with port 37226 now
2019-09-26 14:00:06,582 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 37729 successfully
2019-09-26 14:00:06,584 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s6: shutdown server with port 37226 successfully
2019-09-26 14:00:06,584 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-01F5BFD8DFC7-SegmentedRaftLogWorker close()
2019-09-26 14:00:06,585 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 35171 now
2019-09-26 14:00:06,586 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 35171 successfully
2019-09-26 14:00:06,586 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 14:00:06,587 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 14:00:06,587 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 14:00:06,589 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 14:00:06,589 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:06,590 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 14:00:06,590 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 14:00:06,590 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 14:00:06,590 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 14:00:06,590 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 14:00:06,590 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 14:00:06,590 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], format? true
2019-09-26 14:00:06,591 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0
2019-09-26 14:00:06,591 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0 does not exist.
2019-09-26 14:00:06,591 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0
2019-09-26 14:00:06,592 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:06,592 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:06,592 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35725 (custom)
2019-09-26 14:00:06,593 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:06,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,593 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:06,593 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:06,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0] (custom)
2019-09-26 14:00:06,595 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] returns group-F811D45B8E08:java.util.concurrent.CompletableFuture@53affc8c[Not completed]
2019-09-26 14:00:06,596 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] with BaseStateMachine:uninitialized
2019-09-26 14:00:06,596 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], format? true
2019-09-26 14:00:06,596 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:06,597 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1
2019-09-26 14:00:06,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:06,597 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1 does not exist.
2019-09-26 14:00:06,597 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1
2019-09-26 14:00:06,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:06,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:06,598 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:06,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:06,598 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:06,598 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-F811D45B8E08: ConfigurationManager, init=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:06,598 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 34845 (custom)
2019-09-26 14:00:06,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0] (custom)
2019-09-26 14:00:06,599 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:06,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:06,599 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,599 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08 does not exist. Creating ...
2019-09-26 14:00:06,600 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:06,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:06,600 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:06,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1] (custom)
2019-09-26 14:00:06,601 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] returns group-F811D45B8E08:java.util.concurrent.CompletableFuture@24a6923e[Not completed]
2019-09-26 14:00:06,601 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] with BaseStateMachine:uninitialized
2019-09-26 14:00:06,602 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], format? true
2019-09-26 14:00:06,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:06,602 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2
2019-09-26 14:00:06,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:06,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:06,603 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2 does not exist.
2019-09-26 14:00:06,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:06,603 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2
2019-09-26 14:00:06,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:06,604 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-F811D45B8E08: ConfigurationManager, init=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:06,604 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:06,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1] (custom)
2019-09-26 14:00:06,604 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:06,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:06,605 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41652 (custom)
2019-09-26 14:00:06,605 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08 does not exist. Creating ...
2019-09-26 14:00:06,605 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:06,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,606 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:06,606 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:06,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:06,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2] (custom)
2019-09-26 14:00:06,608 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] returns group-F811D45B8E08:java.util.concurrent.CompletableFuture@30cf897c[Not completed]
2019-09-26 14:00:06,608 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] with BaseStateMachine:uninitialized
2019-09-26 14:00:06,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:06,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:06,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:06,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:06,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:06,609 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-F811D45B8E08: ConfigurationManager, init=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:06,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2] (custom)
2019-09-26 14:00:06,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:06,610 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08 does not exist. Creating ...
2019-09-26 14:00:06,611 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:06,614 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:06,614 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:06,614 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:06,615 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current
2019-09-26 14:00:06,615 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current
2019-09-26 14:00:06,615 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/sm
2019-09-26 14:00:06,615 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current
2019-09-26 14:00:06,615 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/sm
2019-09-26 14:00:06,616 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/sm
2019-09-26 14:00:06,629 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08 has been successfully formatted.
2019-09-26 14:00:06,629 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08 has been successfully formatted.
2019-09-26 14:00:06,629 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08 has been successfully formatted.
2019-09-26 14:00:06,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:06,629 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:06,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:06,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:06,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:06,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:06,631 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:06,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:06,631 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:06,631 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:06,631 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-F811D45B8E08-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:06,631 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:06,631 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:06,631 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:06,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:06,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:06,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:06,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:06,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:06,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:06,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:06,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:06,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:06,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:06,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:06,634 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-F811D45B8E08-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:06,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:06,634 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-F811D45B8E08-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:06,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:06,635 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:06,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:06,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:06,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:06,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:06,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:06,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:06,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:06,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:06,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:06,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:06,638 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:06,638 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:06,638 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:06,638 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:06,638 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:06,639 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:06,639 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:06,639 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:06,639 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:06,639 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:06,639 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:06,639 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:06,640 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:06,644 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-F811D45B8E08: start as a follower, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,644 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:06,645 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:06,645 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s0
2019-09-26 14:00:06,650 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 14:00:06,651 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:35725
2019-09-26 14:00:06,651 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-F811D45B8E08: start as a follower, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,652 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-F811D45B8E08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:06,652 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:06,653 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s1
2019-09-26 14:00:06,656 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 14:00:06,656 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:34845
2019-09-26 14:00:06,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-F811D45B8E08: start as a follower, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:06,657 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:06,657 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s2
2019-09-26 14:00:06,659 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 14:00:06,660 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:41652
2019-09-26 14:00:06,660 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:06,661 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:06,661 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:311)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:06,839 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:194ms, electionTimeout:194ms
2019-09-26 14:00:06,842 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:06,842 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:06,842 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:06,857 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-F811D45B8E08-LeaderElection25: begin an election at term 1 for -1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,864 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:206ms, electionTimeout:206ms
2019-09-26 14:00:06,864 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:06,864 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-F811D45B8E08: receive requestVote(s0, group-F811D45B8E08, 1, (t:0, i:0))
2019-09-26 14:00:06,864 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:06,865 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-F811D45B8E08: receive requestVote(s0, group-F811D45B8E08, 1, (t:0, i:0))
2019-09-26 14:00:06,865 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 14:00:06,866 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-F811D45B8E08: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 14:00:06,866 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:06,866 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from CANDIDATE to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 14:00:06,866 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-F811D45B8E08-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:06,866 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:06,866 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 14:00:06,867 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:06,880 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-F811D45B8E08 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-F811D45B8E08:t1, leader=null, voted=null, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,880 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-F811D45B8E08 replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-F811D45B8E08:t1, leader=null, voted=s0, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,882 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-F811D45B8E08-LeaderElection25: Election PASSED; received 2 response(s) [s0<-s1#0:OK-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-F811D45B8E08:t1, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,883 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:06,883 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 14:00:06,883 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-F811D45B8E08: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 253ms
2019-09-26 14:00:06,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:06,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:06,884 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:06,884 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:06,884 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:06,884 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:06,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:06,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:06,890 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:06,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:06,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:06,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:06,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:06,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:06,891 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:06,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:06,892 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:06,892 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 14:00:06,892 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:06,893 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-F811D45B8E08: set configuration 0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 0
2019-09-26 14:00:06,895 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-F811D45B8E08-LeaderElection26: begin an election at term 2 for -1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,895 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-F811D45B8E08: change Leader from null to s0 at term 1 for appendEntries, leader elected after 265ms
2019-09-26 14:00:06,895 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-F811D45B8E08: Not recognize s0 (term=1) as leader, state: s2@group-F811D45B8E08:t2, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null reply: s0<-s2#0:FAIL,NOT_LEADER,nextIndex:1,term:2,followerCommit:-1
2019-09-26 14:00:06,897 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-F811D45B8E08-LeaderElection26: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-F811D45B8E08:t2, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:06,899 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-F811D45B8E08: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:06,899 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-F811D45B8E08: set configuration 0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 0
2019-09-26 14:00:06,899 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-F811D45B8E08: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:06,900 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:06,900 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from    LEADER to FOLLOWER at term 2 for stepDown
2019-09-26 14:00:06,901 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 14:00:06,902 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-F811D45B8E08-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:06,902 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-F811D45B8E08->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:06,902 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-F811D45B8E08->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:06,903 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:06,903 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-09-26 14:00:06,903 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#1-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:06,904 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-F811D45B8E08->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:06,904 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-F811D45B8E08: receive requestVote(s2, group-F811D45B8E08, 2, (t:0, i:0))
2019-09-26 14:00:06,904 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-F811D45B8E08->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:06,904 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-F811D45B8E08: receive requestVote(s2, group-F811D45B8E08, 2, (t:0, i:0))
2019-09-26 14:00:06,904 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-F811D45B8E08: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:06,905 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:06,905 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-F811D45B8E08->s2: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:06,905 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-F811D45B8E08: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-26 14:00:06,906 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:06,906 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:06,906 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-F811D45B8E08-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:07,041 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0
2019-09-26 14:00:07,042 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-26 14:00:07,043 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:07,041 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-F811D45B8E08 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-F811D45B8E08:t2, leader=null, voted=null, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,041 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0
2019-09-26 14:00:07,043 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-F811D45B8E08-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:07,043 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:07,044 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-F811D45B8E08 replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-F811D45B8E08:t2, leader=null, voted=null, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,051 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:07,104 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:197ms, electionTimeout:197ms
2019-09-26 14:00:07,104 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:07,104 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 14:00:07,104 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:07,112 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t2, leader=null, voted=null, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-F811D45B8E08:t3, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t2, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t2, leader=null, voted=null, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-F811D45B8E08:t3, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t2, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:311)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:07,125 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:257ms, electionTimeout:257ms
2019-09-26 14:00:07,125 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:07,125 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 14:00:07,125 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 14:00:07,310 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:267ms, electionTimeout:266ms
2019-09-26 14:00:07,310 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:07,311 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 14:00:07,311 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:07,391 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-F811D45B8E08-LeaderElection28: begin an election at term 3 for -1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,391 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-F811D45B8E08-LeaderElection27: begin an election at term 3 for 0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,391 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-F811D45B8E08-LeaderElection29: begin an election at term 3 for 0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,395 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-F811D45B8E08: receive requestVote(s2, group-F811D45B8E08, 3, (t:0, i:0))
2019-09-26 14:00:07,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-F811D45B8E08 replies to vote request: s2<-s1#0:FAIL-t3. Peer's state: s1@group-F811D45B8E08:t3, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-F811D45B8E08: receive requestVote(s2, group-F811D45B8E08, 3, (t:0, i:0))
2019-09-26 14:00:07,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-F811D45B8E08 replies to vote request: s2<-s0#0:FAIL-t3. Peer's state: s0@group-F811D45B8E08:t3, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,400 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-F811D45B8E08-LeaderElection28: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t3, s2<-s1#0:FAIL-t3] and 0 exception(s); s2@group-F811D45B8E08:t3, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,401 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:07,401 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 14:00:07,401 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:07,402 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-F811D45B8E08: receive requestVote(s1, group-F811D45B8E08, 3, (t:1, i:0))
2019-09-26 14:00:07,402 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-F811D45B8E08 replies to vote request: s1<-s0#0:FAIL-t3. Peer's state: s0@group-F811D45B8E08:t3, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,402 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-F811D45B8E08: receive requestVote(s1, group-F811D45B8E08, 3, (t:1, i:0))
2019-09-26 14:00:07,402 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-F811D45B8E08 replies to vote request: s1<-s2#0:FAIL-t3. Peer's state: s2@group-F811D45B8E08:t3, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,403 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-F811D45B8E08: receive requestVote(s0, group-F811D45B8E08, 3, (t:1, i:0))
2019-09-26 14:00:07,403 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-F811D45B8E08 replies to vote request: s0<-s1#0:FAIL-t3. Peer's state: s1@group-F811D45B8E08:t3, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,405 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-F811D45B8E08: receive requestVote(s0, group-F811D45B8E08, 3, (t:1, i:0))
2019-09-26 14:00:07,405 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-F811D45B8E08-LeaderElection27: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t3, s1<-s2#0:FAIL-t3] and 0 exception(s); s1@group-F811D45B8E08:t3, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,405 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-F811D45B8E08 replies to vote request: s0<-s2#0:FAIL-t3. Peer's state: s2@group-F811D45B8E08:t3, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,405 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-F811D45B8E08: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:07,405 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:07,406 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:07,406 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-F811D45B8E08-LeaderElection29: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t3, s0<-s2#0:FAIL-t3] and 0 exception(s); s0@group-F811D45B8E08:t3, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,406 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:07,407 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:07,407 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:07,559 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:153ms, electionTimeout:153ms
2019-09-26 14:00:07,560 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:07,560 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-26 14:00:07,560 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:07,564 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t3, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-F811D45B8E08:t4, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t3, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t3, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-F811D45B8E08:t4, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t3, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:311)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:07,575 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-F811D45B8E08-LeaderElection30: begin an election at term 4 for 0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,579 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-F811D45B8E08: receive requestVote(s1, group-F811D45B8E08, 4, (t:1, i:0))
2019-09-26 14:00:07,579 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-F811D45B8E08: receive requestVote(s1, group-F811D45B8E08, 4, (t:1, i:0))
2019-09-26 14:00:07,579 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s1
2019-09-26 14:00:07,580 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s1
2019-09-26 14:00:07,580 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:07,580 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:07,580 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-F811D45B8E08-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:07,580 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:07,580 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-F811D45B8E08-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:07,580 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:07,594 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-F811D45B8E08 replies to vote request: s1<-s2#0:OK-t4. Peer's state: s2@group-F811D45B8E08:t4, leader=null, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,594 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-F811D45B8E08 replies to vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-F811D45B8E08:t4, leader=null, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,596 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-F811D45B8E08-LeaderElection30: Election PASSED; received 1 response(s) [s1<-s0#0:OK-t4] and 0 exception(s); s1@group-F811D45B8E08:t4, leader=null, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:07,596 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:07,596 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-F811D45B8E08: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-26 14:00:07,596 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-F811D45B8E08: change Leader from null to s1 at term 4 for becomeLeader, leader elected after 691ms
2019-09-26 14:00:07,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:07,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:07,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:07,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:07,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:07,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:07,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:07,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:07,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:07,601 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:07,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:07,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:07,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:07,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:07,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:07,603 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:07,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:07,603 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:07,604 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-26 14:00:07,604 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 14:00:07,605 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-F811D45B8E08: set configuration 1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 1
2019-09-26 14:00:07,607 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-F811D45B8E08: change Leader from null to s1 at term 4 for appendEntries, leader elected after 976ms
2019-09-26 14:00:07,607 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:07,607 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-F811D45B8E08: change Leader from null to s1 at term 4 for appendEntries, leader elected after 707ms
2019-09-26 14:00:07,607 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:07,607 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s2@group-F811D45B8E08: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:07,608 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s2@group-F811D45B8E08: inconsistency entries. Reply:s1<-s2#0:FAIL,INCONSISTENCY,nextIndex:0,term:4,followerCommit:-1
2019-09-26 14:00:07,608 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s2: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:07,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: receive appendEntries(s1, 4, (t:1, i:0), -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:4, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:07,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-F811D45B8E08: receive appendEntries(s1, 4, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:4, i:1), CONFIGURATIONENTRY]
2019-09-26 14:00:07,609 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-F811D45B8E08: set configuration 1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 1
2019-09-26 14:00:07,609 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-F811D45B8E08: set configuration 0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 0
2019-09-26 14:00:07,610 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 14:00:07,610 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-F811D45B8E08: set configuration 1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 1
2019-09-26 14:00:07,610 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:07,611 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 14:00:07,612 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:07,612 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:07,780 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1
2019-09-26 14:00:07,780 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s1/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1
2019-09-26 14:00:07,780 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0
2019-09-26 14:00:07,794 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK,SUCCESS,nextIndex:2,term:4,followerCommit:-1
2019-09-26 14:00:07,796 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:07,796 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:07,797 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: receive appendEntries(s1, 4, (t:4, i:1), 1, false, commits[s1:c1, s0:c-1, s2:c-1], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-26 14:00:07,797 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-F811D45B8E08: receive appendEntries(s1, 4, (t:4, i:1), 1, false, commits[s1:c1, s0:c-1, s2:c-1], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-26 14:00:07,806 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s1<-s0#4:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-26 14:00:07,934 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1
2019-09-26 14:00:07,945 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK,SUCCESS,nextIndex:2,term:4,followerCommit:0
2019-09-26 14:00:07,945 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s1<-s2#4:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-26 14:00:08,015 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:08,016 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3]
2019-09-26 14:00:08,016 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], format? true
2019-09-26 14:00:08,016 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3
2019-09-26 14:00:08,017 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3 does not exist.
2019-09-26 14:00:08,017 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3
2019-09-26 14:00:08,018 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:08,018 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:08,018 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43591 (custom)
2019-09-26 14:00:08,019 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:08,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:08,019 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:08,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:08,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3] (custom)
2019-09-26 14:00:08,021 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] returns group-F811D45B8E08:java.util.concurrent.CompletableFuture@56bce6c[Not completed]
2019-09-26 14:00:08,021 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-F811D45B8E08:[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] with BaseStateMachine:uninitialized
2019-09-26 14:00:08,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:08,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:08,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:08,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:08,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:08,023 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-F811D45B8E08: ConfigurationManager, init=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:08,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3] (custom)
2019-09-26 14:00:08,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:08,024 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08 does not exist. Creating ...
2019-09-26 14:00:08,025 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:08,039 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:08,039 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current
2019-09-26 14:00:08,040 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/sm
2019-09-26 14:00:08,057 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08 has been successfully formatted.
2019-09-26 14:00:08,057 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:08,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:08,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:08,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:08,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:08,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:08,059 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-F811D45B8E08-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:08,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:08,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:08,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:08,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:08,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:08,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:08,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:08,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:08,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:08,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:08,060 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:08,061 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:08,061 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:08,061 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:08,064 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-F811D45B8E08: start with initializing state, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:08,065 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-F811D45B8E08: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:08,065 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s3
2019-09-26 14:00:08,069 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:08,070 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:43591
2019-09-26 14:00:08,071 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:08,071 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-F811D45B8E08: shutdown
2019-09-26 14:00:08,072 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s3
2019-09-26 14:00:08,072 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-F811D45B8E08-StateMachineUpdater: set stopIndex = -1
2019-09-26 14:00:08,072 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-F811D45B8E08: closes. applyIndex: -1
2019-09-26 14:00:08,073 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:08,073 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker close()
2019-09-26 14:00:08,074 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 43591 now
2019-09-26 14:00:08,075 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 43591 successfully
2019-09-26 14:00:08,075 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(316)) - Start setConf: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:08,076 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(317)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:08,084 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s1@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:08,084 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s1@group-F811D45B8E08-LeaderState: startSetConfiguration SetConfigurationRequest:client-59572B05DA9D->s1@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:08,084 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:08,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:08,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:08,085 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:08,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:08,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:08,090 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,090 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 3 -> 1
2019-09-26 14:00:08,166 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,167 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:08,243 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,243 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,318 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,318 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,393 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,394 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,469 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,470 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,545 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,546 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,622 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,622 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,697 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,698 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,773 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:08,773 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:08,847 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s1@group-F811D45B8E08-LeaderState detects a follower s1@group-F811D45B8E08->s3(c-1,m0,n0, attendVote=false, lastRpcSendTime=0, lastRpcResponseTime=1063) timeout (20.578s) for bootstrapping
2019-09-26 14:00:08,848 DEBUG impl.RaftServerImpl (LeaderState.java:fail(769)) - s1@group-F811D45B8E08-ConfigurationStagingState: Fail to set configuration [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652] due to NOPROGRESS
2019-09-26 14:00:08,850 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-F811D45B8E08->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:08,850 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-F811D45B8E08->s3-GrpcLogAppender is stopped
2019-09-26 14:00:08,963 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s2@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,072 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s1@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,072 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s1@group-F811D45B8E08-LeaderState: startSetConfiguration SetConfigurationRequest:client-59572B05DA9D->s1@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,072 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:09,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:09,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:09,073 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:09,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:09,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:09,075 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s1@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,075 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 3 -> 1
2019-09-26 14:00:09,079 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(345)) - (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:09,079 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(345)) - (t:4, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:09,079 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(345)) - (t:4, i:2), METADATAENTRY(c1)
2019-09-26 14:00:09,080 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:09,080 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:09,081 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:09,081 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(117)) - killing leader =    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:09,081 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s1
2019-09-26 14:00:09,081 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 14:00:09,082 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-F811D45B8E08: shutdown
2019-09-26 14:00:09,082 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s1
2019-09-26 14:00:09,082 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-26 14:00:09,084 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-F811D45B8E08->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:09,085 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-F811D45B8E08->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:09,085 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-F811D45B8E08-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:09,085 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-F811D45B8E08->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:09,085 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#20-t4, previous=(t:4, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 14:00:09,088 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-F811D45B8E08-StateMachineUpdater: set stopIndex = 2
2019-09-26 14:00:09,088 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#19-t4, previous=(t:4, i:2), leaderCommit=2, initializing? false, entries: <empty>
2019-09-26 14:00:09,089 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-F811D45B8E08: closes. applyIndex: 2
2019-09-26 14:00:09,089 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-F811D45B8E08->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:09,089 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:09,089 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s1@group-F811D45B8E08->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:09,090 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s0: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 14:00:09,090 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-F811D45B8E08->s2: nextIndex: updateUnconditionally 3 -> 2
2019-09-26 14:00:09,091 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-F811D45B8E08-SegmentedRaftLogWorker close()
2019-09-26 14:00:09,092 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 34845 now
2019-09-26 14:00:09,093 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 34845 successfully
2019-09-26 14:00:09,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:09,094 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:09,094 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:353)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:09,196 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s2@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,333 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:308ms, electionTimeout:162ms
2019-09-26 14:00:09,333 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:09,334 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-26 14:00:09,334 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 14:00:09,334 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-F811D45B8E08: change Leader from s1 to null at term 4 for initElection
2019-09-26 14:00:09,350 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-F811D45B8E08-LeaderElection31: begin an election at term 5 for 1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,351 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:315ms, electionTimeout:267ms
2019-09-26 14:00:09,351 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:09,351 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-26 14:00:09,351 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:09,352 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-F811D45B8E08: change Leader from s1 to null at term 4 for initElection
2019-09-26 14:00:09,352 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-F811D45B8E08: receive requestVote(s2, group-F811D45B8E08, 5, (t:4, i:2))
2019-09-26 14:00:09,353 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s2@group-F811D45B8E08-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,365 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-F811D45B8E08-LeaderElection32: begin an election at term 5 for 1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,365 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-F811D45B8E08 replies to vote request: s2<-s0#0:FAIL-t5. Peer's state: s0@group-F811D45B8E08:t5, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,367 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-F811D45B8E08-LeaderElection31: Election REJECTED; received 1 response(s) [s2<-s0#0:FAIL-t5] and 1 exception(s); s2@group-F811D45B8E08:t5, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,367 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,367 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:09,368 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 14:00:09,368 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:09,369 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-F811D45B8E08-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,369 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-F811D45B8E08: receive requestVote(s0, group-F811D45B8E08, 5, (t:4, i:2))
2019-09-26 14:00:09,369 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-F811D45B8E08 replies to vote request: s0<-s2#0:FAIL-t5. Peer's state: s2@group-F811D45B8E08:t5, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,370 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-F811D45B8E08-LeaderElection32: Election REJECTED; received 1 response(s) [s0<-s2#0:FAIL-t5] and 1 exception(s); s0@group-F811D45B8E08:t5, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,370 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,370 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:09,370 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:09,371 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:09,408 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s0@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,517 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s2@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,547 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t5, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t5, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t5, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-F811D45B8E08:t5, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:353)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:09,574 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:206ms, electionTimeout:206ms
2019-09-26 14:00:09,574 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:09,575 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2019-09-26 14:00:09,575 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 14:00:09,589 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-F811D45B8E08-LeaderElection33: begin an election at term 6 for 1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,590 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s2@group-F811D45B8E08-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,592 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-F811D45B8E08: receive requestVote(s2, group-F811D45B8E08, 6, (t:4, i:2))
2019-09-26 14:00:09,592 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from  FOLLOWER to FOLLOWER at term 6 for recognizeCandidate:s2
2019-09-26 14:00:09,592 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:09,592 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:09,593 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-F811D45B8E08-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:09,607 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-F811D45B8E08 replies to vote request: s2<-s0#0:OK-t6. Peer's state: s0@group-F811D45B8E08:t6, leader=null, voted=s2, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,608 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-F811D45B8E08-LeaderElection33: Election PASSED; received 1 response(s) [s2<-s0#0:OK-t6] and 1 exception(s); s2@group-F811D45B8E08:t6, leader=null, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:09,609 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,609 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 14:00:09,609 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-F811D45B8E08: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2019-09-26 14:00:09,609 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-F811D45B8E08: change Leader from null to s2 at term 6 for becomeLeader, leader elected after 274ms
2019-09-26 14:00:09,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:09,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:09,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:09,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:09,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:09,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:09,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:09,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:09,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:09,612 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:09,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:09,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:09,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:09,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:09,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:09,613 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:09,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:09,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:09,613 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-26 14:00:09,614 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-26 14:00:09,614 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-F811D45B8E08: set configuration 3: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 3
2019-09-26 14:00:09,615 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,615 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 3 -> 1
2019-09-26 14:00:09,618 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_1-2
2019-09-26 14:00:09,618 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_1-2
2019-09-26 14:00:09,615 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-F811D45B8E08: change Leader from null to s2 at term 6 for appendEntries, leader elected after 263ms
2019-09-26 14:00:09,620 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: receive appendEntries(s2, 6, (t:4, i:2), 2, false, commits[s2:c2, s0:c2, s1:c2], entries: (t:6, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:09,620 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-F811D45B8E08: set configuration 3: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 3
2019-09-26 14:00:09,620 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-26 14:00:09,622 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_1-2
2019-09-26 14:00:09,622 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_1-2
2019-09-26 14:00:09,693 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,693 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:09,726 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s2@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,747 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s2/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_3
2019-09-26 14:00:09,747 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s0/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_3
2019-09-26 14:00:09,759 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK,SUCCESS,nextIndex:4,term:6,followerCommit:2
2019-09-26 14:00:09,762 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: receive appendEntries(s2, 6, (t:6, i:3), 3, false, commits[s2:c3, s0:c2, s1:c2], entries: (t:6, i:4), METADATAENTRY(c3)
2019-09-26 14:00:09,764 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,765 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 5 -> 1
2019-09-26 14:00:09,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s0#3:OK,SUCCESS,nextIndex:5,term:6,followerCommit:3
2019-09-26 14:00:09,797 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,798 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 5 -> 1
2019-09-26 14:00:09,830 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-F811D45B8E08: receive setConfiguration SetConfigurationRequest:client-59572B05DA9D->s2@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,831 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-F811D45B8E08-LeaderState: startSetConfiguration SetConfigurationRequest:client-59572B05DA9D->s2@group-F811D45B8E08, cid=27, seq=0, RW, null, peers:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:09,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:09,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:09,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:09,832 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:09,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:09,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:09,836 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,837 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 5 -> 1
2019-09-26 14:00:09,870 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,871 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:09,913 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,914 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:09,946 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,946 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:09,989 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:09,989 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:09,998 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-F811D45B8E08:t0, leader=null, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING    LEADER s2@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c4,f4,i4, conf=3: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:09,998 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(354)) - newLeaderId: s2
2019-09-26 14:00:09,999 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestKillLeaderDuringReconf(356)) - start new peers: [s3:0.0.0.0:43591]
2019-09-26 14:00:09,999 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s3
2019-09-26 14:00:09,999 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-F811D45B8E08:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], format? false
2019-09-26 14:00:10,000 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:10,000 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:10,000 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43591 (custom)
2019-09-26 14:00:10,001 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:10,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:10,001 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:10,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:10,002 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3] (custom)
2019-09-26 14:00:10,003 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s3: found a subdirectory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:10,004 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-F811D45B8E08:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652] returns group-F811D45B8E08:java.util.concurrent.CompletableFuture@580d6f11[Not completed]
2019-09-26 14:00:10,005 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-F811D45B8E08:[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652] with BaseStateMachine:uninitialized
2019-09-26 14:00:10,006 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:10,006 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:10,006 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:10,006 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:10,006 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:10,006 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-F811D45B8E08: ConfigurationManager, init=-1: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:10,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3] (custom)
2019-09-26 14:00:10,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:10,020 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:10,021 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,022 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:10,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:10,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:10,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:10,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:10,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:10,023 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-F811D45B8E08-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08
2019-09-26 14:00:10,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:10,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:10,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:10,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:10,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:10,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:10,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:10,025 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:10,025 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:10,025 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:10,025 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:10,026 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:10,026 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:10,026 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:10,027 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-F811D45B8E08: start as a follower, conf=-1: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:10,028 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-F811D45B8E08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:10,028 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:10,029 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s3
2019-09-26 14:00:10,029 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:10,030 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:43591
2019-09-26 14:00:10,080 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-F811D45B8E08: change Leader from null to s2 at term 6 for appendEntries, leader elected after 58ms
2019-09-26 14:00:10,087 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: receive appendEntries(s2, 6, null, 4, true, commits[s2:c4, s0:c4, s1:c2, s3:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:4, i:1), CONFIGURATIONENTRY, (t:4, i:2), METADATAENTRY(c1), (t:6, i:3), CONFIGURATIONENTRY, (t:6, i:4), METADATAENTRY(c3)]
2019-09-26 14:00:10,087 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-F811D45B8E08: set configuration 0: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 0
2019-09-26 14:00:10,087 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-F811D45B8E08: set configuration 1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 1
2019-09-26 14:00:10,088 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-F811D45B8E08: set configuration 3: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 3
2019-09-26 14:00:10,088 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:10,089 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-26 14:00:10,089 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-26 14:00:10,091 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-F811D45B8E08: set configuration 5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] at 5
2019-09-26 14:00:10,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: receive appendEntries(s2, 6, (t:6, i:4), 4, false, commits[s2:c4, s0:c4, s1:c2, s3:c-1], entries: (t:6, i:5), CONFIGURATIONENTRY
2019-09-26 14:00:10,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: receive appendEntries(s2, 6, (t:6, i:4), 4, false, commits[s2:c4, s0:c4, s1:c2, s3:c-1], entries: (t:6, i:5), CONFIGURATIONENTRY
2019-09-26 14:00:10,093 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-F811D45B8E08: set configuration 5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] at 5
2019-09-26 14:00:10,093 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-F811D45B8E08: set configuration 5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] at 5
2019-09-26 14:00:10,096 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,096 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 6 -> 1
2019-09-26 14:00:10,103 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s0#7:OK,SUCCESS,nextIndex:6,term:6,followerCommit:4
2019-09-26 14:00:10,169 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0
2019-09-26 14:00:10,171 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,172 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:10,182 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:10,182 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_0-0
2019-09-26 14:00:10,248 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,248 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,255 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1
2019-09-26 14:00:10,268 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_1-2
2019-09-26 14:00:10,268 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_1-2
2019-09-26 14:00:10,324 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,324 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,353 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc92de0e32/s3/5755bac2-e25a-49c0-a6f5-f811d45b8e08/current/log_inprogress_3
2019-09-26 14:00:10,365 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s3#4:OK,SUCCESS,nextIndex:5,term:6,followerCommit:4
2019-09-26 14:00:10,365 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s3#5:OK,SUCCESS,nextIndex:6,term:6,followerCommit:4
2019-09-26 14:00:10,368 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-F811D45B8E08: set configuration 7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 7
2019-09-26 14:00:10,369 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: receive appendEntries(s2, 6, (t:6, i:5), 5, false, commits[s2:c5, s0:c4, s1:c2, s3:c4], entries: (t:6, i:6), METADATAENTRY(c5)
2019-09-26 14:00:10,369 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#10-t6, previous=(t:6, i:5), leaderCommit=4, initializing? false, entries: <empty>
2019-09-26 14:00:10,369 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: receive appendEntries(s2, 6, (t:6, i:6), 5, false, commits[s2:c5, s1:c2, s3:c4], entries: (t:6, i:7), CONFIGURATIONENTRY
2019-09-26 14:00:10,370 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-F811D45B8E08: set configuration 7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null at 7
2019-09-26 14:00:10,370 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-F811D45B8E08->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:10,371 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s0: nextIndex: updateUnconditionally 7 -> 6
2019-09-26 14:00:10,371 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,372 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 7 -> 1
2019-09-26 14:00:10,380 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s3#9:OK,SUCCESS,nextIndex:7,term:6,followerCommit:5
2019-09-26 14:00:10,382 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s3#10:OK,SUCCESS,nextIndex:8,term:6,followerCommit:5
2019-09-26 14:00:10,384 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: receive appendEntries(s2, 6, (t:6, i:7), 7, false, commits[s2:c7, s1:c2, s3:c5], entries: (t:6, i:8), METADATAENTRY(c7)
2019-09-26 14:00:10,384 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,385 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 8 -> 1
2019-09-26 14:00:10,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:10,388 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestKillLeaderDuringReconf$7(327)) - setConf attempt #0 failed, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F811D45B8E08:t6, leader=s2, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:OPENED:c5,f7,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c4,f5,i5, conf=5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING    LEADER s2@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c7,f7,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:10,388 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], deadPeers=[s1], printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F811D45B8E08:t6, leader=s2, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:OPENED:c5,f7,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c4,f5,i5, conf=5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] RUNNING
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING    LEADER s2@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c7,f7,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:10,389 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-F811D45B8E08:t6, leader=s2, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:OPENED:c5,f7,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:10,389 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s0@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c4,f5,i5, conf=5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] RUNNING
2019-09-26 14:00:10,389 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:367)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testKillLeaderDuringReconf(RaftReconfigurationBaseTest.java:304)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:10,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-F811D45B8E08: succeeded to handle AppendEntries. Reply: s2<-s3#11:OK,SUCCESS,nextIndex:9,term:6,followerCommit:7
2019-09-26 14:00:10,414 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,414 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 9 -> 1
2019-09-26 14:00:10,490 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,491 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:10,566 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,567 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,642 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,643 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-F811D45B8E08-FollowerState: change to CANDIDATE, lastRpcTime:308ms, electionTimeout:219ms
2019-09-26 14:00:10,643 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,643 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:10,643 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-F811D45B8E08: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2019-09-26 14:00:10,643 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:10,644 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-F811D45B8E08: change Leader from s2 to null at term 6 for initElection
2019-09-26 14:00:10,658 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-F811D45B8E08-LeaderElection34: begin an election at term 7 for 5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:10,660 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-F811D45B8E08-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,663 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-F811D45B8E08: receive requestVote(s0, group-F811D45B8E08, 7, (t:6, i:5))
2019-09-26 14:00:10,663 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-F811D45B8E08 replies to vote request: s0<-s2#0:FAIL-t6. Peer's state: s2@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:10,664 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-F811D45B8E08-LeaderElection34: Election SHUTDOWN; received 1 response(s) [s0<-s2#0:FAIL-t6] and 1 exception(s); s0@group-F811D45B8E08:t7, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:OPENED:c4,f5,i5, conf=5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652]
2019-09-26 14:00:10,664 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,664 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s0@group-F811D45B8E08-LeaderElection34 received shutdown response when requesting votes.
2019-09-26 14:00:10,664 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-F811D45B8E08: receive requestVote(s0, group-F811D45B8E08, 7, (t:6, i:5))
2019-09-26 14:00:10,665 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:10,665 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-F811D45B8E08 replies to vote request: s0<-s3#0:FAIL-t6. Peer's state: s3@group-F811D45B8E08:t6, leader=s2, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null
2019-09-26 14:00:10,665 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-F811D45B8E08: shutdown
2019-09-26 14:00:10,665 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s0
2019-09-26 14:00:10,666 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:10,666 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-F811D45B8E08-StateMachineUpdater: set stopIndex = 4
2019-09-26 14:00:10,666 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-F811D45B8E08: closes. applyIndex: 4
2019-09-26 14:00:10,667 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:10,669 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-F811D45B8E08-SegmentedRaftLogWorker close()
2019-09-26 14:00:10,670 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 35725 now
2019-09-26 14:00:10,671 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 35725 successfully
2019-09-26 14:00:10,718 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,719 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,794 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,794 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,874 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,875 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:10,947 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:10,948 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,023 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,023 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,098 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,099 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,175 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,175 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,251 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,251 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,327 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,327 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,403 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,404 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,479 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,479 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,555 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-F811D45B8E08->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:11,555 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s1: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:11,590 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], deadPeers=[s1], printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F811D45B8E08:t6, leader=s2, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-F811D45B8E08:t7, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c4, conf=5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] CLOSED
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING    LEADER s2@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:11,591 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-F811D45B8E08:t6, leader=s2, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:11,591 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s0@group-F811D45B8E08:t7, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c4, conf=5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] CLOSED
2019-09-26 14:00:11,591 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
2019-09-26 14:00:11,592 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s2@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:11,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:11,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:11,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:11,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:11,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:11,592 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F811D45B8E08:t6, leader=s2, voted=null, raftlog=s3@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
  s0:   CLOSED CANDIDATE s0@group-F811D45B8E08:t7, leader=null, voted=s0, raftlog=s0@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c4, conf=5: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=[s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652] CLOSED
  s1:   CLOSED    LEADER s1@group-F811D45B8E08:t4, leader=s1, voted=s1, raftlog=s1@group-F811D45B8E08-SegmentedRaftLog:CLOSED:c2, conf=1: [s0:0.0.0.0:35725, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null CLOSED
  s2:  RUNNING    LEADER s2@group-F811D45B8E08:t6, leader=s2, voted=s2, raftlog=s2@group-F811D45B8E08-SegmentedRaftLog:OPENED:c8,f8,i8, conf=7: [s3:0.0.0.0:43591, s1:0.0.0.0:34845, s2:0.0.0.0:41652], old=null RUNNING
2019-09-26 14:00:11,594 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:11,594 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 14:00:11,595 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-F811D45B8E08: shutdown
2019-09-26 14:00:11,595 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-F811D45B8E08: shutdown
2019-09-26 14:00:11,595 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s3
2019-09-26 14:00:11,595 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F811D45B8E08,id=s2
2019-09-26 14:00:11,595 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:11,596 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-26 14:00:11,596 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-F811D45B8E08-StateMachineUpdater: set stopIndex = 8
2019-09-26 14:00:11,599 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-F811D45B8E08-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:11,599 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-F811D45B8E08->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:11,599 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-F811D45B8E08-StateMachineUpdater: set stopIndex = 8
2019-09-26 14:00:11,600 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-F811D45B8E08: closes. applyIndex: 8
2019-09-26 14:00:11,599 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-F811D45B8E08->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:11,598 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-F811D45B8E08-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:11,599 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-F811D45B8E08: closes. applyIndex: 8
2019-09-26 14:00:11,600 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:11,601 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:11,601 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s2->s3#26-t6, previous=(t:6, i:8), leaderCommit=8, initializing? false, entries: <empty>
2019-09-26 14:00:11,603 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-F811D45B8E08->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:11,603 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-F811D45B8E08-SegmentedRaftLogWorker close()
2019-09-26 14:00:11,603 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-F811D45B8E08-SegmentedRaftLogWorker close()
2019-09-26 14:00:11,605 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 43591 now
2019-09-26 14:00:11,605 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-F811D45B8E08->s3: nextIndex: updateUnconditionally 9 -> 8
2019-09-26 14:00:11,605 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 41652 now
2019-09-26 14:00:11,606 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 43591 successfully
2019-09-26 14:00:11,606 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 41652 successfully
2019-09-26 14:00:11,606 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 14:00:11,608 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 14:00:11,608 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 14:00:11,609 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:testLeaderNotReadyException(564)) - Start testLeaderNotReadyException
2019-09-26 14:00:11,610 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-859CE3C927FF:[s0:0.0.0.0:42783]
2019-09-26 14:00:11,610 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 14:00:11,610 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-859CE3C927FF:[s0:0.0.0.0:42783], format? true
2019-09-26 14:00:11,610 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0
2019-09-26 14:00:11,611 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0 does not exist.
2019-09-26 14:00:11,611 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0
2019-09-26 14:00:11,611 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:11,612 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:11,612 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42783 (custom)
2019-09-26 14:00:11,612 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:11,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:11,613 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:11,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:11,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0] (custom)
2019-09-26 14:00:11,615 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-859CE3C927FF:[s0:0.0.0.0:42783] returns group-859CE3C927FF:java.util.concurrent.CompletableFuture@5ec023a[Not completed]
2019-09-26 14:00:11,615 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-859CE3C927FF:[s0:0.0.0.0:42783] with BaseStateMachine:uninitialized
2019-09-26 14:00:11,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:11,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:11,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:11,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:11,617 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 14:00:11,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:11,617 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 14:00:11,617 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 14:00:11,617 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 14:00:11,617 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 14:00:11,617 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-859CE3C927FF: ConfigurationManager, init=-1: [s0:0.0.0.0:42783], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:11,617 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {s0=s0:      NEW group-859CE3C927FF:java.util.concurrent.CompletableFuture@5ec023a[Not completed]}
2019-09-26 14:00:11,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0] (custom)
2019-09-26 14:00:11,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:11,618 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff does not exist. Creating ...
2019-09-26 14:00:11,619 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff
2019-09-26 14:00:11,634 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:11,634 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff/current
2019-09-26 14:00:11,635 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff/sm
2019-09-26 14:00:11,648 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff has been successfully formatted.
2019-09-26 14:00:11,648 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:11,648 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:11,648 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:11,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:11,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:11,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:11,649 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-859CE3C927FF-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff
2019-09-26 14:00:11,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:11,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:11,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:11,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:11,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:11,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:11,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:11,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:11,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:11,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:11,651 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-859CE3C927FF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:11,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:11,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:11,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:11,656 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-859CE3C927FF: start as a follower, conf=-1: [s0:0.0.0.0:42783], old=null
2019-09-26 14:00:11,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-859CE3C927FF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:11,657 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:11,658 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-859CE3C927FF,id=s0
2019-09-26 14:00:11,662 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 14:00:11,663 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:42783
2019-09-26 14:00:11,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:11,665 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-859CE3C927FF:t0, leader=null, voted=null, raftlog=s0@group-859CE3C927FF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42783], old=null RUNNING
2019-09-26 14:00:11,666 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-859CE3C927FF:t0, leader=null, voted=null, raftlog=s0@group-859CE3C927FF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42783], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-859CE3C927FF:t0, leader=null, voted=null, raftlog=s0@group-859CE3C927FF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42783], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testLeaderNotReadyException(RaftReconfigurationBaseTest.java:599)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:11,673 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:11,674 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.NotLeaderException: Server s0@group-859CE3C927FF is not the leader, logIndex=0, commits[s0:c-1]
2019-09-26 14:00:11,848 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-F811D45B8E08->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#10-t4, previous=(t:0, i:0), leaderCommit=2, initializing? true, entries: <empty>
2019-09-26 14:00:11,849 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-859CE3C927FF-FollowerState: change to CANDIDATE, lastRpcTime:191ms, electionTimeout:191ms
2019-09-26 14:00:11,849 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:11,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-859CE3C927FF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:11,850 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:11,865 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-859CE3C927FF-LeaderElection35: begin an election at term 1 for -1: [s0:0.0.0.0:42783], old=null
2019-09-26 14:00:11,865 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:11,865 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-859CE3C927FF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 14:00:11,865 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-859CE3C927FF: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 217ms
2019-09-26 14:00:11,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:11,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:11,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:11,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:11,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:11,866 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:11,869 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 14:00:11,869 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 2000 ms, args=[]
2019-09-26 14:00:11,878 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:11,879 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:12,083 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:12,084 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:12,117 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-859CE3C927FF:t1, leader=s0, voted=s0, raftlog=s0@group-859CE3C927FF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42783], old=null RUNNING
2019-09-26 14:00:12,287 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:12,288 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:12,493 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:12,494 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:12,698 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:12,699 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:12,903 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:12,904 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:13,108 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:13,109 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:13,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:13,313 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:13,517 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:13,518 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:13,723 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:13,724 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:13,870 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-859CE3C927FF-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:13,871 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-859CE3C927FF: set configuration 0: [s0:0.0.0.0:42783], old=null at 0
2019-09-26 14:00:13,928 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:13,931 INFO  client.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(278)) - Failed RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, reply=RaftClientReply:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-859CE3C927FF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1]
2019-09-26 14:00:13,955 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-859CE3C927FF-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc9a21763e/s0/d93b3fca-4d77-4a2c-91bf-859ce3c927ff/current/log_inprogress_0
2019-09-26 14:00:14,134 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-859CE3C927FF: receive client request(RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374)
2019-09-26 14:00:14,135 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-859CE3C927FF-LeaderState: addPendingRequest at RaftClientRequest:client-6A70E6F8965F->s0@group-859CE3C927FF, cid=0, seq=0, RW, Message:74657374, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-6A70E6F8965F, cid=0
2019-09-26 14:00:15,117 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:15,117 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:15,118 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:15,118 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:15,118 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:15,118 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-859CE3C927FF:t1, leader=s0, voted=s0, raftlog=s0@group-859CE3C927FF-SegmentedRaftLog:OPENED:c2,f2,i2, conf=0: [s0:0.0.0.0:42783], old=null RUNNING
2019-09-26 14:00:15,119 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:15,120 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-859CE3C927FF: shutdown
2019-09-26 14:00:15,121 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-859CE3C927FF,id=s0
2019-09-26 14:00:15,121 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 14:00:15,121 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-859CE3C927FF-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:15,124 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-859CE3C927FF-StateMachineUpdater: set stopIndex = 2
2019-09-26 14:00:15,124 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-859CE3C927FF: closes. applyIndex: 2
2019-09-26 14:00:15,125 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-859CE3C927FF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:15,127 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-859CE3C927FF-SegmentedRaftLogWorker close()
2019-09-26 14:00:15,128 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 42783 now
2019-09-26 14:00:15,129 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 42783 successfully
2019-09-26 14:00:15,130 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 14:00:15,131 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 14:00:15,131 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 14:00:15,133 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 14:00:15,134 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505]
2019-09-26 14:00:15,134 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 14:00:15,134 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 14:00:15,134 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 14:00:15,134 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 14:00:15,135 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 14:00:15,135 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 14:00:15,135 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], format? true
2019-09-26 14:00:15,135 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0
2019-09-26 14:00:15,136 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0 does not exist.
2019-09-26 14:00:15,136 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0
2019-09-26 14:00:15,136 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:15,137 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:15,137 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33204 (custom)
2019-09-26 14:00:15,137 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:15,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,138 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:15,138 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:15,139 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0] (custom)
2019-09-26 14:00:15,140 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] returns group-6A656F84A0E7:java.util.concurrent.CompletableFuture@372f76e7[Not completed]
2019-09-26 14:00:15,140 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] with BaseStateMachine:uninitialized
2019-09-26 14:00:15,140 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], format? true
2019-09-26 14:00:15,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:15,143 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1
2019-09-26 14:00:15,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:15,143 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:15,143 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1 does not exist.
2019-09-26 14:00:15,144 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1
2019-09-26 14:00:15,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:15,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:15,144 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:15,144 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-6A656F84A0E7: ConfigurationManager, init=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:15,144 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:15,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0] (custom)
2019-09-26 14:00:15,145 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41032 (custom)
2019-09-26 14:00:15,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:15,145 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:15,146 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7 does not exist. Creating ...
2019-09-26 14:00:15,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,146 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:15,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:15,147 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:15,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1] (custom)
2019-09-26 14:00:15,148 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] returns group-6A656F84A0E7:java.util.concurrent.CompletableFuture@5eda1eac[Not completed]
2019-09-26 14:00:15,148 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], format? true
2019-09-26 14:00:15,148 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] with BaseStateMachine:uninitialized
2019-09-26 14:00:15,148 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2
2019-09-26 14:00:15,148 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:15,149 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2 does not exist.
2019-09-26 14:00:15,149 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2
2019-09-26 14:00:15,149 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:15,149 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:15,149 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:15,149 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:15,150 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:15,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:15,150 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37505 (custom)
2019-09-26 14:00:15,150 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-6A656F84A0E7: ConfigurationManager, init=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:15,150 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:15,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1] (custom)
2019-09-26 14:00:15,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:15,151 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:15,152 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7 does not exist. Creating ...
2019-09-26 14:00:15,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:15,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2] (custom)
2019-09-26 14:00:15,153 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:15,153 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] returns group-6A656F84A0E7:java.util.concurrent.CompletableFuture@54357f83[Not completed]
2019-09-26 14:00:15,153 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] with BaseStateMachine:uninitialized
2019-09-26 14:00:15,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:15,154 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-6A656F84A0E7: ConfigurationManager, init=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2] (custom)
2019-09-26 14:00:15,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:15,155 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7 does not exist. Creating ...
2019-09-26 14:00:15,156 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:15,161 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:15,161 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:15,161 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:15,162 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current
2019-09-26 14:00:15,162 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current
2019-09-26 14:00:15,162 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7/sm
2019-09-26 14:00:15,162 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current
2019-09-26 14:00:15,162 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7/sm
2019-09-26 14:00:15,163 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7/sm
2019-09-26 14:00:15,176 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7 has been successfully formatted.
2019-09-26 14:00:15,176 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7 has been successfully formatted.
2019-09-26 14:00:15,176 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7 has been successfully formatted.
2019-09-26 14:00:15,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:15,176 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:15,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:15,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:15,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:15,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:15,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:15,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:15,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:15,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:15,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:15,178 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-6A656F84A0E7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:15,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,179 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:15,178 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,179 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:15,179 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:15,179 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:15,179 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:15,179 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:15,179 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:15,180 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:15,180 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:15,180 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:15,180 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-6A656F84A0E7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:15,180 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:15,180 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-6A656F84A0E7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:15,180 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:15,180 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:15,181 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:15,181 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:15,181 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:15,181 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:15,181 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:15,182 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-6A656F84A0E7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:15,182 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:15,182 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:15,182 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:15,182 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:15,182 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:15,182 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:15,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:15,182 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:15,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:15,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:15,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:15,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:15,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:15,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:15,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:15,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:15,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:15,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:15,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:15,185 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-6A656F84A0E7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:15,185 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-6A656F84A0E7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:15,185 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:15,185 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:15,186 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:15,186 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:15,186 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:15,186 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:15,191 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-6A656F84A0E7: start as a follower, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,191 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A656F84A0E7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:15,192 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:15,192 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s0
2019-09-26 14:00:15,195 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 14:00:15,196 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:33204
2019-09-26 14:00:15,197 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-6A656F84A0E7: start as a follower, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,197 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A656F84A0E7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:15,198 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:15,198 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s1
2019-09-26 14:00:15,201 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 14:00:15,202 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:41032
2019-09-26 14:00:15,203 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-6A656F84A0E7: start as a follower, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,203 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A656F84A0E7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:15,203 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:15,204 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s2
2019-09-26 14:00:15,207 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 14:00:15,207 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:37505
2019-09-26 14:00:15,208 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:15,208 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
2019-09-26 14:00:15,208 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A656F84A0E7:t0, leader=null, voted=null, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:427)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:422)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:15,436 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-6A656F84A0E7-FollowerState: change to CANDIDATE, lastRpcTime:244ms, electionTimeout:244ms
2019-09-26 14:00:15,436 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:15,437 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A656F84A0E7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:15,437 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:15,438 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-6A656F84A0E7-FollowerState: change to CANDIDATE, lastRpcTime:234ms, electionTimeout:234ms
2019-09-26 14:00:15,438 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:15,438 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A656F84A0E7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:15,438 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 14:00:15,449 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-6A656F84A0E7-FollowerState: change to CANDIDATE, lastRpcTime:251ms, electionTimeout:251ms
2019-09-26 14:00:15,449 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:15,450 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A656F84A0E7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:15,450 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:15,452 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-6A656F84A0E7-LeaderElection37: begin an election at term 1 for -1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,452 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-6A656F84A0E7-LeaderElection36: begin an election at term 1 for -1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,454 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-6A656F84A0E7-LeaderElection38: begin an election at term 1 for -1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,461 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6A656F84A0E7: receive requestVote(s0, group-6A656F84A0E7, 1, (t:0, i:0))
2019-09-26 14:00:15,461 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6A656F84A0E7 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6A656F84A0E7:t1, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,461 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-6A656F84A0E7: receive requestVote(s0, group-6A656F84A0E7, 1, (t:0, i:0))
2019-09-26 14:00:15,461 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-6A656F84A0E7 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6A656F84A0E7:t1, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-6A656F84A0E7: receive requestVote(s2, group-6A656F84A0E7, 1, (t:0, i:0))
2019-09-26 14:00:15,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-6A656F84A0E7: receive requestVote(s2, group-6A656F84A0E7, 1, (t:0, i:0))
2019-09-26 14:00:15,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-6A656F84A0E7: receive requestVote(s1, group-6A656F84A0E7, 1, (t:0, i:0))
2019-09-26 14:00:15,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-6A656F84A0E7 replies to vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-6A656F84A0E7:t1, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,462 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-6A656F84A0E7-LeaderElection36: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-6A656F84A0E7:t1, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-6A656F84A0E7 replies to vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-6A656F84A0E7:t1, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,462 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6A656F84A0E7: receive requestVote(s1, group-6A656F84A0E7, 1, (t:0, i:0))
2019-09-26 14:00:15,463 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A656F84A0E7: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:15,463 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6A656F84A0E7 replies to vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-6A656F84A0E7:t1, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,463 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:15,463 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:15,463 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-6A656F84A0E7-LeaderElection37: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-6A656F84A0E7:t1, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,464 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A656F84A0E7: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:15,464 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-6A656F84A0E7 replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-6A656F84A0E7:t1, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,464 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 14:00:15,464 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:15,465 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-6A656F84A0E7-LeaderElection38: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-6A656F84A0E7:t1, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,465 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A656F84A0E7: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:15,465 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:15,465 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:15,660 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A656F84A0E7:t1, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A656F84A0E7:t1, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A656F84A0E7:t1, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A656F84A0E7:t1, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A656F84A0E7:t1, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A656F84A0E7:t1, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:427)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testOverlappedSetConfRequests(RaftReconfigurationBaseTest.java:422)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:15,661 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-6A656F84A0E7-FollowerState: change to CANDIDATE, lastRpcTime:196ms, electionTimeout:196ms
2019-09-26 14:00:15,661 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:15,661 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A656F84A0E7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:15,661 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 14:00:15,666 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-6A656F84A0E7-FollowerState: change to CANDIDATE, lastRpcTime:202ms, electionTimeout:202ms
2019-09-26 14:00:15,666 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:15,666 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A656F84A0E7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:15,667 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:15,676 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-6A656F84A0E7-LeaderElection40: begin an election at term 2 for -1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,676 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-6A656F84A0E7-LeaderElection39: begin an election at term 2 for -1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,677 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-6A656F84A0E7-FollowerState: change to CANDIDATE, lastRpcTime:211ms, electionTimeout:211ms
2019-09-26 14:00:15,677 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:15,677 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A656F84A0E7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:15,678 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:15,680 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-6A656F84A0E7: receive requestVote(s0, group-6A656F84A0E7, 2, (t:0, i:0))
2019-09-26 14:00:15,680 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6A656F84A0E7: receive requestVote(s0, group-6A656F84A0E7, 2, (t:0, i:0))
2019-09-26 14:00:15,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6A656F84A0E7 replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-6A656F84A0E7:t2, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-6A656F84A0E7: receive requestVote(s2, group-6A656F84A0E7, 2, (t:0, i:0))
2019-09-26 14:00:15,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-6A656F84A0E7: receive requestVote(s2, group-6A656F84A0E7, 2, (t:0, i:0))
2019-09-26 14:00:15,682 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-6A656F84A0E7 replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-6A656F84A0E7:t2, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,692 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-6A656F84A0E7-LeaderElection41: begin an election at term 2 for -1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,692 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-6A656F84A0E7 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-6A656F84A0E7:t2, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,692 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-6A656F84A0E7 replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-6A656F84A0E7:t2, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,693 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-6A656F84A0E7-LeaderElection40: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t2, s0<-s2#0:FAIL-t2] and 0 exception(s); s0@group-6A656F84A0E7:t2, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,694 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-6A656F84A0E7-LeaderElection39: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t2, s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-6A656F84A0E7:t2, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,694 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A656F84A0E7: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:15,694 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A656F84A0E7: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:15,694 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:15,694 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 14:00:15,694 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:15,694 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:15,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-6A656F84A0E7: receive requestVote(s1, group-6A656F84A0E7, 2, (t:0, i:0))
2019-09-26 14:00:15,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-6A656F84A0E7 replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-6A656F84A0E7:t2, leader=null, voted=s0, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6A656F84A0E7: receive requestVote(s1, group-6A656F84A0E7, 2, (t:0, i:0))
2019-09-26 14:00:15,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6A656F84A0E7 replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-6A656F84A0E7:t2, leader=null, voted=s2, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,696 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-6A656F84A0E7-LeaderElection41: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t2, s1<-s2#0:FAIL-t2] and 0 exception(s); s1@group-6A656F84A0E7:t2, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,696 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A656F84A0E7: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:15,697 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:15,697 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:15,900 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-6A656F84A0E7-FollowerState: change to CANDIDATE, lastRpcTime:203ms, electionTimeout:203ms
2019-09-26 14:00:15,900 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:15,901 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A656F84A0E7: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 14:00:15,901 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:15,915 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-6A656F84A0E7-LeaderElection42: begin an election at term 3 for -1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6A656F84A0E7: receive requestVote(s1, group-6A656F84A0E7, 3, (t:0, i:0))
2019-09-26 14:00:15,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-6A656F84A0E7: receive requestVote(s1, group-6A656F84A0E7, 3, (t:0, i:0))
2019-09-26 14:00:15,919 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A656F84A0E7: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s1
2019-09-26 14:00:15,919 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A656F84A0E7: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s1
2019-09-26 14:00:15,919 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:15,920 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:15,920 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-6A656F84A0E7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:15,920 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-6A656F84A0E7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:15,920 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:15,920 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:15,933 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6A656F84A0E7 replies to vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-6A656F84A0E7:t3, leader=null, voted=s1, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,933 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-6A656F84A0E7 replies to vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-6A656F84A0E7:t3, leader=null, voted=s1, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,934 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-6A656F84A0E7-LeaderElection42: Election PASSED; received 1 response(s) [s1<-s0#0:OK-t3] and 0 exception(s); s1@group-6A656F84A0E7:t3, leader=null, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:15,934 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:15,935 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A656F84A0E7: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-09-26 14:00:15,935 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-6A656F84A0E7: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 758ms
2019-09-26 14:00:15,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:15,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:15,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:15,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:15,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:15,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:15,938 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:15,938 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,939 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:15,939 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:15,939 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:15,939 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:15,939 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:15,940 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:15,940 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:15,940 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:15,940 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:15,940 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:15,940 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-26 14:00:15,941 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-6A656F84A0E7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:15,943 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-6A656F84A0E7: set configuration 0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 0
2019-09-26 14:00:15,944 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-6A656F84A0E7: change Leader from null to s1 at term 3 for appendEntries, leader elected after 767ms
2019-09-26 14:00:15,944 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-6A656F84A0E7: change Leader from null to s1 at term 3 for appendEntries, leader elected after 767ms
2019-09-26 14:00:15,946 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: receive appendEntries(s1, 3, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:15,946 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-6A656F84A0E7: set configuration 0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 0
2019-09-26 14:00:15,946 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: receive appendEntries(s1, 3, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:15,947 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-6A656F84A0E7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:15,947 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-6A656F84A0E7: set configuration 0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 0
2019-09-26 14:00:15,947 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-6A656F84A0E7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:16,078 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-6A656F84A0E7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s0/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current/log_inprogress_0
2019-09-26 14:00:16,078 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-6A656F84A0E7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s2/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current/log_inprogress_0
2019-09-26 14:00:16,078 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-6A656F84A0E7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s1/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current/log_inprogress_0
2019-09-26 14:00:16,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:-1
2019-09-26 14:00:16,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:-1
2019-09-26 14:00:16,111 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A656F84A0E7:t3, leader=s1, voted=s1, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6A656F84A0E7:t3, leader=s1, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A656F84A0E7:t3, leader=s1, voted=s1, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
2019-09-26 14:00:16,112 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 14:00:16,112 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], format? true
2019-09-26 14:00:16,112 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3
2019-09-26 14:00:16,113 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3 does not exist.
2019-09-26 14:00:16,113 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3
2019-09-26 14:00:16,114 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:16,115 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:16,115 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37305 (custom)
2019-09-26 14:00:16,115 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:16,115 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:16,116 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:16,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:16,117 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3] (custom)
2019-09-26 14:00:16,118 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] returns group-6A656F84A0E7:java.util.concurrent.CompletableFuture@113d97a0[Not completed]
2019-09-26 14:00:16,118 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] with BaseStateMachine:uninitialized
2019-09-26 14:00:16,118 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], format? true
2019-09-26 14:00:16,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:16,119 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4
2019-09-26 14:00:16,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:16,119 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4 does not exist.
2019-09-26 14:00:16,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:16,119 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4
2019-09-26 14:00:16,120 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:16,120 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:16,120 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:16,120 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-6A656F84A0E7: ConfigurationManager, init=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:16,120 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:16,121 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3] (custom)
2019-09-26 14:00:16,121 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39462 (custom)
2019-09-26 14:00:16,121 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:16,121 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:16,122 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7 does not exist. Creating ...
2019-09-26 14:00:16,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:16,122 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:16,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:16,122 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:16,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4] (custom)
2019-09-26 14:00:16,123 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] returns group-6A656F84A0E7:java.util.concurrent.CompletableFuture@7643222f[Not completed]
2019-09-26 14:00:16,123 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-6A656F84A0E7:[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] with BaseStateMachine:uninitialized
2019-09-26 14:00:16,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:16,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:16,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:16,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:16,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:16,124 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-6A656F84A0E7: ConfigurationManager, init=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:16,125 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4] (custom)
2019-09-26 14:00:16,125 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:16,125 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7 does not exist. Creating ...
2019-09-26 14:00:16,126 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:16,136 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:16,136 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:16,137 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current
2019-09-26 14:00:16,137 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current
2019-09-26 14:00:16,137 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7/sm
2019-09-26 14:00:16,137 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7/sm
2019-09-26 14:00:16,150 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7 has been successfully formatted.
2019-09-26 14:00:16,150 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7 has been successfully formatted.
2019-09-26 14:00:16,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:16,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:16,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:16,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:16,151 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-6A656F84A0E7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:16,151 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-6A656F84A0E7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7
2019-09-26 14:00:16,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:16,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:16,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:16,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:16,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:16,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:16,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:16,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:16,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:16,153 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-6A656F84A0E7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:16,153 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-6A656F84A0E7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:16,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:16,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:16,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:16,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:16,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:16,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:16,160 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-6A656F84A0E7: start with initializing state, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:16,160 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-6A656F84A0E7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:16,160 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s3
2019-09-26 14:00:16,162 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:16,163 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:37305
2019-09-26 14:00:16,164 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-6A656F84A0E7: start with initializing state, conf=-1: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null
2019-09-26 14:00:16,164 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-6A656F84A0E7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:16,166 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s4
2019-09-26 14:00:16,168 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 14:00:16,172 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:39462
2019-09-26 14:00:16,176 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestOverlappedSetConfRequests$10(457)) - client1 starts to change conf
2019-09-26 14:00:16,182 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-6A656F84A0E7: receive setConfiguration SetConfigurationRequest:client-CB8B54B91B49->s1@group-6A656F84A0E7, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505]
2019-09-26 14:00:16,183 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s1@group-6A656F84A0E7-LeaderState: startSetConfiguration SetConfigurationRequest:client-CB8B54B91B49->s1@group-6A656F84A0E7, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505]
2019-09-26 14:00:16,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:16,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:16,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:16,183 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:16,183 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:16,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:16,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:16,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:16,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:16,184 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:16,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:16,185 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:16,203 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-6A656F84A0E7: change Leader from null to s1 at term 3 for appendEntries, leader elected after 52ms
2019-09-26 14:00:16,203 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-6A656F84A0E7: change Leader from null to s1 at term 3 for appendEntries, leader elected after 52ms
2019-09-26 14:00:16,203 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-6A656F84A0E7: Failed appendEntries as previous log entry ((t:3, i:0)) is not found
2019-09-26 14:00:16,203 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-6A656F84A0E7: Failed appendEntries as previous log entry ((t:3, i:0)) is not found
2019-09-26 14:00:16,204 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-6A656F84A0E7: inconsistency entries. Reply:s1<-s4#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:16,204 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-6A656F84A0E7: inconsistency entries. Reply:s1<-s3#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:16,204 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-6A656F84A0E7->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:16,204 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s1@group-6A656F84A0E7->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:16,206 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: receive appendEntries(s1, 3, null, 0, true, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:16,206 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: receive appendEntries(s1, 3, null, 0, true, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:16,206 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-6A656F84A0E7: set configuration 0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 0
2019-09-26 14:00:16,206 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-6A656F84A0E7: set configuration 0: [s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 0
2019-09-26 14:00:16,206 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-6A656F84A0E7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:16,206 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-6A656F84A0E7-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:16,207 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 14:00:16,207 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 14:00:16,275 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestOverlappedSetConfRequests$9(443)) - client2 starts to change conf
2019-09-26 14:00:16,280 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-6A656F84A0E7: receive setConfiguration SetConfigurationRequest:client-9546759AD65E->s1@group-6A656F84A0E7, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505]
2019-09-26 14:00:16,315 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-6A656F84A0E7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s3/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current/log_inprogress_0
2019-09-26 14:00:16,315 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-6A656F84A0E7-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc3f38bb33/s4/7bb5b60d-3372-4f03-8622-6a656f84a0e7/current/log_inprogress_0
2019-09-26 14:00:16,392 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-6A656F84A0E7: set configuration 1: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] at 1
2019-09-26 14:00:16,393 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:16,393 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:16,393 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-6A656F84A0E7: set configuration 1: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] at 1
2019-09-26 14:00:16,394 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 14:00:16,394 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-6A656F84A0E7: set configuration 1: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] at 1
2019-09-26 14:00:16,394 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 14:00:17,211 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s3#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:0
2019-09-26 14:00:17,212 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s4#1:OK,SUCCESS,nextIndex:1,term:3,followerCommit:0
2019-09-26 14:00:17,212 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:17,213 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:0), 0, false, commits[s1:c0, s0:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:3, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:17,213 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:17,213 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 14:00:17,214 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-6A656F84A0E7: set configuration 1: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] at 1
2019-09-26 14:00:17,214 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-6A656F84A0E7: set configuration 1: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=[s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505] at 1
2019-09-26 14:00:17,214 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 14:00:17,214 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 14:00:17,395 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s0#6:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 14:00:17,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s2#6:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 14:00:17,399 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-6A656F84A0E7: set configuration 3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 3
2019-09-26 14:00:17,401 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 14:00:17,401 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 14:00:17,401 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 14:00:17,402 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 14:00:18,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s3#4:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 14:00:18,216 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s4#4:OK,SUCCESS,nextIndex:2,term:3,followerCommit:0
2019-09-26 14:00:18,221 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 14:00:18,221 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:1), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:2), METADATAENTRY(c1)
2019-09-26 14:00:18,221 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 14:00:18,222 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 14:00:18,402 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s0#20:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 14:00:18,403 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s2#20:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 14:00:18,403 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:18,403 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:18,403 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-6A656F84A0E7: set configuration 3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 3
2019-09-26 14:00:18,404 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-6A656F84A0E7: set configuration 3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 3
2019-09-26 14:00:18,404 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 14:00:18,404 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 14:00:19,222 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s3#17:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 14:00:19,222 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:19,223 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:2), 1, false, commits[s1:c1, s0:c0, s2:c0, s3:c0, s4:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:19,222 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s4#17:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-26 14:00:19,223 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-6A656F84A0E7: set configuration 3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 3
2019-09-26 14:00:19,223 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-6A656F84A0E7: set configuration 3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null at 3
2019-09-26 14:00:19,224 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 14:00:19,224 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 14:00:19,285 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-6A656F84A0E7: receive setConfiguration SetConfigurationRequest:client-CB8B54B91B49->s1@group-6A656F84A0E7, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505]
2019-09-26 14:00:19,399 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s4@group-6A656F84A0E7: receive setConfiguration SetConfigurationRequest:client-CB8B54B91B49->s4@group-6A656F84A0E7, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505]
2019-09-26 14:00:19,405 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s0#21:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 14:00:19,405 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s2#21:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 14:00:19,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:19,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:19,415 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 1000 ms, args=[]
2019-09-26 14:00:19,415 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s2 delay 1000 ms, args=[]
2019-09-26 14:00:19,506 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s1@group-6A656F84A0E7: receive setConfiguration SetConfigurationRequest:client-CB8B54B91B49->s1@group-6A656F84A0E7, cid=28, seq=0, RW, null, peers:[s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505]
2019-09-26 14:00:20,225 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s4#18:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 14:00:20,225 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: succeeded to handle AppendEntries. Reply: s1<-s3#18:OK,SUCCESS,nextIndex:4,term:3,followerCommit:1
2019-09-26 14:00:20,235 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:20,236 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s3 delay 1000 ms, args=[]
2019-09-26 14:00:20,236 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-6A656F84A0E7: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits[s1:c3, s0:c1, s2:c1, s3:c1, s4:c1], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:20,237 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s4 delay 1000 ms, args=[]
2019-09-26 14:00:20,276 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:20,276 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:20,276 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:20,276 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:20,276 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:20,277 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6A656F84A0E7:t3, leader=s1, voted=null, raftlog=s3@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6A656F84A0E7:t3, leader=s1, voted=null, raftlog=s4@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6A656F84A0E7:t3, leader=s1, voted=s1, raftlog=s0@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6A656F84A0E7:t3, leader=s1, voted=s1, raftlog=s1@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A656F84A0E7:t3, leader=s1, voted=s1, raftlog=s2@group-6A656F84A0E7-SegmentedRaftLog:OPENED:c2,f4,i4, conf=3: [s3:0.0.0.0:37305, s4:0.0.0.0:39462, s0:0.0.0.0:33204, s1:0.0.0.0:41032, s2:0.0.0.0:37505], old=null RUNNING
2019-09-26 14:00:20,278 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:20,278 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 14:00:20,279 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:20,279 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-6A656F84A0E7: shutdown
2019-09-26 14:00:20,281 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 14:00:20,281 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-6A656F84A0E7: shutdown
2019-09-26 14:00:20,279 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 14:00:20,280 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-6A656F84A0E7: shutdown
2019-09-26 14:00:20,283 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-6A656F84A0E7: shutdown
2019-09-26 14:00:20,283 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s0
2019-09-26 14:00:20,284 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:20,282 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-6A656F84A0E7: shutdown
2019-09-26 14:00:20,282 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s3
2019-09-26 14:00:20,285 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s2
2019-09-26 14:00:20,285 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:20,285 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-6A656F84A0E7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:20,286 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-6A656F84A0E7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:20,285 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-6A656F84A0E7-StateMachineUpdater: set stopIndex = 2
2019-09-26 14:00:20,286 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-6A656F84A0E7: closes. applyIndex: 2
2019-09-26 14:00:20,284 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s1
2019-09-26 14:00:20,284 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A656F84A0E7,id=s4
2019-09-26 14:00:20,287 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-26 14:00:20,287 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-6A656F84A0E7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:20,290 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:20,286 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-6A656F84A0E7-StateMachineUpdater: set stopIndex = 2
2019-09-26 14:00:20,290 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-6A656F84A0E7: closes. applyIndex: 2
2019-09-26 14:00:20,285 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:20,291 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-6A656F84A0E7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:20,290 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:20,290 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:20,290 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:20,290 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-6A656F84A0E7-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:20,287 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 14:00:20,294 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-6A656F84A0E7-StateMachineUpdater: set stopIndex = 3
2019-09-26 14:00:20,294 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-6A656F84A0E7: closes. applyIndex: 3
2019-09-26 14:00:20,293 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-6A656F84A0E7-SegmentedRaftLogWorker close()
2019-09-26 14:00:20,292 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-6A656F84A0E7-SegmentedRaftLogWorker close()
2019-09-26 14:00:20,291 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-6A656F84A0E7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:20,291 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-6A656F84A0E7-StateMachineUpdater: set stopIndex = 2
2019-09-26 14:00:20,296 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 33204 now
2019-09-26 14:00:20,296 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 37505 now
2019-09-26 14:00:20,295 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-6A656F84A0E7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:20,294 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-6A656F84A0E7-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:20,294 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-6A656F84A0E7-StateMachineUpdater: set stopIndex = 2
2019-09-26 14:00:20,297 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-6A656F84A0E7: closes. applyIndex: 2
2019-09-26 14:00:20,298 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-6A656F84A0E7: closes. applyIndex: 2
2019-09-26 14:00:20,298 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-6A656F84A0E7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:20,298 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-6A656F84A0E7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:20,299 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-6A656F84A0E7-SegmentedRaftLogWorker close()
2019-09-26 14:00:20,300 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 41032 now
2019-09-26 14:00:20,300 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-6A656F84A0E7-SegmentedRaftLogWorker close()
2019-09-26 14:00:20,300 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-6A656F84A0E7-SegmentedRaftLogWorker close()
2019-09-26 14:00:20,302 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender is stopped
2019-09-26 14:00:20,302 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender is stopped
2019-09-26 14:00:20,301 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 37305 now
2019-09-26 14:00:20,303 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 33204 successfully
2019-09-26 14:00:20,303 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 39462 now
2019-09-26 14:00:20,304 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 37505 successfully
2019-09-26 14:00:20,305 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 37305 successfully
2019-09-26 14:00:20,305 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender is stopped
2019-09-26 14:00:20,305 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 39462 successfully
2019-09-26 14:00:20,305 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(282)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender is stopped
2019-09-26 14:00:20,305 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 41032 successfully
2019-09-26 14:00:20,306 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 14:00:20,307 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 14:00:20,307 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 14:00:20,310 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 14:00:20,310 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:20,310 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 14:00:20,310 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 14:00:20,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 14:00:20,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 14:00:20,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 14:00:20,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 14:00:20,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], format? true
2019-09-26 14:00:20,311 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0
2019-09-26 14:00:20,311 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0 does not exist.
2019-09-26 14:00:20,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0
2019-09-26 14:00:20,312 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:20,312 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:20,312 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42575 (custom)
2019-09-26 14:00:20,312 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:20,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,313 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:20,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:20,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0] (custom)
2019-09-26 14:00:20,315 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] returns group-4930FBA19EAC:java.util.concurrent.CompletableFuture@5f596bc3[Not completed]
2019-09-26 14:00:20,315 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], format? true
2019-09-26 14:00:20,315 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] with BaseStateMachine:uninitialized
2019-09-26 14:00:20,315 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1
2019-09-26 14:00:20,315 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:20,315 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1 does not exist.
2019-09-26 14:00:20,315 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1
2019-09-26 14:00:20,315 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:20,316 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:20,316 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:20,316 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:20,316 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:20,316 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38965 (custom)
2019-09-26 14:00:20,316 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:20,317 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:20,317 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-4930FBA19EAC: ConfigurationManager, init=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:20,317 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,317 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:20,317 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0] (custom)
2019-09-26 14:00:20,317 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:20,318 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:20,318 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1] (custom)
2019-09-26 14:00:20,318 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac does not exist. Creating ...
2019-09-26 14:00:20,318 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] returns group-4930FBA19EAC:java.util.concurrent.CompletableFuture@60c70d6b[Not completed]
2019-09-26 14:00:20,318 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], format? true
2019-09-26 14:00:20,319 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2
2019-09-26 14:00:20,318 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] with BaseStateMachine:uninitialized
2019-09-26 14:00:20,319 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2 does not exist.
2019-09-26 14:00:20,319 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2
2019-09-26 14:00:20,319 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:20,319 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:20,319 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:20,319 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:20,319 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:20,320 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38470 (custom)
2019-09-26 14:00:20,320 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:20,320 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:20,320 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:20,320 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:20,321 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:20,321 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-4930FBA19EAC: ConfigurationManager, init=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:20,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:20,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1] (custom)
2019-09-26 14:00:20,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2] (custom)
2019-09-26 14:00:20,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:20,322 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] returns group-4930FBA19EAC:java.util.concurrent.CompletableFuture@3cfd7fac[Not completed]
2019-09-26 14:00:20,322 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac does not exist. Creating ...
2019-09-26 14:00:20,322 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] with BaseStateMachine:uninitialized
2019-09-26 14:00:20,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:20,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:20,323 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:20,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:20,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:20,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:20,323 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-4930FBA19EAC: ConfigurationManager, init=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:20,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2] (custom)
2019-09-26 14:00:20,324 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:20,324 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac does not exist. Creating ...
2019-09-26 14:00:20,325 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:20,336 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:20,336 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:20,336 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:20,336 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current
2019-09-26 14:00:20,337 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current
2019-09-26 14:00:20,336 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current
2019-09-26 14:00:20,337 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac/sm
2019-09-26 14:00:20,337 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/sm
2019-09-26 14:00:20,337 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac/sm
2019-09-26 14:00:20,352 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac has been successfully formatted.
2019-09-26 14:00:20,352 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac has been successfully formatted.
2019-09-26 14:00:20,352 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac has been successfully formatted.
2019-09-26 14:00:20,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:20,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:20,354 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-4930FBA19EAC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:20,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:20,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:20,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:20,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:20,356 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-4930FBA19EAC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:20,356 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-4930FBA19EAC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:20,358 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-4930FBA19EAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:20,361 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-4930FBA19EAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:20,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:20,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:20,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:20,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:20,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:20,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:20,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:20,362 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:20,363 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:20,363 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:20,363 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:20,367 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-4930FBA19EAC: start as a follower, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:20,367 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-4930FBA19EAC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:20,367 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:20,368 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s0
2019-09-26 14:00:20,371 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 14:00:20,372 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:42575
2019-09-26 14:00:20,372 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-4930FBA19EAC: start as a follower, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:20,373 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-4930FBA19EAC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:20,373 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:20,373 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s1
2019-09-26 14:00:20,376 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 14:00:20,377 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:38965
2019-09-26 14:00:20,377 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-4930FBA19EAC: start as a follower, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:20,377 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-4930FBA19EAC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:20,377 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:20,378 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s2
2019-09-26 14:00:20,380 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 14:00:20,381 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:38470
2019-09-26 14:00:20,381 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:20,382 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:20,382 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t0, leader=null, voted=null, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestReconfTwice(RaftReconfigurationBaseTest.java:144)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testReconfTwice(RaftReconfigurationBaseTest.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:20,417 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s0: installSnapshot onError, lastRequest: s1->s0#48-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 14:00:20,417 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s2: installSnapshot onError, lastRequest: s1->s2#48-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
Sep 26, 2019 2:00:20 PM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@30d71ecf
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Sep 26, 2019 2:00:20 PM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@44610f0a
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 14:00:20,528 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-4930FBA19EAC-FollowerState: change to CANDIDATE, lastRpcTime:160ms, electionTimeout:160ms
2019-09-26 14:00:20,529 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:20,529 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-4930FBA19EAC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:20,529 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:20,556 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-4930FBA19EAC-LeaderElection43: begin an election at term 1 for -1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:20,563 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-4930FBA19EAC: receive requestVote(s0, group-4930FBA19EAC, 1, (t:0, i:0))
2019-09-26 14:00:20,563 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-4930FBA19EAC: receive requestVote(s0, group-4930FBA19EAC, 1, (t:0, i:0))
2019-09-26 14:00:20,563 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-4930FBA19EAC: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 14:00:20,563 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-4930FBA19EAC: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-26 14:00:20,563 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:20,563 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:20,564 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-4930FBA19EAC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:20,564 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:20,564 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-4930FBA19EAC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:20,564 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:20,578 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-4930FBA19EAC replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-4930FBA19EAC:t1, leader=null, voted=s0, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:20,578 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-4930FBA19EAC replies to vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-4930FBA19EAC:t1, leader=null, voted=s0, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:20,579 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-4930FBA19EAC-LeaderElection43: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t1] and 0 exception(s); s0@group-4930FBA19EAC:t1, leader=null, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:20,579 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:20,580 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-4930FBA19EAC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 14:00:20,580 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-4930FBA19EAC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 227ms
2019-09-26 14:00:20,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:20,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:20,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:20,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:20,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:20,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:20,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:20,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:20,583 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:20,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:20,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:20,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:20,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:20,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:20,584 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:20,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:20,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:20,585 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-26 14:00:20,585 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-4930FBA19EAC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:20,586 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-4930FBA19EAC: set configuration 0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 0
2019-09-26 14:00:20,587 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-4930FBA19EAC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 234ms
2019-09-26 14:00:20,587 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-4930FBA19EAC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 234ms
2019-09-26 14:00:20,590 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:20,590 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:20,590 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-4930FBA19EAC: set configuration 0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 0
2019-09-26 14:00:20,590 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-4930FBA19EAC: set configuration 0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 0
2019-09-26 14:00:20,591 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-4930FBA19EAC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:20,591 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:20,795 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s0/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0
2019-09-26 14:00:20,795 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0
2019-09-26 14:00:20,795 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s1/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0
2019-09-26 14:00:20,807 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:20,807 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:20,833 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:20,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=29, seq=0, RW, Message:6d30)
2019-09-26 14:00:20,840 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=29, seq=0, RW, Message:6d30, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-19279B72A24D, cid=29
2019-09-26 14:00:20,842 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-19279B72A24D, cid=29
2019-09-26 14:00:20,842 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-19279B72A24D, cid=29
2019-09-26 14:00:20,852 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:20,853 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:20,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c-1], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:20,855 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c-1], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:20,858 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=30, seq=0, RW, Message:6d31)
2019-09-26 14:00:20,858 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=30, seq=0, RW, Message:6d31, entry=(t:1, i:3), STATEMACHINELOGENTRY, client-19279B72A24D, cid=30
2019-09-26 14:00:20,859 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-19279B72A24D, cid=30
2019-09-26 14:00:20,859 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-19279B72A24D, cid=30
2019-09-26 14:00:20,865 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:20,866 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:20,867 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:20,867 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:20,869 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:20,869 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:20,872 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=31, seq=0, RW, Message:6d32)
2019-09-26 14:00:20,873 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=31, seq=0, RW, Message:6d32, entry=(t:1, i:5), STATEMACHINELOGENTRY, client-19279B72A24D, cid=31
2019-09-26 14:00:20,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:4), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-19279B72A24D, cid=31
2019-09-26 14:00:20,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:4), 3, false, commits[s0:c3, s1:c1, s2:c1], entries: (t:1, i:5), STATEMACHINELOGENTRY, client-19279B72A24D, cid=31
2019-09-26 14:00:20,879 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:20,879 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#7:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:20,881 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#8:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 14:00:20,884 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#8:OK,SUCCESS,nextIndex:6,term:1,followerCommit:3
2019-09-26 14:00:20,886 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 14:00:20,886 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c5)
2019-09-26 14:00:20,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=32, seq=0, RW, Message:6d33)
2019-09-26 14:00:20,888 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=32, seq=0, RW, Message:6d33, entry=(t:1, i:7), STATEMACHINELOGENTRY, client-19279B72A24D, cid=32
2019-09-26 14:00:20,889 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:6), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-19279B72A24D, cid=32
2019-09-26 14:00:20,889 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:6), 5, false, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:7), STATEMACHINELOGENTRY, client-19279B72A24D, cid=32
2019-09-26 14:00:20,896 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#9:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 14:00:20,896 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#9:OK,SUCCESS,nextIndex:7,term:1,followerCommit:5
2019-09-26 14:00:20,897 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#10:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 14:00:20,898 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#10:OK,SUCCESS,nextIndex:8,term:1,followerCommit:5
2019-09-26 14:00:20,899 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:7), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 14:00:20,900 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:7), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:8), METADATAENTRY(c7)
2019-09-26 14:00:20,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=33, seq=0, RW, Message:6d34)
2019-09-26 14:00:20,902 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=33, seq=0, RW, Message:6d34, entry=(t:1, i:9), STATEMACHINELOGENTRY, client-19279B72A24D, cid=33
2019-09-26 14:00:20,902 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:8), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-19279B72A24D, cid=33
2019-09-26 14:00:20,903 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:8), 7, false, commits[s0:c7, s1:c5, s2:c5], entries: (t:1, i:9), STATEMACHINELOGENTRY, client-19279B72A24D, cid=33
2019-09-26 14:00:20,910 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#11:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 14:00:20,910 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#11:OK,SUCCESS,nextIndex:9,term:1,followerCommit:7
2019-09-26 14:00:20,911 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#12:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 14:00:20,911 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#12:OK,SUCCESS,nextIndex:10,term:1,followerCommit:7
2019-09-26 14:00:20,914 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:9), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 14:00:20,914 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:9), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:10), METADATAENTRY(c9)
2019-09-26 14:00:20,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=34, seq=0, RW, Message:6d35)
2019-09-26 14:00:20,917 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=34, seq=0, RW, Message:6d35, entry=(t:1, i:11), STATEMACHINELOGENTRY, client-19279B72A24D, cid=34
2019-09-26 14:00:20,918 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:10), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-19279B72A24D, cid=34
2019-09-26 14:00:20,918 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:10), 9, false, commits[s0:c9, s1:c7, s2:c7], entries: (t:1, i:11), STATEMACHINELOGENTRY, client-19279B72A24D, cid=34
2019-09-26 14:00:20,925 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#13:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 14:00:20,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#13:OK,SUCCESS,nextIndex:11,term:1,followerCommit:9
2019-09-26 14:00:20,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#14:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 14:00:20,926 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK,SUCCESS,nextIndex:12,term:1,followerCommit:9
2019-09-26 14:00:20,930 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:11), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 14:00:20,930 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:11), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:12), METADATAENTRY(c11)
2019-09-26 14:00:20,932 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=35, seq=0, RW, Message:6d36)
2019-09-26 14:00:20,932 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=35, seq=0, RW, Message:6d36, entry=(t:1, i:13), STATEMACHINELOGENTRY, client-19279B72A24D, cid=35
2019-09-26 14:00:20,933 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:12), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-19279B72A24D, cid=35
2019-09-26 14:00:20,933 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:12), 11, false, commits[s0:c11, s1:c9, s2:c9], entries: (t:1, i:13), STATEMACHINELOGENTRY, client-19279B72A24D, cid=35
2019-09-26 14:00:20,939 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#15:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 14:00:20,939 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#15:OK,SUCCESS,nextIndex:13,term:1,followerCommit:11
2019-09-26 14:00:20,941 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#16:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 14:00:20,941 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#16:OK,SUCCESS,nextIndex:14,term:1,followerCommit:11
2019-09-26 14:00:20,945 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:13), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 14:00:20,946 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:13), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:14), METADATAENTRY(c13)
2019-09-26 14:00:20,947 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=36, seq=0, RW, Message:6d37)
2019-09-26 14:00:20,948 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=36, seq=0, RW, Message:6d37, entry=(t:1, i:15), STATEMACHINELOGENTRY, client-19279B72A24D, cid=36
2019-09-26 14:00:20,949 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:14), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-19279B72A24D, cid=36
2019-09-26 14:00:20,949 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:14), 13, false, commits[s0:c13, s1:c11, s2:c11], entries: (t:1, i:15), STATEMACHINELOGENTRY, client-19279B72A24D, cid=36
2019-09-26 14:00:20,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#17:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 14:00:20,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#17:OK,SUCCESS,nextIndex:15,term:1,followerCommit:13
2019-09-26 14:00:20,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#18:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 14:00:20,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#18:OK,SUCCESS,nextIndex:16,term:1,followerCommit:13
2019-09-26 14:00:20,956 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:15), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 14:00:20,956 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:15), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:16), METADATAENTRY(c15)
2019-09-26 14:00:20,958 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=37, seq=0, RW, Message:6d38)
2019-09-26 14:00:20,959 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=37, seq=0, RW, Message:6d38, entry=(t:1, i:17), STATEMACHINELOGENTRY, client-19279B72A24D, cid=37
2019-09-26 14:00:20,959 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:16), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-19279B72A24D, cid=37
2019-09-26 14:00:20,959 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:16), 15, false, commits[s0:c15, s1:c13, s2:c13], entries: (t:1, i:17), STATEMACHINELOGENTRY, client-19279B72A24D, cid=37
2019-09-26 14:00:20,969 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#19:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 14:00:20,969 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#19:OK,SUCCESS,nextIndex:17,term:1,followerCommit:15
2019-09-26 14:00:20,970 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#20:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 14:00:20,970 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#20:OK,SUCCESS,nextIndex:18,term:1,followerCommit:15
2019-09-26 14:00:20,972 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:17), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 14:00:20,972 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:17), 17, false, commits[s0:c17, s1:c15, s2:c15], entries: (t:1, i:18), METADATAENTRY(c17)
2019-09-26 14:00:20,974 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#21:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 14:00:20,975 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#21:OK,SUCCESS,nextIndex:19,term:1,followerCommit:17
2019-09-26 14:00:20,975 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=38, seq=0, RW, Message:6d39)
2019-09-26 14:00:20,976 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=38, seq=0, RW, Message:6d39, entry=(t:1, i:19), STATEMACHINELOGENTRY, client-19279B72A24D, cid=38
2019-09-26 14:00:20,976 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:18), 18, false, commits[s0:c18, s1:c17, s2:c17], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-19279B72A24D, cid=38
2019-09-26 14:00:20,976 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:18), 18, false, commits[s0:c18, s1:c17, s2:c17], entries: (t:1, i:19), STATEMACHINELOGENTRY, client-19279B72A24D, cid=38
2019-09-26 14:00:20,978 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#22:OK,SUCCESS,nextIndex:20,term:1,followerCommit:18
2019-09-26 14:00:20,978 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#22:OK,SUCCESS,nextIndex:20,term:1,followerCommit:18
2019-09-26 14:00:20,979 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:19), 19, false, commits[s0:c19, s1:c17, s2:c18], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 14:00:20,979 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:19), 19, false, commits[s0:c19, s1:c17, s2:c18], entries: (t:1, i:20), METADATAENTRY(c19)
2019-09-26 14:00:20,980 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#23:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 14:00:20,980 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=39, seq=0, RW, Message:6d3130)
2019-09-26 14:00:20,981 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=39, seq=0, RW, Message:6d3130, entry=(t:1, i:21), STATEMACHINELOGENTRY, client-19279B72A24D, cid=39
2019-09-26 14:00:20,981 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#23:OK,SUCCESS,nextIndex:21,term:1,followerCommit:19
2019-09-26 14:00:20,981 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:20), 19, false, commits[s0:c19, s1:c18, s2:c19], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-19279B72A24D, cid=39
2019-09-26 14:00:20,981 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:20), 19, false, commits[s0:c19, s1:c18, s2:c19], entries: (t:1, i:21), STATEMACHINELOGENTRY, client-19279B72A24D, cid=39
2019-09-26 14:00:20,983 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#24:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 14:00:20,983 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#24:OK,SUCCESS,nextIndex:22,term:1,followerCommit:19
2019-09-26 14:00:20,984 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:21), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 14:00:20,984 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:21), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:22), METADATAENTRY(c21)
2019-09-26 14:00:20,986 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=40, seq=0, RW, Message:6d3131)
2019-09-26 14:00:20,986 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#25:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 14:00:20,986 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=40, seq=0, RW, Message:6d3131, entry=(t:1, i:23), STATEMACHINELOGENTRY, client-19279B72A24D, cid=40
2019-09-26 14:00:20,986 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#25:OK,SUCCESS,nextIndex:23,term:1,followerCommit:21
2019-09-26 14:00:20,987 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:22), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-19279B72A24D, cid=40
2019-09-26 14:00:20,987 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:22), 21, false, commits[s0:c21, s1:c19, s2:c19], entries: (t:1, i:23), STATEMACHINELOGENTRY, client-19279B72A24D, cid=40
2019-09-26 14:00:20,988 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#26:OK,SUCCESS,nextIndex:24,term:1,followerCommit:21
2019-09-26 14:00:20,989 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#26:OK,SUCCESS,nextIndex:24,term:1,followerCommit:21
2019-09-26 14:00:20,989 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:23), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 14:00:20,990 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:23), 23, false, commits[s0:c23, s1:c21, s2:c21], entries: (t:1, i:24), METADATAENTRY(c23)
2019-09-26 14:00:20,991 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#27:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 14:00:20,991 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#27:OK,SUCCESS,nextIndex:25,term:1,followerCommit:23
2019-09-26 14:00:20,991 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=41, seq=0, RW, Message:6d3132)
2019-09-26 14:00:20,992 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=41, seq=0, RW, Message:6d3132, entry=(t:1, i:25), STATEMACHINELOGENTRY, client-19279B72A24D, cid=41
2019-09-26 14:00:20,992 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:24), 23, false, commits[s0:c23, s1:c23, s2:c21], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-19279B72A24D, cid=41
2019-09-26 14:00:20,992 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:24), 24, false, commits[s0:c24, s1:c23, s2:c21], entries: (t:1, i:25), STATEMACHINELOGENTRY, client-19279B72A24D, cid=41
2019-09-26 14:00:20,995 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#28:OK,SUCCESS,nextIndex:26,term:1,followerCommit:23
2019-09-26 14:00:20,995 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#28:OK,SUCCESS,nextIndex:26,term:1,followerCommit:24
2019-09-26 14:00:20,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:25), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 14:00:20,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:25), 25, false, commits[s0:c25, s1:c23, s2:c23], entries: (t:1, i:26), METADATAENTRY(c25)
2019-09-26 14:00:20,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#29:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 14:00:20,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#29:OK,SUCCESS,nextIndex:27,term:1,followerCommit:25
2019-09-26 14:00:20,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=42, seq=0, RW, Message:6d3133)
2019-09-26 14:00:20,998 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=42, seq=0, RW, Message:6d3133, entry=(t:1, i:27), STATEMACHINELOGENTRY, client-19279B72A24D, cid=42
2019-09-26 14:00:20,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:26), 25, false, commits[s0:c25, s1:c25, s2:c24], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-19279B72A24D, cid=42
2019-09-26 14:00:20,999 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:26), 25, false, commits[s0:c25, s1:c25, s2:c25], entries: (t:1, i:27), STATEMACHINELOGENTRY, client-19279B72A24D, cid=42
2019-09-26 14:00:21,000 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#30:OK,SUCCESS,nextIndex:28,term:1,followerCommit:25
2019-09-26 14:00:21,000 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#30:OK,SUCCESS,nextIndex:28,term:1,followerCommit:25
2019-09-26 14:00:21,001 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:27), 27, false, commits[s0:c27, s1:c25, s2:c25], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 14:00:21,001 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:27), 27, false, commits[s0:c27, s1:c25, s2:c25], entries: (t:1, i:28), METADATAENTRY(c27)
2019-09-26 14:00:21,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=43, seq=0, RW, Message:6d3134)
2019-09-26 14:00:21,003 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=43, seq=0, RW, Message:6d3134, entry=(t:1, i:29), STATEMACHINELOGENTRY, client-19279B72A24D, cid=43
2019-09-26 14:00:21,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#31:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 14:00:21,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#31:OK,SUCCESS,nextIndex:29,term:1,followerCommit:27
2019-09-26 14:00:21,004 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:28), 27, false, commits[s0:c27, s1:c25, s2:c25], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-19279B72A24D, cid=43
2019-09-26 14:00:21,004 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:28), 27, false, commits[s0:c27, s1:c25, s2:c25], entries: (t:1, i:29), STATEMACHINELOGENTRY, client-19279B72A24D, cid=43
2019-09-26 14:00:21,005 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#32:OK,SUCCESS,nextIndex:30,term:1,followerCommit:27
2019-09-26 14:00:21,006 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#32:OK,SUCCESS,nextIndex:30,term:1,followerCommit:27
2019-09-26 14:00:21,006 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:29), 29, false, commits[s0:c29, s1:c27, s2:c27], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 14:00:21,006 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:29), 29, false, commits[s0:c29, s1:c27, s2:c27], entries: (t:1, i:30), METADATAENTRY(c29)
2019-09-26 14:00:21,007 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=44, seq=0, RW, Message:6d3135)
2019-09-26 14:00:21,007 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=44, seq=0, RW, Message:6d3135, entry=(t:1, i:31), STATEMACHINELOGENTRY, client-19279B72A24D, cid=44
2019-09-26 14:00:21,008 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#33:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 14:00:21,008 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:30), 29, false, commits[s0:c29, s1:c27, s2:c27], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-19279B72A24D, cid=44
2019-09-26 14:00:21,008 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:30), 29, false, commits[s0:c29, s1:c27, s2:c27], entries: (t:1, i:31), STATEMACHINELOGENTRY, client-19279B72A24D, cid=44
2019-09-26 14:00:21,009 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#33:OK,SUCCESS,nextIndex:31,term:1,followerCommit:29
2019-09-26 14:00:21,009 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#34:OK,SUCCESS,nextIndex:32,term:1,followerCommit:29
2019-09-26 14:00:21,011 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:31), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 14:00:21,011 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:31), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:32), METADATAENTRY(c31)
2019-09-26 14:00:21,011 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#34:OK,SUCCESS,nextIndex:32,term:1,followerCommit:29
2019-09-26 14:00:21,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=45, seq=0, RW, Message:6d3136)
2019-09-26 14:00:21,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#35:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 14:00:21,012 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=45, seq=0, RW, Message:6d3136, entry=(t:1, i:33), STATEMACHINELOGENTRY, client-19279B72A24D, cid=45
2019-09-26 14:00:21,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#35:OK,SUCCESS,nextIndex:33,term:1,followerCommit:31
2019-09-26 14:00:21,013 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:32), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-19279B72A24D, cid=45
2019-09-26 14:00:21,013 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:32), 31, false, commits[s0:c31, s1:c29, s2:c29], entries: (t:1, i:33), STATEMACHINELOGENTRY, client-19279B72A24D, cid=45
2019-09-26 14:00:21,014 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#36:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 14:00:21,015 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#36:OK,SUCCESS,nextIndex:34,term:1,followerCommit:31
2019-09-26 14:00:21,015 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:33), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 14:00:21,015 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:33), 33, false, commits[s0:c33, s1:c31, s2:c31], entries: (t:1, i:34), METADATAENTRY(c33)
2019-09-26 14:00:21,016 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#37:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 14:00:21,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=46, seq=0, RW, Message:6d3137)
2019-09-26 14:00:21,017 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=46, seq=0, RW, Message:6d3137, entry=(t:1, i:35), STATEMACHINELOGENTRY, client-19279B72A24D, cid=46
2019-09-26 14:00:21,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:34), 33, false, commits[s0:c33, s1:c33, s2:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-19279B72A24D, cid=46
2019-09-26 14:00:21,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#37:OK,SUCCESS,nextIndex:35,term:1,followerCommit:33
2019-09-26 14:00:21,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:34), 34, false, commits[s0:c34, s1:c33, s2:c31], entries: (t:1, i:35), STATEMACHINELOGENTRY, client-19279B72A24D, cid=46
2019-09-26 14:00:21,019 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#38:OK,SUCCESS,nextIndex:36,term:1,followerCommit:33
2019-09-26 14:00:21,019 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#38:OK,SUCCESS,nextIndex:36,term:1,followerCommit:34
2019-09-26 14:00:21,020 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:35), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 14:00:21,020 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:35), 35, false, commits[s0:c35, s1:c33, s2:c33], entries: (t:1, i:36), METADATAENTRY(c35)
2019-09-26 14:00:21,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#39:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 14:00:21,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=47, seq=0, RW, Message:6d3138)
2019-09-26 14:00:21,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#39:OK,SUCCESS,nextIndex:37,term:1,followerCommit:35
2019-09-26 14:00:21,022 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=47, seq=0, RW, Message:6d3138, entry=(t:1, i:37), STATEMACHINELOGENTRY, client-19279B72A24D, cid=47
2019-09-26 14:00:21,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:36), 35, false, commits[s0:c35, s1:c35, s2:c34], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-19279B72A24D, cid=47
2019-09-26 14:00:21,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:36), 35, false, commits[s0:c35, s1:c35, s2:c34], entries: (t:1, i:37), STATEMACHINELOGENTRY, client-19279B72A24D, cid=47
2019-09-26 14:00:21,023 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#40:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 14:00:21,024 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#40:OK,SUCCESS,nextIndex:38,term:1,followerCommit:35
2019-09-26 14:00:21,024 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:37), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 14:00:21,024 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:37), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:38), METADATAENTRY(c37)
2019-09-26 14:00:21,026 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-4930FBA19EAC: receive client request(RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=48, seq=0, RW, Message:6d3139)
2019-09-26 14:00:21,026 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#41:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 14:00:21,026 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#41:OK,SUCCESS,nextIndex:39,term:1,followerCommit:37
2019-09-26 14:00:21,026 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-4930FBA19EAC-LeaderState: addPendingRequest at RaftClientRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=48, seq=0, RW, Message:6d3139, entry=(t:1, i:39), STATEMACHINELOGENTRY, client-19279B72A24D, cid=48
2019-09-26 14:00:21,027 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:38), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-19279B72A24D, cid=48
2019-09-26 14:00:21,027 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:38), 37, false, commits[s0:c37, s1:c35, s2:c35], entries: (t:1, i:39), STATEMACHINELOGENTRY, client-19279B72A24D, cid=48
2019-09-26 14:00:21,028 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#42:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 14:00:21,029 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#42:OK,SUCCESS,nextIndex:40,term:1,followerCommit:37
2019-09-26 14:00:21,029 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:39), 39, false, commits[s0:c39, s1:c37, s2:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 14:00:21,029 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:39), 39, false, commits[s0:c39, s1:c37, s2:c37], entries: (t:1, i:40), METADATAENTRY(c39)
2019-09-26 14:00:21,030 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#43:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 14:00:21,031 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#43:OK,SUCCESS,nextIndex:41,term:1,followerCommit:39
2019-09-26 14:00:21,031 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 14:00:21,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], format? true
2019-09-26 14:00:21,032 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3
2019-09-26 14:00:21,032 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3 does not exist.
2019-09-26 14:00:21,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3
2019-09-26 14:00:21,033 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:21,033 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:21,033 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38596 (custom)
2019-09-26 14:00:21,033 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:21,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,033 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:21,033 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:21,034 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3] (custom)
2019-09-26 14:00:21,034 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] returns group-4930FBA19EAC:java.util.concurrent.CompletableFuture@3f743854[Not completed]
2019-09-26 14:00:21,034 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], format? true
2019-09-26 14:00:21,034 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4
2019-09-26 14:00:21,034 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] with BaseStateMachine:uninitialized
2019-09-26 14:00:21,035 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4 does not exist.
2019-09-26 14:00:21,035 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4
2019-09-26 14:00:21,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:21,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:21,035 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:21,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:21,035 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:21,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:21,035 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41557 (custom)
2019-09-26 14:00:21,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:21,036 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:21,036 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-4930FBA19EAC: ConfigurationManager, init=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:21,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3] (custom)
2019-09-26 14:00:21,036 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:21,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:21,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:21,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4] (custom)
2019-09-26 14:00:21,037 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac does not exist. Creating ...
2019-09-26 14:00:21,037 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] returns group-4930FBA19EAC:java.util.concurrent.CompletableFuture@4b46ca07[Not completed]
2019-09-26 14:00:21,037 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-4930FBA19EAC:[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] with BaseStateMachine:uninitialized
2019-09-26 14:00:21,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:21,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:21,037 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:21,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:21,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:21,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:21,038 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-4930FBA19EAC: ConfigurationManager, init=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:21,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4] (custom)
2019-09-26 14:00:21,038 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:21,038 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac does not exist. Creating ...
2019-09-26 14:00:21,038 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:21,042 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:21,042 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:21,043 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current
2019-09-26 14:00:21,043 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current
2019-09-26 14:00:21,043 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/sm
2019-09-26 14:00:21,043 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/sm
2019-09-26 14:00:21,067 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac has been successfully formatted.
2019-09-26 14:00:21,067 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac has been successfully formatted.
2019-09-26 14:00:21,067 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:21,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:21,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:21,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:21,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:21,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:21,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:21,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:21,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:21,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:21,069 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-4930FBA19EAC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:21,069 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-4930FBA19EAC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac
2019-09-26 14:00:21,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:21,070 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:21,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:21,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:21,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:21,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:21,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:21,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:21,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:21,072 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:21,072 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:21,072 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:21,072 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:21,073 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:21,073 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:21,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:21,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:21,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:21,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:21,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:21,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:21,078 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-4930FBA19EAC: start with initializing state, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,078 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-4930FBA19EAC: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:21,078 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s3
2019-09-26 14:00:21,081 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:21,082 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:38596
2019-09-26 14:00:21,082 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-4930FBA19EAC: start with initializing state, conf=-1: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,083 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-4930FBA19EAC: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:21,083 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s4
2019-09-26 14:00:21,087 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 14:00:21,088 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:41557
2019-09-26 14:00:21,088 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestReconfTwice$4(161)) - Start changing the configuration: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:21,091 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-4930FBA19EAC: receive setConfiguration SetConfigurationRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=49, seq=0, RW, null, peers:[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:21,092 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-4930FBA19EAC-LeaderState: startSetConfiguration SetConfigurationRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=49, seq=0, RW, null, peers:[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:21,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:21,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:21,093 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:21,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:21,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:21,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:21,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:21,094 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:21,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:21,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:21,113 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-4930FBA19EAC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 45ms
2019-09-26 14:00:21,113 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-4930FBA19EAC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 45ms
2019-09-26 14:00:21,113 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-4930FBA19EAC: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 14:00:21,113 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-4930FBA19EAC: Failed appendEntries as previous log entry ((t:1, i:40)) is not found
2019-09-26 14:00:21,114 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-4930FBA19EAC: inconsistency entries. Reply:s0<-s4#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 14:00:21,114 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-4930FBA19EAC: inconsistency entries. Reply:s0<-s3#0:FAIL,INCONSISTENCY,nextIndex:1,term:0,followerCommit:-1
2019-09-26 14:00:21,115 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s4: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 14:00:21,115 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s3: nextIndex: updateUnconditionally 41 -> 1
2019-09-26 14:00:21,117 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:0), 40, true, commits[s0:c40, s1:c40, s2:c40, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-19279B72A24D, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-19279B72A24D, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-19279B72A24D, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-19279B72A24D, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-19279B72A24D, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-19279B72A24D, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-19279B72A24D, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-19279B72A24D, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-19279B72A24D, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-19279B72A24D, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-19279B72A24D, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-19279B72A24D, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-19279B72A24D, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-19279B72A24D, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-19279B72A24D, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-19279B72A24D, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-19279B72A24D, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-19279B72A24D, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-19279B72A24D, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-19279B72A24D, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 14:00:21,118 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-4930FBA19EAC: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:21,118 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-4930FBA19EAC: inconsistency entries. Reply:s0<-s4#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 14:00:21,118 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:0), 40, true, commits[s0:c40, s1:c40, s2:c40, s3:c-1, s4:c-1], entries: [(t:1, i:1), STATEMACHINELOGENTRY, client-19279B72A24D, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-19279B72A24D, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-19279B72A24D, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-19279B72A24D, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-19279B72A24D, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-19279B72A24D, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-19279B72A24D, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-19279B72A24D, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-19279B72A24D, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-19279B72A24D, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-19279B72A24D, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-19279B72A24D, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-19279B72A24D, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-19279B72A24D, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-19279B72A24D, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-19279B72A24D, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-19279B72A24D, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-19279B72A24D, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-19279B72A24D, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-19279B72A24D, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 14:00:21,118 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s4: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 14:00:21,118 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-4930FBA19EAC: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:21,119 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-4930FBA19EAC: inconsistency entries. Reply:s0<-s3#1:FAIL,INCONSISTENCY,nextIndex:0,term:1,followerCommit:-1
2019-09-26 14:00:21,119 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s3: nextIndex: updateUnconditionally 41 -> 0
2019-09-26 14:00:21,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, null, 40, true, commits[s0:c40, s1:c40, s2:c40, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-19279B72A24D, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-19279B72A24D, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-19279B72A24D, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-19279B72A24D, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-19279B72A24D, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-19279B72A24D, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-19279B72A24D, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-19279B72A24D, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-19279B72A24D, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-19279B72A24D, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-19279B72A24D, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-19279B72A24D, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-19279B72A24D, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-19279B72A24D, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-19279B72A24D, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-19279B72A24D, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-19279B72A24D, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-19279B72A24D, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-19279B72A24D, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-19279B72A24D, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 14:00:21,120 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-4930FBA19EAC: set configuration 0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 0
2019-09-26 14:00:21,120 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:21,121 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, null, 40, true, commits[s0:c40, s1:c40, s2:c40, s3:c-1, s4:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:1, i:1), STATEMACHINELOGENTRY, client-19279B72A24D, cid=29, (t:1, i:2), METADATAENTRY(c1), (t:1, i:3), STATEMACHINELOGENTRY, client-19279B72A24D, cid=30, (t:1, i:4), METADATAENTRY(c3), (t:1, i:5), STATEMACHINELOGENTRY, client-19279B72A24D, cid=31, (t:1, i:6), METADATAENTRY(c5), (t:1, i:7), STATEMACHINELOGENTRY, client-19279B72A24D, cid=32, (t:1, i:8), METADATAENTRY(c7), (t:1, i:9), STATEMACHINELOGENTRY, client-19279B72A24D, cid=33, (t:1, i:10), METADATAENTRY(c9), (t:1, i:11), STATEMACHINELOGENTRY, client-19279B72A24D, cid=34, (t:1, i:12), METADATAENTRY(c11), (t:1, i:13), STATEMACHINELOGENTRY, client-19279B72A24D, cid=35, (t:1, i:14), METADATAENTRY(c13), (t:1, i:15), STATEMACHINELOGENTRY, client-19279B72A24D, cid=36, (t:1, i:16), METADATAENTRY(c15), (t:1, i:17), STATEMACHINELOGENTRY, client-19279B72A24D, cid=37, (t:1, i:18), METADATAENTRY(c17), (t:1, i:19), STATEMACHINELOGENTRY, client-19279B72A24D, cid=38, (t:1, i:20), METADATAENTRY(c19), (t:1, i:21), STATEMACHINELOGENTRY, client-19279B72A24D, cid=39, (t:1, i:22), METADATAENTRY(c21), (t:1, i:23), STATEMACHINELOGENTRY, client-19279B72A24D, cid=40, (t:1, i:24), METADATAENTRY(c23), (t:1, i:25), STATEMACHINELOGENTRY, client-19279B72A24D, cid=41, (t:1, i:26), METADATAENTRY(c25), (t:1, i:27), STATEMACHINELOGENTRY, client-19279B72A24D, cid=42, (t:1, i:28), METADATAENTRY(c27), (t:1, i:29), STATEMACHINELOGENTRY, client-19279B72A24D, cid=43, (t:1, i:30), METADATAENTRY(c29), (t:1, i:31), STATEMACHINELOGENTRY, client-19279B72A24D, cid=44, (t:1, i:32), METADATAENTRY(c31), (t:1, i:33), STATEMACHINELOGENTRY, client-19279B72A24D, cid=45, (t:1, i:34), METADATAENTRY(c33), (t:1, i:35), STATEMACHINELOGENTRY, client-19279B72A24D, cid=46, (t:1, i:36), METADATAENTRY(c35), (t:1, i:37), STATEMACHINELOGENTRY, client-19279B72A24D, cid=47, (t:1, i:38), METADATAENTRY(c37), (t:1, i:39), STATEMACHINELOGENTRY, client-19279B72A24D, cid=48, (t:1, i:40), METADATAENTRY(c39)]
2019-09-26 14:00:21,121 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-4930FBA19EAC: set configuration 0: [s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 0
2019-09-26 14:00:21,122 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:21,229 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0
2019-09-26 14:00:21,229 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0
2019-09-26 14:00:21,237 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s3: installSnapshot onError, lastRequest: s1->s3#44-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-09-26 14:00:21,237 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s4: installSnapshot onError, lastRequest: s1->s4#44-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
Sep 26, 2019 2:00:21 PM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@460b7b41
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Sep 26, 2019 2:00:21 PM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed@fb5968
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:356)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onError(GrpcServerProtocolService.java:121)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:269)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-09-26 14:00:21,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 14:00:21,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#2:OK,SUCCESS,nextIndex:41,term:1,followerCommit:40
2019-09-26 14:00:21,243 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-4930FBA19EAC: set configuration 41: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 41
2019-09-26 14:00:21,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:40), 40, true, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 14:00:21,244 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-4930FBA19EAC: set configuration 41: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 41
2019-09-26 14:00:21,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 14:00:21,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 14:00:21,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:40), 40, false, commits[s0:c40, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:41), CONFIGURATIONENTRY
2019-09-26 14:00:21,245 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-4930FBA19EAC: set configuration 41: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 41
2019-09-26 14:00:21,245 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-4930FBA19EAC: set configuration 41: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 41
2019-09-26 14:00:21,245 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 14:00:21,246 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-4930FBA19EAC: set configuration 41: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=[s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 41
2019-09-26 14:00:21,254 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#46:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 14:00:21,255 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#4:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 14:00:21,255 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#4:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 14:00:21,255 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#46:OK,SUCCESS,nextIndex:42,term:1,followerCommit:40
2019-09-26 14:00:21,256 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-4930FBA19EAC: set configuration 43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 43
2019-09-26 14:00:21,257 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 14:00:21,257 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 14:00:21,257 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 14:00:21,258 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 14:00:21,257 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:41), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:42), METADATAENTRY(c41)
2019-09-26 14:00:21,258 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-4930FBA19EAC: set configuration 43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 43
2019-09-26 14:00:21,258 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:21,257 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 14:00:21,258 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 14:00:21,259 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:42), 41, false, commits[s0:c41, s1:c40, s2:c40, s3:c40, s4:c40], entries: (t:1, i:43), CONFIGURATIONENTRY
2019-09-26 14:00:21,259 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-4930FBA19EAC: set configuration 43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 43
2019-09-26 14:00:21,259 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-4930FBA19EAC: set configuration 43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 43
2019-09-26 14:00:21,259 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-4930FBA19EAC: set configuration 43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null at 43
2019-09-26 14:00:21,268 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#47:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 14:00:21,268 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#5:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 14:00:21,268 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#47:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 14:00:21,268 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#5:OK,SUCCESS,nextIndex:43,term:1,followerCommit:41
2019-09-26 14:00:21,269 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#48:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 14:00:21,269 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#48:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 14:00:21,270 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#6:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 14:00:21,272 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#6:OK,SUCCESS,nextIndex:44,term:1,followerCommit:41
2019-09-26 14:00:21,272 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 14:00:21,272 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 14:00:21,272 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 14:00:21,272 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:43), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:44), METADATAENTRY(c43)
2019-09-26 14:00:21,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:21,278 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c43,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:21,278 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c43,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c41,f43,i44, conf=43: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:21,278 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:lambda$runTestReconfTwice$4(171)) - Start changing the configuration again: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470]
2019-09-26 14:00:21,280 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-4930FBA19EAC: receive setConfiguration SetConfigurationRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=50, seq=0, RW, null, peers:[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470]
2019-09-26 14:00:21,281 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-4930FBA19EAC-LeaderState: startSetConfiguration SetConfigurationRequest:client-19279B72A24D->s0@group-4930FBA19EAC, cid=50, seq=0, RW, null, peers:[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470]
2019-09-26 14:00:21,281 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-4930FBA19EAC: set configuration 45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 45
2019-09-26 14:00:21,282 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:44), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 14:00:21,282 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:44), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 14:00:21,282 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-4930FBA19EAC: set configuration 45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 45
2019-09-26 14:00:21,282 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-4930FBA19EAC: set configuration 45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 45
2019-09-26 14:00:21,282 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:44), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 14:00:21,282 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:44), 43, false, commits[s0:c43, s1:c41, s2:c41, s3:c41, s4:c41], entries: (t:1, i:45), CONFIGURATIONENTRY
2019-09-26 14:00:21,283 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#7:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 14:00:21,283 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-4930FBA19EAC: set configuration 45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 45
2019-09-26 14:00:21,283 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#7:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 14:00:21,283 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#49:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 14:00:21,283 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-4930FBA19EAC: set configuration 45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] at 45
2019-09-26 14:00:21,283 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#49:OK,SUCCESS,nextIndex:45,term:1,followerCommit:43
2019-09-26 14:00:21,284 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#50:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 14:00:21,284 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#8:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 14:00:21,285 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#8:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 14:00:21,285 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s1#50:OK,SUCCESS,nextIndex:46,term:1,followerCommit:43
2019-09-26 14:00:21,286 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-4930FBA19EAC->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:21,286 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-4930FBA19EAC: set configuration 47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null at 47
2019-09-26 14:00:21,286 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:45), 45, false, commits[s0:c45, s1:c41, s2:c43, s3:c43, s4:c43], entries: (t:1, i:46), METADATAENTRY(c45)
2019-09-26 14:00:21,286 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:45), 45, false, commits[s0:c45, s1:c41, s2:c43, s3:c43, s4:c43], entries: (t:1, i:46), METADATAENTRY(c45)
2019-09-26 14:00:21,287 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#50-t1, previous=(t:1, i:44), leaderCommit=43, initializing? false, entries: size=1, first=(t:1, i:45), CONFIGURATIONENTRY
2019-09-26 14:00:21,286 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:45), 45, false, commits[s0:c45, s1:c41, s2:c43, s3:c43, s4:c43], entries: (t:1, i:46), METADATAENTRY(c45)
2019-09-26 14:00:21,287 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:46), 45, false, commits[s0:c45, s2:c43, s3:c43, s4:c43], entries: (t:1, i:47), CONFIGURATIONENTRY
2019-09-26 14:00:21,287 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:46), 45, false, commits[s0:c45, s2:c43, s3:c43, s4:c43], entries: (t:1, i:47), CONFIGURATIONENTRY
2019-09-26 14:00:21,288 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:46), 45, false, commits[s0:c45, s2:c43, s3:c43, s4:c43], entries: (t:1, i:47), CONFIGURATIONENTRY
2019-09-26 14:00:21,288 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-4930FBA19EAC: set configuration 47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null at 47
2019-09-26 14:00:21,288 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-4930FBA19EAC: set configuration 47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null at 47
2019-09-26 14:00:21,287 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-4930FBA19EAC->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:21,288 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-4930FBA19EAC: set configuration 47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null at 47
2019-09-26 14:00:21,289 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s1: nextIndex: updateUnconditionally 47 -> 45
2019-09-26 14:00:21,297 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#9:OK,SUCCESS,nextIndex:47,term:1,followerCommit:45
2019-09-26 14:00:21,297 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#9:OK,SUCCESS,nextIndex:47,term:1,followerCommit:45
2019-09-26 14:00:21,298 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#51:OK,SUCCESS,nextIndex:47,term:1,followerCommit:45
2019-09-26 14:00:21,299 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#10:OK,SUCCESS,nextIndex:48,term:1,followerCommit:45
2019-09-26 14:00:21,299 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#10:OK,SUCCESS,nextIndex:48,term:1,followerCommit:45
2019-09-26 14:00:21,299 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#52:OK,SUCCESS,nextIndex:48,term:1,followerCommit:45
2019-09-26 14:00:21,300 INFO  impl.RaftServerImpl (LeaderState.java:checkAndUpdateConfiguration(652)) - s0@group-4930FBA19EAC-LeaderState is not included in the new configuration 47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null. Will shutdown server...
2019-09-26 14:00:21,300 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:47), 47, false, commits[s0:c47, s2:c45, s3:c45, s4:c45], entries: (t:1, i:48), METADATAENTRY(c47)
2019-09-26 14:00:21,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:47), 47, false, commits[s0:c47, s2:c45, s3:c45, s4:c45], entries: (t:1, i:48), METADATAENTRY(c47)
2019-09-26 14:00:21,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: receive appendEntries(s0, 1, (t:1, i:47), 47, false, commits[s0:c47, s2:c45, s3:c45, s4:c45], entries: (t:1, i:48), METADATAENTRY(c47)
2019-09-26 14:00:21,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:21,303 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f47,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:21,303 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:21,303 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s4@group-4930FBA19EAC:t1, leader=s0, voted=null, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c45,f47,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:21,303 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f47,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:21,304 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s1@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] RUNNING
2019-09-26 14:00:21,304 WARN  impl.RaftServerTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitAndCheckNewConf", attempt #1/10: java.lang.AssertionError, sleep 1200ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:80)
	at org.apache.ratis.server.impl.RaftServerTestUtil.lambda$waitAndCheckNewConf$1(RaftServerTestUtil.java:53)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:172)
	at org.apache.ratis.server.impl.RaftServerTestUtil.waitAndCheckNewConf(RaftServerTestUtil.java:53)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestReconfTwice(RaftReconfigurationBaseTest.java:187)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testReconfTwice(RaftReconfigurationBaseTest.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:21,319 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s4#11:OK,SUCCESS,nextIndex:49,term:1,followerCommit:47
2019-09-26 14:00:21,319 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s3#11:OK,SUCCESS,nextIndex:49,term:1,followerCommit:47
2019-09-26 14:00:21,319 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s0<-s2#53:OK,SUCCESS,nextIndex:49,term:1,followerCommit:47
2019-09-26 14:00:21,451 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-4930FBA19EAC: shutdown
2019-09-26 14:00:21,451 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s0
2019-09-26 14:00:21,451 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-26 14:00:21,451 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-4930FBA19EAC-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:21,451 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-4930FBA19EAC->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:21,451 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-4930FBA19EAC->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:21,451 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s0@group-4930FBA19EAC->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:21,452 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-4930FBA19EAC-StateMachineUpdater: set stopIndex = 47
2019-09-26 14:00:21,452 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-4930FBA19EAC: closes. applyIndex: 47
2019-09-26 14:00:21,452 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#54-t1, previous=(t:1, i:48), leaderCommit=47, initializing? false, entries: <empty>
2019-09-26 14:00:21,452 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#12-t1, previous=(t:1, i:48), leaderCommit=47, initializing? false, entries: <empty>
2019-09-26 14:00:21,453 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-4930FBA19EAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:21,453 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#12-t1, previous=(t:1, i:48), leaderCommit=47, initializing? false, entries: <empty>
2019-09-26 14:00:21,453 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-4930FBA19EAC->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:21,453 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-4930FBA19EAC->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:21,453 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s0@group-4930FBA19EAC->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:21,454 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s2: nextIndex: updateUnconditionally 49 -> 48
2019-09-26 14:00:21,454 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s3: nextIndex: updateUnconditionally 49 -> 48
2019-09-26 14:00:21,455 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-4930FBA19EAC->s4: nextIndex: updateUnconditionally 49 -> 48
2019-09-26 14:00:21,455 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-4930FBA19EAC-SegmentedRaftLogWorker close()
2019-09-26 14:00:21,608 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-4930FBA19EAC-FollowerState: change to CANDIDATE, lastRpcTime:212ms, electionTimeout:203ms
2019-09-26 14:00:21,609 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 14:00:21,609 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-4930FBA19EAC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:21,609 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-26 14:00:21,610 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-4930FBA19EAC: change Leader from s0 to null at term 1 for initElection
2019-09-26 14:00:21,625 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-4930FBA19EAC-LeaderElection44: begin an election at term 2 for 47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,634 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-4930FBA19EAC: receive requestVote(s4, group-4930FBA19EAC, 2, (t:1, i:48))
2019-09-26 14:00:21,634 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-4930FBA19EAC: receive requestVote(s4, group-4930FBA19EAC, 2, (t:1, i:48))
2019-09-26 14:00:21,634 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-4930FBA19EAC: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:21,634 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-4930FBA19EAC: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-26 14:00:21,634 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-4930FBA19EAC: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-26 14:00:21,635 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-4930FBA19EAC: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-26 14:00:21,635 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:21,635 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:21,635 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-4930FBA19EAC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:21,635 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-4930FBA19EAC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:21,635 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:21,635 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:21,650 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-4930FBA19EAC replies to vote request: s4<-s3#0:OK-t2. Peer's state: s3@group-4930FBA19EAC:t2, leader=null, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,650 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-4930FBA19EAC replies to vote request: s4<-s2#0:OK-t2. Peer's state: s2@group-4930FBA19EAC:t2, leader=null, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,652 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-4930FBA19EAC-LeaderElection44: Election PASSED; received 1 response(s) [s4<-s2#0:OK-t2] and 0 exception(s); s4@group-4930FBA19EAC:t2, leader=null, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f48,i48, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,652 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-26 14:00:21,652 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-4930FBA19EAC: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-26 14:00:21,652 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-4930FBA19EAC: change Leader from null to s4 at term 2 for becomeLeader, leader elected after 42ms
2019-09-26 14:00:21,652 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:21,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:21,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:21,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:21,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:21,653 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:21,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:21,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:21,658 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:21,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:21,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:21,658 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:21,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:21,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:21,659 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:21,659 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:21,660 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:21,660 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-26 14:00:21,660 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker: Rolling segment log-0_48 to index:48
2019-09-26 14:00:21,661 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-4930FBA19EAC: set configuration 49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null at 49
2019-09-26 14:00:21,663 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-4930FBA19EAC: change Leader from null to s4 at term 2 for appendEntries, leader elected after 29ms
2019-09-26 14:00:21,663 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_0-48
2019-09-26 14:00:21,663 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-4930FBA19EAC: change Leader from null to s4 at term 2 for appendEntries, leader elected after 29ms
2019-09-26 14:00:21,663 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_0-48
2019-09-26 14:00:21,665 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s4, 2, (t:1, i:48), 47, false, commits[s4:c47, s3:c47, s2:c47], entries: (t:2, i:49), CONFIGURATIONENTRY
2019-09-26 14:00:21,666 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s4, 2, (t:1, i:48), 47, false, commits[s4:c47, s3:c47, s2:c47], entries: (t:2, i:49), CONFIGURATIONENTRY
2019-09-26 14:00:21,666 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-4930FBA19EAC: set configuration 49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null at 49
2019-09-26 14:00:21,666 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-4930FBA19EAC: set configuration 49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null at 49
2019-09-26 14:00:21,666 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker: Rolling segment log-0_48 to index:48
2019-09-26 14:00:21,666 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker: Rolling segment log-0_48 to index:48
2019-09-26 14:00:21,669 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_0-48
2019-09-26 14:00:21,669 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_0-48
2019-09-26 14:00:21,669 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_0-48
2019-09-26 14:00:21,669 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_0-48
2019-09-26 14:00:21,678 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-4930FBA19EAC-FollowerState: change to CANDIDATE, lastRpcTime:392ms, electionTimeout:193ms
2019-09-26 14:00:21,678 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:21,679 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-4930FBA19EAC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-26 14:00:21,679 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:21,679 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-4930FBA19EAC: change Leader from s0 to null at term 1 for initElection
2019-09-26 14:00:21,898 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s2/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_49
2019-09-26 14:00:21,898 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-4930FBA19EAC-LeaderElection45: begin an election at term 2 for 45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:21,898 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s3/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_49
2019-09-26 14:00:21,898 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpcd577d1b4/s4/1ff26bbd-e9c0-41d4-b504-4930fba19eac/current/log_inprogress_49
2019-09-26 14:00:21,903 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 2, (t:1, i:45))
2019-09-26 14:00:21,903 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 2, (t:1, i:45))
2019-09-26 14:00:21,903 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 2, (t:1, i:45))
2019-09-26 14:00:21,903 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s2@group-4930FBA19EAC- FOLLOWER: Withhold vote from candidate s1 with term 2. State: leader=s4, term=2, lastRpcElapsed=11ms
2019-09-26 14:00:21,903 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s3@group-4930FBA19EAC- FOLLOWER: Withhold vote from candidate s1 with term 2. State: leader=s4, term=2, lastRpcElapsed=11ms
2019-09-26 14:00:21,903 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 2, (t:1, i:45))
2019-09-26 14:00:21,904 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-4930FBA19EAC replies to vote request: s1<-s3#0:FAIL-t2. Peer's state: s3@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f48,i49, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,904 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-4930FBA19EAC replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f48,i49, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,904 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s0: Failed requestVote s1->s0#0: org.apache.ratis.protocol.ServerNotReadyException: s0@group-4930FBA19EAC is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:21,904 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s4@group-4930FBA19EAC-   LEADER: Withhold vote from candidate s1 with term 2. State: leader=s4, term=2, lastRpcElapsed=null
2019-09-26 14:00:21,905 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-4930FBA19EAC replies to vote request: s1<-s4#0:FAIL-t2. Peer's state: s4@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c47,f48,i49, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:21,907 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s1@group-4930FBA19EAC-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s0@group-4930FBA19EAC is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:21,907 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-4930FBA19EAC-LeaderElection45: Election REJECTED; received 3 response(s) [s1<-s3#0:FAIL-t2, s1<-s4#0:FAIL-t2, s1<-s2#0:FAIL-t2] and 1 exception(s); s1@group-4930FBA19EAC:t2, leader=null, voted=s1, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:21,908 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s0@group-4930FBA19EAC is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:21,908 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-4930FBA19EAC: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:21,908 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:21,908 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:21,909 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s4<-s2#1:OK,SUCCESS,nextIndex:50,term:2,followerCommit:47
2019-09-26 14:00:21,910 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s4<-s3#1:OK,SUCCESS,nextIndex:50,term:2,followerCommit:47
2019-09-26 14:00:21,911 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: receive appendEntries(s4, 2, (t:2, i:49), 49, false, commits[s4:c49, s3:c47, s2:c47], entries: (t:2, i:50), METADATAENTRY(c49)
2019-09-26 14:00:21,911 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: receive appendEntries(s4, 2, (t:2, i:49), 49, false, commits[s4:c49, s3:c47, s2:c47], entries: (t:2, i:50), METADATAENTRY(c49)
2019-09-26 14:00:21,921 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s4<-s3#5:OK,SUCCESS,nextIndex:51,term:2,followerCommit:49
2019-09-26 14:00:21,922 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-4930FBA19EAC: succeeded to handle AppendEntries. Reply: s4<-s2#5:OK,SUCCESS,nextIndex:51,term:2,followerCommit:49
2019-09-26 14:00:22,093 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-4930FBA19EAC-FollowerState: change to CANDIDATE, lastRpcTime:184ms, electionTimeout:184ms
2019-09-26 14:00:22,093 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:22,093 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-4930FBA19EAC: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-26 14:00:22,093 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-26 14:00:22,108 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-4930FBA19EAC-LeaderElection46: begin an election at term 3 for 45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:22,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 3, (t:1, i:45))
2019-09-26 14:00:22,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 3, (t:1, i:45))
2019-09-26 14:00:22,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-4930FBA19EAC replies to vote request: s1<-s3#0:FAIL-t2. Peer's state: s3@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:22,112 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - s0: Failed requestVote s1->s0#0: org.apache.ratis.protocol.ServerNotReadyException: s0@group-4930FBA19EAC is not in [RUNNING]: current state is CLOSED
2019-09-26 14:00:22,111 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 3, (t:1, i:45))
2019-09-26 14:00:22,112 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-4930FBA19EAC: receive requestVote(s1, group-4930FBA19EAC, 3, (t:1, i:45))
2019-09-26 14:00:22,112 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-4930FBA19EAC replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:22,112 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-4930FBA19EAC replies to vote request: s1<-s4#0:FAIL-t2. Peer's state: s4@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null
2019-09-26 14:00:22,113 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-4930FBA19EAC-LeaderElection46: Election SHUTDOWN; received 2 response(s) [s1<-s3#0:FAIL-t2, s1<-s4#0:FAIL-t2] and 0 exception(s); s1@group-4930FBA19EAC:t3, leader=null, voted=s1, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c43,f45,i45, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470]
2019-09-26 14:00:22,113 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(213)) - s1@group-4930FBA19EAC-LeaderElection46 received shutdown response when requesting votes.
2019-09-26 14:00:22,114 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 14:00:22,114 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-4930FBA19EAC: shutdown
2019-09-26 14:00:22,114 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s1
2019-09-26 14:00:22,114 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-26 14:00:22,115 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-4930FBA19EAC-StateMachineUpdater: set stopIndex = 43
2019-09-26 14:00:22,115 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-4930FBA19EAC: closes. applyIndex: 43
2019-09-26 14:00:22,115 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-4930FBA19EAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:22,117 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-4930FBA19EAC-SegmentedRaftLogWorker close()
2019-09-26 14:00:22,121 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 38965 now
2019-09-26 14:00:22,123 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 38965 successfully
2019-09-26 14:00:22,408 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#48-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:22,408 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#44-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:22,408 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#48-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:22,408 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#44-t3, previous=(t:3, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:3, i:4), METADATAENTRY(c3)
2019-09-26 14:00:22,483 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#45-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,483 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#45-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,491 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#49-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,495 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#49-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,505 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(58)) - waitAndCheckNewConf: peers=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], deadPeers=null, printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null CLOSED
  s1:   CLOSED CANDIDATE s1@group-4930FBA19EAC:t3, leader=null, voted=s1, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] CLOSED
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:22,505 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s3@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:22,506 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s4@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:22,506 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null CLOSED
2019-09-26 14:00:22,506 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking CANDIDATE s1@group-4930FBA19EAC:t3, leader=null, voted=s1, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] CLOSED
2019-09-26 14:00:22,506 INFO  impl.RaftServerTestUtil (RaftServerTestUtil.java:waitAndCheckNewConf(66)) - checking  FOLLOWER s2@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:22,507 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:22,507 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null CLOSED
  s1:   CLOSED CANDIDATE s1@group-4930FBA19EAC:t3, leader=null, voted=s1, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] CLOSED
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:22,508 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null CLOSED
  s1:   CLOSED CANDIDATE s1@group-4930FBA19EAC:t3, leader=null, voted=s1, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] CLOSED
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:22,515 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:22,515 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:22,515 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:22,515 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:22,515 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:22,516 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s3@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s4@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-4930FBA19EAC:t1, leader=s0, voted=s0, raftlog=s0@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c47, conf=47: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null CLOSED
  s1:   CLOSED CANDIDATE s1@group-4930FBA19EAC:t3, leader=null, voted=s1, raftlog=s1@group-4930FBA19EAC-SegmentedRaftLog:CLOSED:c43, conf=45: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=[s3:0.0.0.0:38596, s4:0.0.0.0:41557, s0:0.0.0.0:42575, s1:0.0.0.0:38965, s2:0.0.0.0:38470] CLOSED
  s2:  RUNNING  FOLLOWER s2@group-4930FBA19EAC:t2, leader=s4, voted=s4, raftlog=s2@group-4930FBA19EAC-SegmentedRaftLog:OPENED:c50,f50,i50, conf=49: [s3:0.0.0.0:38596, s4:0.0.0.0:41557, s2:0.0.0.0:38470], old=null RUNNING
2019-09-26 14:00:22,517 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:22,517 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-4930FBA19EAC: shutdown
2019-09-26 14:00:22,517 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:22,517 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 14:00:22,518 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s3
2019-09-26 14:00:22,518 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 14:00:22,518 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:22,518 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 42575 now
2019-09-26 14:00:22,518 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-4930FBA19EAC: shutdown
2019-09-26 14:00:22,519 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-4930FBA19EAC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:22,519 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-4930FBA19EAC-StateMachineUpdater: set stopIndex = 50
2019-09-26 14:00:22,520 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-4930FBA19EAC: closes. applyIndex: 50
2019-09-26 14:00:22,519 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-4930FBA19EAC: shutdown
2019-09-26 14:00:22,520 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:22,519 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s4
2019-09-26 14:00:22,519 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 42575 successfully
2019-09-26 14:00:22,521 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s4: shutdown LeaderState
2019-09-26 14:00:22,520 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4930FBA19EAC,id=s2
2019-09-26 14:00:22,521 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-4930FBA19EAC->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:22,521 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s4@group-4930FBA19EAC->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:22,521 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s4@group-4930FBA19EAC-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:22,521 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:22,522 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#12-t2, previous=(t:2, i:50), leaderCommit=50, initializing? false, entries: <empty>
2019-09-26 14:00:22,522 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-4930FBA19EAC-StateMachineUpdater: set stopIndex = 50
2019-09-26 14:00:22,523 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-4930FBA19EAC-SegmentedRaftLogWorker close()
2019-09-26 14:00:22,522 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s2: Completed APPEND_ENTRIES, lastRequest: s4->s2#12-t2, previous=(t:2, i:50), leaderCommit=50, initializing? false, entries: <empty>
2019-09-26 14:00:22,522 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-4930FBA19EAC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:22,522 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-4930FBA19EAC-StateMachineUpdater: set stopIndex = 50
2019-09-26 14:00:22,525 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-4930FBA19EAC->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:22,523 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 38596 now
2019-09-26 14:00:22,523 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s4@group-4930FBA19EAC->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:22,523 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-4930FBA19EAC: closes. applyIndex: 50
2019-09-26 14:00:22,525 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-4930FBA19EAC: closes. applyIndex: 50
2019-09-26 14:00:22,526 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:22,526 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 38596 successfully
2019-09-26 14:00:22,526 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-4930FBA19EAC->s2: nextIndex: updateUnconditionally 51 -> 50
2019-09-26 14:00:22,526 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-4930FBA19EAC->s3: nextIndex: updateUnconditionally 51 -> 50
2019-09-26 14:00:22,526 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:22,529 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-4930FBA19EAC-SegmentedRaftLogWorker close()
2019-09-26 14:00:22,529 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 41557 now
2019-09-26 14:00:22,529 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 41557 successfully
2019-09-26 14:00:22,529 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-4930FBA19EAC-SegmentedRaftLogWorker close()
2019-09-26 14:00:22,530 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 38470 now
2019-09-26 14:00:22,530 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 38470 successfully
2019-09-26 14:00:22,530 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
2019-09-26 14:00:22,531 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-26 14:00:22,532 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-26 14:00:22,533 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-26 14:00:22,534 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithGrpc with group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:22,534 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-26 14:00:22,534 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-26 14:00:22,535 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithGrpc
2019-09-26 14:00:22,535 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-26 14:00:22,535 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-26 14:00:22,535 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-26 14:00:22,535 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], format? true
2019-09-26 14:00:22,535 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0
2019-09-26 14:00:22,536 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0 does not exist.
2019-09-26 14:00:22,536 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0
2019-09-26 14:00:22,536 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:22,537 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:22,537 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40345 (custom)
2019-09-26 14:00:22,537 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:22,537 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,538 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:22,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:22,539 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0] (custom)
2019-09-26 14:00:22,540 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] returns group-67655CD934B6:java.util.concurrent.CompletableFuture@399a6ee9[Not completed]
2019-09-26 14:00:22,540 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] with BaseStateMachine:uninitialized
2019-09-26 14:00:22,540 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], format? true
2019-09-26 14:00:22,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:22,540 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1
2019-09-26 14:00:22,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:22,541 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1 does not exist.
2019-09-26 14:00:22,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:22,541 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1
2019-09-26 14:00:22,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:22,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:22,542 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:22,542 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-67655CD934B6: ConfigurationManager, init=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:22,542 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:22,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0] (custom)
2019-09-26 14:00:22,542 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38383 (custom)
2019-09-26 14:00:22,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:22,543 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:22,543 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6 does not exist. Creating ...
2019-09-26 14:00:22,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,544 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:22,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:22,544 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:22,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1] (custom)
2019-09-26 14:00:22,545 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] returns group-67655CD934B6:java.util.concurrent.CompletableFuture@54abd9d9[Not completed]
2019-09-26 14:00:22,545 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] with BaseStateMachine:uninitialized
2019-09-26 14:00:22,546 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], format? true
2019-09-26 14:00:22,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:22,546 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2
2019-09-26 14:00:22,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:22,546 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:22,546 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2 does not exist.
2019-09-26 14:00:22,547 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2
2019-09-26 14:00:22,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:22,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:22,547 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:22,547 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-67655CD934B6: ConfigurationManager, init=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:22,548 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:22,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1] (custom)
2019-09-26 14:00:22,548 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41635 (custom)
2019-09-26 14:00:22,548 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:22,548 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:22,548 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6 does not exist. Creating ...
2019-09-26 14:00:22,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,549 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:22,549 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:22,549 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:22,549 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:22,550 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6/current
2019-09-26 14:00:22,550 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6/sm
2019-09-26 14:00:22,550 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2] (custom)
2019-09-26 14:00:22,551 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] returns group-67655CD934B6:java.util.concurrent.CompletableFuture@5a0a0e42[Not completed]
2019-09-26 14:00:22,551 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] with BaseStateMachine:uninitialized
2019-09-26 14:00:22,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:22,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:22,551 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:22,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:22,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:22,552 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-67655CD934B6: ConfigurationManager, init=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:22,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2] (custom)
2019-09-26 14:00:22,552 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:22,553 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6 does not exist. Creating ...
2019-09-26 14:00:22,553 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:22,558 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#46-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,558 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#46-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,563 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:22,563 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6 has been successfully formatted.
2019-09-26 14:00:22,563 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:22,563 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6/current
2019-09-26 14:00:22,563 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6/current
2019-09-26 14:00:22,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:22,564 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6/sm
2019-09-26 14:00:22,564 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6/sm
2019-09-26 14:00:22,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:22,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:22,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:22,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:22,565 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-67655CD934B6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:22,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:22,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:22,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:22,566 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#50-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:22,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:22,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:22,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:22,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:22,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:22,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:22,568 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-67655CD934B6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:22,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:22,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:22,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:22,570 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#50-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,572 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-67655CD934B6: start as a follower, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,572 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-67655CD934B6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:22,572 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:22,573 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s0
2019-09-26 14:00:22,575 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-26 14:00:22,576 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6 has been successfully formatted.
2019-09-26 14:00:22,576 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6 has been successfully formatted.
2019-09-26 14:00:22,576 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s0: GrpcService started, listening on 0.0.0.0/0.0.0.0:40345
2019-09-26 14:00:22,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:22,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:22,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:22,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:22,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:22,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:22,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:22,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:22,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:22,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:22,578 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-67655CD934B6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:22,578 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-67655CD934B6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:22,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:22,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:22,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:22,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:22,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:22,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:22,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:22,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:22,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:22,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:22,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:22,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:22,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:22,581 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-67655CD934B6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:22,581 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-67655CD934B6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:22,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:22,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:22,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:22,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:22,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:22,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:22,585 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-67655CD934B6: start as a follower, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,586 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-67655CD934B6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:22,586 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:22,586 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s1
2019-09-26 14:00:22,589 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-26 14:00:22,589 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s1: GrpcService started, listening on 0.0.0.0/0.0.0.0:38383
2019-09-26 14:00:22,590 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-67655CD934B6: start as a follower, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,590 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-67655CD934B6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:22,590 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-26 14:00:22,591 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s2
2019-09-26 14:00:22,593 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-26 14:00:22,594 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s2: GrpcService started, listening on 0.0.0.0/0.0.0.0:41635
2019-09-26 14:00:22,594 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:22,594 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
2019-09-26 14:00:22,595 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.runTestReconfTimeout(RaftReconfigurationBaseTest.java:211)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftReconfigurationBaseTest.testReconfTimeout(RaftReconfigurationBaseTest.java:207)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-26 14:00:22,634 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#47-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,634 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#47-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,641 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#51-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,646 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#51-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,709 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#48-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,709 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#48-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,716 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#52-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,721 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#52-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,765 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-67655CD934B6-FollowerState: change to CANDIDATE, lastRpcTime:174ms, electionTimeout:174ms
2019-09-26 14:00:22,765 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-26 14:00:22,765 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-67655CD934B6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:22,766 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-26 14:00:22,776 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-67655CD934B6-FollowerState: change to CANDIDATE, lastRpcTime:203ms, electionTimeout:203ms
2019-09-26 14:00:22,776 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:22,777 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-67655CD934B6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-26 14:00:22,777 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-26 14:00:22,781 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-67655CD934B6-LeaderElection47: begin an election at term 1 for -1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,782 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-67655CD934B6-LeaderElection48: begin an election at term 1 for -1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,784 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#49-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,784 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#49-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,787 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-67655CD934B6: receive requestVote(s2, group-67655CD934B6, 1, (t:0, i:0))
2019-09-26 14:00:22,788 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-67655CD934B6: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s2
2019-09-26 14:00:22,788 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:22,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-67655CD934B6: receive requestVote(s0, group-67655CD934B6, 1, (t:0, i:0))
2019-09-26 14:00:22,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-67655CD934B6: receive requestVote(s2, group-67655CD934B6, 1, (t:0, i:0))
2019-09-26 14:00:22,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-67655CD934B6: receive requestVote(s0, group-67655CD934B6, 1, (t:0, i:0))
2019-09-26 14:00:22,788 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-67655CD934B6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:22,788 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-26 14:00:22,789 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-67655CD934B6 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-67655CD934B6:t1, leader=null, voted=s2, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,788 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-67655CD934B6 replies to vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-67655CD934B6:t1, leader=null, voted=s0, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,792 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#53-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,796 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#53-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,802 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-67655CD934B6 replies to vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-67655CD934B6:t1, leader=null, voted=s2, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,803 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-67655CD934B6 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-67655CD934B6:t1, leader=null, voted=s2, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,804 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-67655CD934B6-LeaderElection47: Election PASSED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:OK-t1] and 0 exception(s); s2@group-67655CD934B6:t1, leader=null, voted=s2, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,804 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-26 14:00:22,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-67655CD934B6: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-26 14:00:22,804 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-67655CD934B6-LeaderElection48: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-67655CD934B6:t1, leader=null, voted=s0, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:22,804 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-67655CD934B6: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 227ms
2019-09-26 14:00:22,804 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-67655CD934B6: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-26 14:00:22,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 10 (custom)
2019-09-26 14:00:22,804 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-26 14:00:22,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-26 14:00:22,805 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-26 14:00:22,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-26 14:00:22,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-26 14:00:22,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-26 14:00:22,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-26 14:00:22,808 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:22,808 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,808 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:22,808 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:22,808 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:22,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:22,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:22,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:22,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:22,809 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:22,810 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:22,810 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:22,810 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-26 14:00:22,810 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-67655CD934B6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:22,811 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-67655CD934B6: set configuration 0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 0
2019-09-26 14:00:22,813 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-67655CD934B6: change Leader from null to s2 at term 1 for appendEntries, leader elected after 236ms
2019-09-26 14:00:22,813 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-67655CD934B6: change Leader from null to s2 at term 1 for appendEntries, leader elected after 250ms
2019-09-26 14:00:22,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:22,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:22,815 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-67655CD934B6: set configuration 0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 0
2019-09-26 14:00:22,816 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-67655CD934B6: set configuration 0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 0
2019-09-26 14:00:22,816 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-67655CD934B6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:22,816 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-67655CD934B6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:22,860 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#50-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,860 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#50-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,867 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#54-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,872 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#54-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,935 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#51-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,935 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#51-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,942 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#55-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,947 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#55-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:22,990 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-67655CD934B6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s2/9c70718b-95da-4638-9022-67655cd934b6/current/log_inprogress_0
2019-09-26 14:00:22,990 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-67655CD934B6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s0/9c70718b-95da-4638-9022-67655cd934b6/current/log_inprogress_0
2019-09-26 14:00:22,990 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-67655CD934B6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s1/9c70718b-95da-4638-9022-67655cd934b6/current/log_inprogress_0
2019-09-26 14:00:23,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:23,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-26 14:00:23,010 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#52-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,010 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#52-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,017 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#56-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,022 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#56-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,046 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-67655CD934B6:t1, leader=s2, voted=s0, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-67655CD934B6:t1, leader=s2, voted=s2, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-67655CD934B6:t1, leader=s2, voted=s2, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
2019-09-26 14:00:23,047 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(403)) - Add new peers [s3, s4]
2019-09-26 14:00:23,047 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], format? true
2019-09-26 14:00:23,047 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3
2019-09-26 14:00:23,048 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3 does not exist.
2019-09-26 14:00:23,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3
2019-09-26 14:00:23,048 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:23,049 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:23,049 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44918 (custom)
2019-09-26 14:00:23,049 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:23,050 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,050 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:23,050 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:23,051 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3] (custom)
2019-09-26 14:00:23,052 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] returns group-67655CD934B6:java.util.concurrent.CompletableFuture@39a699ba[Not completed]
2019-09-26 14:00:23,052 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] with BaseStateMachine:uninitialized
2019-09-26 14:00:23,052 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], format? true
2019-09-26 14:00:23,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:23,053 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4
2019-09-26 14:00:23,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:23,053 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4 does not exist.
2019-09-26 14:00:23,054 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4
2019-09-26 14:00:23,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:23,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:23,054 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:23,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:23,054 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:23,055 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-67655CD934B6: ConfigurationManager, init=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:23,055 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40984 (custom)
2019-09-26 14:00:23,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3] (custom)
2019-09-26 14:00:23,055 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:23,056 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:23,056 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,056 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6 does not exist. Creating ...
2019-09-26 14:00:23,056 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:23,057 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:23,057 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:23,057 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4] (custom)
2019-09-26 14:00:23,058 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] returns group-67655CD934B6:java.util.concurrent.CompletableFuture@2791a05b[Not completed]
2019-09-26 14:00:23,058 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-67655CD934B6:[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] with BaseStateMachine:uninitialized
2019-09-26 14:00:23,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:23,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:23,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:23,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:23,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:23,059 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-67655CD934B6: ConfigurationManager, init=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:23,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4] (custom)
2019-09-26 14:00:23,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:23,060 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6 does not exist. Creating ...
2019-09-26 14:00:23,060 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:23,070 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:23,070 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:23,070 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6/current
2019-09-26 14:00:23,070 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6/current
2019-09-26 14:00:23,071 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6/sm
2019-09-26 14:00:23,071 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6/sm
2019-09-26 14:00:23,085 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6 has been successfully formatted.
2019-09-26 14:00:23,085 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6 has been successfully formatted.
2019-09-26 14:00:23,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:23,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:23,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:23,085 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#53-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,085 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#53-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,085 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:23,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:23,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:23,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,086 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,087 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:23,087 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:23,087 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:23,087 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:23,087 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-67655CD934B6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:23,088 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-67655CD934B6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:23,088 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:23,088 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:23,088 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:23,088 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:23,088 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:23,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:23,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:23,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:23,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:23,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:23,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:23,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:23,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:23,091 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-67655CD934B6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:23,091 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-67655CD934B6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:23,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:23,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:23,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:23,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:23,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:23,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:23,093 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#57-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,095 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-67655CD934B6: start with initializing state, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:23,096 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-67655CD934B6: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:23,096 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s3
2019-09-26 14:00:23,098 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#57-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,099 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:23,100 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:44918
2019-09-26 14:00:23,100 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-67655CD934B6: start with initializing state, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:23,100 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-67655CD934B6: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-26 14:00:23,101 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s4
2019-09-26 14:00:23,104 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 14:00:23,104 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:40984
2019-09-26 14:00:23,105 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:23,105 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-67655CD934B6: shutdown
2019-09-26 14:00:23,105 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s3
2019-09-26 14:00:23,106 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-67655CD934B6-StateMachineUpdater: set stopIndex = -1
2019-09-26 14:00:23,106 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-67655CD934B6: closes. applyIndex: -1
2019-09-26 14:00:23,106 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-67655CD934B6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:23,106 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-67655CD934B6-SegmentedRaftLogWorker close()
2019-09-26 14:00:23,107 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 44918 now
2019-09-26 14:00:23,107 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 44918 successfully
2019-09-26 14:00:23,108 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 14:00:23,108 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-67655CD934B6: shutdown
2019-09-26 14:00:23,108 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s4
2019-09-26 14:00:23,108 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-67655CD934B6-StateMachineUpdater: set stopIndex = -1
2019-09-26 14:00:23,109 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-67655CD934B6: closes. applyIndex: -1
2019-09-26 14:00:23,109 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-67655CD934B6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:23,109 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-67655CD934B6-SegmentedRaftLogWorker close()
2019-09-26 14:00:23,110 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 40984 now
2019-09-26 14:00:23,110 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 40984 successfully
2019-09-26 14:00:23,110 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestReconfTimeout(215)) - Start changing the configuration: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:23,115 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-67655CD934B6: receive setConfiguration SetConfigurationRequest:client-BB5BDC37C403->s2@group-67655CD934B6, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:23,116 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-67655CD934B6-LeaderState: startSetConfiguration SetConfigurationRequest:client-BB5BDC37C403->s2@group-67655CD934B6, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:23,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:23,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:23,117 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:23,117 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:23,117 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:23,117 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:23,118 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,118 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:23,118 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:23,118 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:23,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:23,122 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,122 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,122 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:23,122 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:23,161 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s4-GrpcLogAppender: appendEntries Timeout, request=s1->s4#54-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,161 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s3-GrpcLogAppender: appendEntries Timeout, request=s1->s3#54-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,168 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#58-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,173 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#58-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,198 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,198 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,199 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,199 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,243 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s0-GrpcLogAppender: appendEntries Timeout, request=s1->s0#59-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,248 WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(200)) - s1@group-6A656F84A0E7->s2-GrpcLogAppender: appendEntries Timeout, request=s1->s2#59-t3, previous=(t:3, i:4), leaderCommit=3, initializing? false, entries: <empty>
2019-09-26 14:00:23,273 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,273 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,274 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,274 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,349 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,349 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,350 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,350 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,425 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,426 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,426 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,427 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,501 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,501 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,502 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,502 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,577 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,577 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,578 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,578 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,653 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,653 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,653 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,654 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,729 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,729 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,730 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,730 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,805 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,805 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,806 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,806 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,882 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,882 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,882 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,882 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,902 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s2@group-67655CD934B6-LeaderState detects a follower s2@group-67655CD934B6->s3(c-1,m0,n0, attendVote=false, lastRpcSendTime=22, lastRpcResponseTime=1085) timeout (35.632s) for bootstrapping
2019-09-26 14:00:23,902 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s2@group-67655CD934B6-LeaderState detects a follower s2@group-67655CD934B6->s4(c-1,m0,n0, attendVote=false, lastRpcSendTime=22, lastRpcResponseTime=1086) timeout (35.632s) for bootstrapping
2019-09-26 14:00:23,902 DEBUG impl.RaftServerImpl (LeaderState.java:fail(769)) - s2@group-67655CD934B6-ConfigurationStagingState: Fail to set configuration [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] due to NOPROGRESS
2019-09-26 14:00:23,902 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:23,903 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:23,909 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestReconfTimeout(231)) - printing ALL groups
  s3:   CLOSED  FOLLOWER s3@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s3@group-67655CD934B6-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null CLOSED
  s4:   CLOSED  FOLLOWER s4@group-67655CD934B6:t0, leader=null, voted=null, raftlog=s4@group-67655CD934B6-SegmentedRaftLog:CLOSED:c-1, conf=-1: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-67655CD934B6:t1, leader=s2, voted=s0, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-67655CD934B6:t1, leader=s2, voted=s2, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-67655CD934B6:t1, leader=s2, voted=s2, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
2019-09-26 14:00:23,911 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-67655CD934B6: receive setConfiguration SetConfigurationRequest:client-BB5BDC37C403->s2@group-67655CD934B6, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:23,912 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-67655CD934B6-LeaderState: startSetConfiguration SetConfigurationRequest:client-BB5BDC37C403->s2@group-67655CD934B6, cid=0, seq=0, RW, null, peers:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:23,912 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:23,913 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,913 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:23,913 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:23,914 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:23,914 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:23,914 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:23,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:23,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:23,915 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:23,915 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:23,916 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:23,919 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,919 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,919 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:23,919 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:23,995 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,995 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:23,995 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:23,995 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,071 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,071 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,072 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,072 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,147 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,147 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,147 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,147 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,222 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,223 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,223 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,223 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,298 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,298 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,298 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,299 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,373 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,374 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,374 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,375 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,449 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,449 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,450 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,450 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,525 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,526 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,526 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,526 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,601 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,601 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,602 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,602 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,677 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,677 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,677 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,677 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,752 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,753 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-09-26 14:00:24,753 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,753 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 0 -> 0
2019-09-26 14:00:24,803 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s2@group-67655CD934B6-LeaderState detects a follower s2@group-67655CD934B6->s3(c-1,m0,n0, attendVote=false, lastRpcSendTime=52, lastRpcResponseTime=1191) timeout (36.534s) for bootstrapping
2019-09-26 14:00:24,804 DEBUG impl.RaftServerImpl (LeaderState.java:checkProgress(498)) - s2@group-67655CD934B6-LeaderState detects a follower s2@group-67655CD934B6->s4(c-1,m0,n0, attendVote=false, lastRpcSendTime=53, lastRpcResponseTime=1191) timeout (36.534s) for bootstrapping
2019-09-26 14:00:24,804 DEBUG impl.RaftServerImpl (LeaderState.java:fail(769)) - s2@group-67655CD934B6-ConfigurationStagingState: Fail to set configuration [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] due to NOPROGRESS
2019-09-26 14:00:24,804 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:24,804 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:24,810 INFO  grpc.TestRaftReconfigurationWithGrpc (RaftReconfigurationBaseTest.java:runTestReconfTimeout(244)) - Start new peers
2019-09-26 14:00:24,810 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s3
2019-09-26 14:00:24,810 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-67655CD934B6:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], format? false
2019-09-26 14:00:24,810 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:24,811 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:24,811 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44918 (custom)
2019-09-26 14:00:24,811 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:24,812 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:24,812 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:24,812 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:24,813 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3] (custom)
2019-09-26 14:00:24,813 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s3: found a subdirectory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:24,814 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-67655CD934B6:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] returns group-67655CD934B6:java.util.concurrent.CompletableFuture@5c31287e[Not completed]
2019-09-26 14:00:24,814 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-67655CD934B6:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] with BaseStateMachine:uninitialized
2019-09-26 14:00:24,814 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:24,814 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:24,815 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:24,815 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:24,815 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:24,815 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-67655CD934B6: ConfigurationManager, init=-1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:24,815 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3] (custom)
2019-09-26 14:00:24,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:24,830 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:24,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:24,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:24,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:24,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:24,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:24,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:24,832 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-67655CD934B6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:24,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:24,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:24,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:24,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:24,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:24,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:24,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:24,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:24,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:24,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:24,834 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-67655CD934B6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:24,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:24,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:24,835 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:24,835 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-67655CD934B6: start as a follower, conf=-1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:24,835 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-67655CD934B6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:24,836 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-26 14:00:24,836 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s3
2019-09-26 14:00:24,837 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-26 14:00:24,838 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s3: GrpcService started, listening on 0.0.0.0/0.0.0.0:44918
2019-09-26 14:00:24,838 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s4
2019-09-26 14:00:24,838 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-67655CD934B6:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], format? false
2019-09-26 14:00:24,838 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-26 14:00:24,839 INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-26 14:00:24,839 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40984 (custom)
2019-09-26 14:00:24,839 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2019-09-26 14:00:24,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:24,840 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-26 14:00:24,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:24,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4] (custom)
2019-09-26 14:00:24,841 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s4: found a subdirectory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:24,841 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-67655CD934B6:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] returns group-67655CD934B6:java.util.concurrent.CompletableFuture@5722167b[Not completed]
2019-09-26 14:00:24,842 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-67655CD934B6:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] with BaseStateMachine:uninitialized
2019-09-26 14:00:24,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-26 14:00:24,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-26 14:00:24,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-26 14:00:24,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-26 14:00:24,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:24,843 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-67655CD934B6: ConfigurationManager, init=-1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null, confs=<EMPTY_MAP>
2019-09-26 14:00:24,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4] (custom)
2019-09-26 14:00:24,843 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-26 14:00:24,849 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6/in_use.lock acquired by nodename 26961@ratis-test-vpfcj-1787858657
2019-09-26 14:00:24,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-26 14:00:24,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-26 14:00:24,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-26 14:00:24,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:24,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:24,851 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-26 14:00:24,851 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-67655CD934B6-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6
2019-09-26 14:00:24,851 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-26 14:00:24,851 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-26 14:00:24,851 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-26 14:00:24,851 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-26 14:00:24,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-26 14:00:24,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-26 14:00:24,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-26 14:00:24,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-26 14:00:24,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-26 14:00:24,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-26 14:00:24,853 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-67655CD934B6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-26 14:00:24,853 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-26 14:00:24,853 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-26 14:00:24,854 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-26 14:00:24,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-67655CD934B6: start as a follower, conf=-1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null
2019-09-26 14:00:24,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-67655CD934B6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-26 14:00:24,854 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-26 14:00:24,855 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s4
2019-09-26 14:00:24,855 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-26 14:00:24,856 INFO  server.GrpcService (GrpcService.java:startImpl(158)) - s4: GrpcService started, listening on 0.0.0.0/0.0.0.0:40984
2019-09-26 14:00:24,858 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s2@group-67655CD934B6: receive setConfiguration SetConfigurationRequest:client-BB5BDC37C403->s2@group-67655CD934B6, cid=51, seq=0, RW, null, peers:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:24,858 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s2@group-67655CD934B6-LeaderState: startSetConfiguration SetConfigurationRequest:client-BB5BDC37C403->s2@group-67655CD934B6, cid=51, seq=0, RW, null, peers:[s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635]
2019-09-26 14:00:24,858 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:24,859 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:24,859 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:24,859 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:24,859 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:24,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:24,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-26 14:00:24,860 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-26 14:00:24,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-26 14:00:24,861 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-09-26 14:00:24,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-26 14:00:24,861 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-26 14:00:24,880 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-67655CD934B6: change Leader from null to s2 at term 1 for appendEntries, leader elected after 30ms
2019-09-26 14:00:24,880 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-67655CD934B6: change Leader from null to s2 at term 1 for appendEntries, leader elected after 49ms
2019-09-26 14:00:24,881 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-67655CD934B6: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:24,881 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-67655CD934B6: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-26 14:00:24,881 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-67655CD934B6: inconsistency entries. Reply:s2<-s4#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:24,881 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-67655CD934B6: inconsistency entries. Reply:s2<-s3#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-26 14:00:24,882 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:24,882 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-26 14:00:24,884 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: receive appendEntries(s2, 1, null, 0, true, commits[s2:c0, s0:c0, s1:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:24,884 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-67655CD934B6: set configuration 0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 0
2019-09-26 14:00:24,884 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-67655CD934B6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:24,884 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: receive appendEntries(s2, 1, null, 0, true, commits[s2:c0, s0:c0, s1:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-26 14:00:24,885 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-67655CD934B6: set configuration 0: [s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 0
2019-09-26 14:00:24,885 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-67655CD934B6-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-26 14:00:24,994 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-67655CD934B6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s3/9c70718b-95da-4638-9022-67655cd934b6/current/log_inprogress_0
2019-09-26 14:00:24,994 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-67655CD934B6-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/700eb1ac/MiniRaftClusterWithGrpc31a3d4ab/s4/9c70718b-95da-4638-9022-67655cd934b6/current/log_inprogress_0
2019-09-26 14:00:24,995 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s3#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 14:00:24,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s4#1:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-26 14:00:25,105 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-67655CD934B6: set configuration 1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] at 1
2019-09-26 14:00:25,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:25,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:25,106 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-67655CD934B6: set configuration 1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] at 1
2019-09-26 14:00:25,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:25,106 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-26 14:00:25,107 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-67655CD934B6: set configuration 1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] at 1
2019-09-26 14:00:25,106 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-67655CD934B6: set configuration 1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] at 1
2019-09-26 14:00:25,107 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-67655CD934B6: set configuration 1: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=[s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635] at 1
2019-09-26 14:00:25,116 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s0#31:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:25,117 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s4#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:25,117 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s3#4:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:25,117 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s1#31:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-26 14:00:25,119 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-67655CD934B6: set configuration 3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 3
2019-09-26 14:00:25,119 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:25,119 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:25,119 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:25,119 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-26 14:00:25,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:25,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:25,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:25,120 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-67655CD934B6: set configuration 3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 3
2019-09-26 14:00:25,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits[s2:c1, s0:c0, s1:c0, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-26 14:00:25,121 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-67655CD934B6: set configuration 3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 3
2019-09-26 14:00:25,121 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-67655CD934B6: set configuration 3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 3
2019-09-26 14:00:25,121 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-67655CD934B6: set configuration 3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null at 3
2019-09-26 14:00:25,140 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s1#32:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:25,140 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s4#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:25,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s0#32:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:25,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s3#5:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-26 14:00:25,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s4#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:25,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s1#33:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:25,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s0#33:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:25,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s3#6:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-26 14:00:25,145 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits[s2:c3, s0:c1, s1:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,145 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits[s2:c3, s0:c1, s1:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,145 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits[s2:c3, s0:c1, s1:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,145 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-67655CD934B6: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits[s2:c3, s0:c1, s1:c1, s3:c1, s4:c1], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,146 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-26 14:00:25,146 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-26 14:00:25,146 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithGrpc
2019-09-26 14:00:25,146 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-26 14:00:25,147 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-26 14:00:25,147 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-67655CD934B6:t1, leader=s2, voted=null, raftlog=s3@group-67655CD934B6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-67655CD934B6:t1, leader=s2, voted=null, raftlog=s4@group-67655CD934B6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-67655CD934B6:t1, leader=s2, voted=s0, raftlog=s0@group-67655CD934B6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-67655CD934B6:t1, leader=s2, voted=s2, raftlog=s1@group-67655CD934B6-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-67655CD934B6:t1, leader=s2, voted=s2, raftlog=s2@group-67655CD934B6-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:0.0.0.0:44918, s4:0.0.0.0:40984, s0:0.0.0.0:40345, s1:0.0.0.0:38383, s2:0.0.0.0:41635], old=null RUNNING
2019-09-26 14:00:25,148 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-26 14:00:25,148 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-67655CD934B6: shutdown
2019-09-26 14:00:25,148 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-26 14:00:25,148 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-26 14:00:25,148 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-26 14:00:25,149 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-67655CD934B6: shutdown
2019-09-26 14:00:25,149 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-26 14:00:25,149 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-67655CD934B6: shutdown
2019-09-26 14:00:25,148 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s3
2019-09-26 14:00:25,149 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s0
2019-09-26 14:00:25,150 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-26 14:00:25,149 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-67655CD934B6: shutdown
2019-09-26 14:00:25,149 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s4
2019-09-26 14:00:25,149 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-67655CD934B6: shutdown
2019-09-26 14:00:25,151 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-26 14:00:25,150 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s2
2019-09-26 14:00:25,150 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-67655CD934B6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:25,150 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-67655CD934B6-StateMachineUpdater: set stopIndex = 1
2019-09-26 14:00:25,152 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-67655CD934B6: closes. applyIndex: 1
2019-09-26 14:00:25,150 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-26 14:00:25,151 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-26 14:00:25,151 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-67655CD934B6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:25,152 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:25,152 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:25,151 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-67655CD934B6-StateMachineUpdater: set stopIndex = 1
2019-09-26 14:00:25,151 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-67655CD934B6,id=s1
2019-09-26 14:00:25,153 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-26 14:00:25,153 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s3: Completed APPEND_ENTRIES, lastRequest: s2->s3#7-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,153 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-67655CD934B6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:25,153 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-67655CD934B6: closes. applyIndex: 1
2019-09-26 14:00:25,153 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#34-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,152 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:25,152 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(143)) - s2@group-67655CD934B6->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-09-26 14:00:25,152 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-67655CD934B6-PendingRequests: sendNotLeaderResponses
2019-09-26 14:00:25,152 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-67655CD934B6-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-26 14:00:25,155 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s3#7:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:25,152 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-67655CD934B6-StateMachineUpdater: set stopIndex = 1
2019-09-26 14:00:25,155 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#34-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,155 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-67655CD934B6-StateMachineUpdater: set stopIndex = 3
2019-09-26 14:00:25,155 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-67655CD934B6: succeeded to handle AppendEntries. Reply: s2<-s1#34:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-26 14:00:25,154 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - s4: Completed APPEND_ENTRIES, lastRequest: s2->s4#7-t1, previous=(t:1, i:3), leaderCommit=3, initializing? false, entries: size=1, first=(t:1, i:4), METADATAENTRY(c3)
2019-09-26 14:00:25,154 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-67655CD934B6->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:25,154 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-67655CD934B6->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:25,153 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-67655CD934B6-StateMachineUpdater: set stopIndex = 1
2019-09-26 14:00:25,156 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-67655CD934B6->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:25,156 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-67655CD934B6: closes. applyIndex: 3
2019-09-26 14:00:25,155 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-67655CD934B6-SegmentedRaftLogWorker close()
2019-09-26 14:00:25,156 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(293)) - s2@group-67655CD934B6->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-09-26 14:00:25,157 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s4: shutdown server with port 40984 now
2019-09-26 14:00:25,155 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-67655CD934B6-SegmentedRaftLogWorker close()
2019-09-26 14:00:25,155 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-67655CD934B6: closes. applyIndex: 1
2019-09-26 14:00:25,158 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:25,158 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s0: shutdown server with port 40345 now
2019-09-26 14:00:25,158 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s4: shutdown server with port 40984 successfully
2019-09-26 14:00:25,158 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s4: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:25,157 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-67655CD934B6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:25,157 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s3: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:25,157 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-67655CD934B6->s0: nextIndex: updateUnconditionally 5 -> 4
2019-09-26 14:00:25,157 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-67655CD934B6: closes. applyIndex: 1
2019-09-26 14:00:25,159 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s0: shutdown server with port 40345 successfully
2019-09-26 14:00:25,160 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-67655CD934B6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:25,158 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-67655CD934B6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-26 14:00:25,161 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-67655CD934B6-SegmentedRaftLogWorker close()
2019-09-26 14:00:25,161 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s2: shutdown server with port 41635 now
2019-09-26 14:00:25,161 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-67655CD934B6-SegmentedRaftLogWorker close()
2019-09-26 14:00:25,162 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-67655CD934B6-SegmentedRaftLogWorker close()
2019-09-26 14:00:25,162 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s2: shutdown server with port 41635 successfully
2019-09-26 14:00:25,162 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s3: shutdown server with port 44918 now
2019-09-26 14:00:25,162 INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - s1: shutdown server with port 38383 now
2019-09-26 14:00:25,162 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s3: shutdown server with port 44918 successfully
2019-09-26 14:00:25,162 INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - s1: shutdown server with port 38383 successfully
2019-09-26 14:00:25,163 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithGrpc shutdown completed
